;-----------------------Jiraiya-------------------------------------------------
[Info]
name = "Jiraiya"
displayname = "Jiraiya"
versiondate = 00/00/2011
mugenversion = 1.0
author = "FLOSSR3"
pal.defaults = 1,2,3
;-------------------------------------------------------------------------------
[Data]
life = 1000
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40


[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2.4
walk.back = -2.2
run.fwd  = 4.6, 0
run.back = -4.5,-3.8
jump.neu = 0,-8.4
jump.back = -2.55
jump.fwd = 2.5
runjump.back = -2.55,-8.1
runjump.fwd = 4,-8.1
airjump.neu = 0,-8.1
airjump.back = -2.55
airjump.fwd = 2.5

[Movement]
airjump.num = 1
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82
stand.friction.threshold = 1.0
crouch.friction.threshold = 1.0
air.gethit.groundlevel = 25
air.gethit.groundrecover.ground.threshold = -20
air.gethit.groundrecover.groundlevel = 10
air.gethit.airrecover.threshold = -1
air.gethit.airrecover.yaccel = 0.35
air.gethit.trip.groundlevel = 15
down.bounce.offset = 0, 20
down.bounce.yaccel = 0.4
down.bounce.groundlevel = 12
down.friction.threshold = 0.5
;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...
;-------------------------------------------------------------------------------
;[Statedef 169] ;QUICK TRANS FOR HELP
;type    = S
;movetype= A
;physics = S
;juggle  = 1
;ctrl = 0
;anim = 200
;poweradd = 50
;sprpriority = 0
;[State 0, VarSet]
;type = VarSet
;trigger1 = time = 0
;v = 10    ;fv = 10
;value = 1
;[State 0, ChangeState]
;type = ChangeState
;trigger1 =time = 1
;value = 0
;ctrl = 1
;-------------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 190]
type = ChangeState
trigger1 = var(10) = 0
trigger1 = Time = 0
value = 181

[State 190]
type = ChangeState
trigger1 = var(10) = 1
trigger1 = Time = 0
value = 182
;-------------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 19
flag = invisible


[State 0, Explod]
type = Explod
trigger1 = time = 17
anim = 6007
ID = 6007
pos = 4,-35
postype = p1
removetime = -2
scale = 0.8,0.8
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 17
anim = 6008
ID = 6008
pos = 4,-35
postype = p1
removetime = -2
scale = 1,1
ontop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S5,0
volume = 256
channel = -1

[State 0, Trans]
type = Trans
trigger1 = time = [11,18]
trans = addalpha
alpha = 256-(time*32),time*32

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 43
flag = invisible

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 183
ID = 183
pos = 0,0
postype = p1
removetime = -2
scale = 1,1
sprpriority = 7
ontop = 0

[State 0, Explod]
type = Explod
trigger1 = time = 8 || time = 43
anim = 6007
ID = 6007
pos = 4,-35
postype = p1
removetime = -2
scale = 0.8,0.8
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 8 || time = 43
anim = 6008
ID = 6008
pos = 4,-35
postype = p1
removetime = -2
scale = 1,1
ontop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7 || time = 42
value = S5,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S18,0
volume = 256
channel = -1


[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;-------------------------------------------------------------------------------
[Statedef 189]
type = S
physics = S
velset = 0,0
anim = 189
poweradd = -15
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6007
ID = 6007
pos = 4,-35
postype = p1
removetime = -2
scale = 0.8,0.8
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6008
ID = 6008
pos = 4,-35
postype = p1
removetime = -2
scale = 1,1
ontop = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = ifelse(facing = 1,p2dist x + 50,ifelse(facing = -1,p2dist x + 70,p2dist x + 90))
y = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1 && animelem = 5
time = 5
freq = 166
ampl = -2
phase = 77

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,0
volume = 256
channel = -1

[State 0, Trans]
type = Trans
trigger1 = time = [1,9]
trans = addalpha
alpha = 256-(time*32),time*32

[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 107
ctrl = 1
;-------------------------------------------------------------------------------
; Introduction
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 192, 2]
type = ChangeState
trigger1 = animtime = 0
trigger2 = (command = "a" || command = "b" || command = "c" || command = "x" || command = "y" || command = "z") || name = "Jiraiya" && enemy,stateno = 0
value = 0

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = time = 0 && random<=500
value = 191

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = time = 0
value = 192
;-------------------------------------------------------------------------------
; Introduction
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 =  1
value = 0
movecamera = 0,0

[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 191
ID = 191
pos = 0,10
postype = p1
removetime = 35
scale = 1,1
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,0
volume = 256
channel = -1

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 6020
ID = 6020
pos = 4,-25
postype = p1
removetime = -2
scale = 0.5,0.7
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 6022
ID = 6022
pos = 4,11
postype = p1
removetime = -2
scale = 0.3,0.34
ontop = 1


[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 6007
ID = 6007
pos = 4,-35
postype = p1
removetime = -2
scale = 1,1
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 6008
ID = 6008
pos = 4,-35
postype = p1
removetime = -2
scale = 1,1
ontop = 1

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 50
;-------------------------------------------------------------------------------
; Introduction
[Statedef 192]
type = S
ctrl = 0
anim = 193
velset = 0,0


[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 192
ID = 192
pos = -87,0
postype = p1
removetime = 45
scale = 0.25,0.25
ontop = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 || time = 45
value = S5,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S20,0
volume = 256
channel = -1

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, Explod]
type = Explod
trigger1 = time = 2 || time = 45
anim = 6021
ID = 6021
pos = -50,-40
postype = p1
removetime = -2
scale = 0.7,0.8
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 2 || time = 45
anim = 6022
ID = 6022
pos = -45,11
postype = p1
removetime = -2
scale = 0.5,0.6
ontop = 1

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = !animtime
value = 50
;-------------------------------------------------------------------------------
[Statedef 194]
type = S
movetype = I
physics = S
sprpriority = 2
anim = 6028
velset = 0,0
ctrl = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 6024
ID = 6024
pos = 7,-31
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.3,0.43
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 6025
ID = 6024
pos = 7,-31
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 0.4,0.58
ontop = 1
ownpal = 1




[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time <= 16
ID = 6024
trans = addalpha
alpha = time*16,256

[State 0, VarAdd]
type = VarAdd
trigger1 = var(7) != 0
trigger2 = var(7) = 0
trigger2 = parent,stateno != 195
v = 7
value = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = var(7) != 0
ID = 6024
trans = addalpha
alpha = 256-var(7)*16,256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = var(7) = 16
id = 6024

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(7) = 16
;-------------------------------------------------------------------------------
[Statedef 195]
type    = S
movetype= I
physics = S
juggle  = 5
ctrl = 0
anim = 195

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S17,0
volume = 256
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S16,1
volume = 256
channel = -1

[State 0, StopSnd]
type = StopSnd
trigger1 = !command = "hold_s"
channel = -1

[State 0, 0]
type = PlaySnd
trigger1 =((GameTime%100) = 0)
value = S18,1
channel = -1


[State 0, Chakra Charge PalFx]
type = PalFX
trigger1 = time = 1
time = 10
add = 0,120,256
mul = 192,192,256
sinadd = 100,100,100,7

[State 0, Helper]
type = Helper
trigger1 = !time
helpertype = normal
name = "Chakra"
ID = 194
stateno = 194
pos = 0,0
postype = p1
facing = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 111
ampl = -1
phase = 33

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = 0.3*time/5

[State 440, 5]
type = ChangeState
trigger1 = command != "hold_s"
value = 196
ctrl = 1

[State 440, 5]
type = ChangeState
trigger1 = command = "hold_s"
trigger1 = power >=3000
value = 197
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 196]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 196
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S12,0
volume = 0
channel = -1


[State 440, 5]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 197]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 197
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S16,0
volume = 256
channel = -1

[State 0, 0]
type = PlaySnd
trigger1 =((GameTime%100) = 0)
value = S18,0
channel = -1

[State 0, StopSnd]
type = StopSnd
trigger1 = !command = "hold_s"
channel = -1

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 6026
ID = 6026
pos = 4,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = command = "hold_s"
trigger1 = time > 15
trigger1 = timemod = 42,0
anim = 6027
ID = 6027
pos = 6,-53
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, ModifyExplod]
type = ModifyExplod
Trigger1 = 1
ID = 6027
Scale =.1+((Time/88.0)*.22),.1+((Time/88.0)*.22)
IgnoreHitPause = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_s"
id = 6027

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = command != "hold_s"
id = 6026


[State 197, 5]
type = ChangeState
trigger1 = command != "hold_s"
;trigger1 = time < 100
value = 196
ctrl = 1

[State 0, Explod]
type = Explod
triggerall = gametime%5
trigger1 = time = 240
anim = 6030
ID = 6030
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 235
value = S19,0
volume = 256
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 45
freq = 90
ampl = -1
phase = 30

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0: 645]
type  = Helper
trigger1 = (time > 170)
trigger1 = (TimeMod = 10,0)
helpertype = normal
name = "Sage-Mode-Power"
id = 8005
pos = 0,0
postype = p1
facing = 1
stateno = 8005
supermovetime = 9999
pausemovetime = 9999
size.xscale = 1.3
size.yscale = 1.3


[State 197, 5]
type = ChangeState
trigger1 = command = "hold_s"
trigger1 = time > 240
value = 198
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 198]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 198
sprpriority = 2

[State 0, Pause]
type = Pause
trigger1 = time = 1
time = 118
movetime = 118

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 110

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =  1
flag = nobardisplay
flag2 = nomusic
flag3 = unguardable


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6031
ID = 6031
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = 50
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 6032
ID = 6032
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = 75
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 115
anim = 6029
ID = 6029
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 115
v = 10
value = 1


[State 440, 5]
type = ChangeState
trigger1 = time = 115
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 199]
type    = S
movetype= A
physics = S
velset = 0,0
anim = ifelse(StateType = S,199,11)
poweradd = -15
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6007
ID = 6007
pos = 4,-35
postype = p1
removetime = -2
scale = 0.8,0.8
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6008
ID = 6008
pos = 4,-35
postype = p1
removetime = -2
scale = 1,1
ontop = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = p2dist x +ifelse(facing = -1,120+RANDOM%2,150+RANDOM%2)
y = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1 && animelem = 5
time = 5
freq = 166
ampl = -2
phase = 77

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,0
volume = 256
channel = -1

[State 0, Trans]
type = Trans
trigger1 = time = [1,9]
trans = addalpha
alpha = 256-(time*32),time*32


[State 0, ChangeState]
type = ChangeState
trigger1 =! animtime
value = ifelse(StateType = S,0,11)
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 200
poweradd = 50
sprpriority = 0



[State 0, EnvShake]
type = EnvShake
trigger1 = time = 3
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 3
value = fvar(3)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,10+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,6+(random%2)
volume = 256
channel = -1


[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = hard
hitsound = s9,1+ (random%2)
guardsound = s9,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 5
air.hittime = 15
ground.velocity = -11.8
guard.velocity = -11.5
air.velocity = -11,-2
airguard.velocity = -1,-1
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=50),var(4):=-40
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0


[State 200,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 210]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 210
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(2) = 2
anim = 6019
ID = 6019
pos = -5,4
postype = p1
removetime = -2
scale = 0.4,0.5
ontop = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 4
value = fvar(4)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,5+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = s9,4+ (random%2)
guardsound = s9,4+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 8
air.hittime = 8
ground.velocity = -1.8
guard.velocity = -1.5
air.velocity = -1,-1
airguard.velocity = -1,-0.5
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=50),var(4):=-43
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0

[State 200,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 220]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 220
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(2) = 2
anim = 6019
ID = 6019
pos = -10,0
postype = p1
removetime = -2
scale = 0.2,0.5
ontop = 1



[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = fvar(5)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S7,2
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,8+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,4+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = S11,1+ (random%2)
guardsound = S11,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -5.8,-3
guard.velocity = -4.5
air.velocity = -5
airguard.velocity = -1,-0.5
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=36),var(4):=-65
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
p2stateno = 820

[State 220, 5]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 230]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 230
sprpriority = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6
value = fvar(6)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,7
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S7,2
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = S11,0
guardsound = S11,0
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -5.8
guard.velocity = -5.5
air.velocity = -5,-1
airguard.velocity = -1,-0.5
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=46),var(4):=-26
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0

[State 230, 5]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 240
poweradd = 10
sprpriority = 0


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 3
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 7
value = fvar(7)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,10+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,6+(random%2)
volume = 256
channel = -1


[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = hard
hitsound = s9,1+ (random%2)
guardsound = s9,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 5
air.hittime = 15
ground.velocity = -3.8
guard.velocity = -3.5
air.velocity = -3,-2
airguard.velocity = -1,-1
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=50),var(4):=-40
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0

[State 0, Explod]
type = Explod
trigger1 = animelemtime(2) = 2
anim = 6019
ID = 6019
pos = -8,4
postype = p1
removetime = -2
scale = 0.35,0.53
ontop = 1


[State 240,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 250]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 250
sprpriority = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(2) = 2
anim = 6019
ID = 6019
pos = -15,4
postype = p1
removetime = -2
scale = 0.4,0.5
ontop = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 8
value = fvar(8)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,5+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = s9,4+ (random%2)
guardsound = s9,4+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 8
air.hittime = 8
ground.velocity = -31.8
guard.velocity = -31.5
air.velocity = -31,-1
airguard.velocity = -31,-0.5
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=27),var(4):=-41
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0

[State 250,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 260]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 260
sprpriority = 1


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 9
value = fvar(9)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,8+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,4+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = S9,8+ (random%2)
guardsound = S9,8+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -3.8,-3
guard.velocity = -3.5
air.velocity = -5
airguard.velocity = -1,-0.5
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=70),var(4):=-50
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0


[State 260, 5]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
poweradd = -100
ctrl = 0
anim = 270
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S12,1
volume = 256
channel = -1

[State 700]
type = PlaySnd
trigger1 = time = 7
value = S13,3


[State 700]
type = Helper
triggerall = time > 23
trigger1 = timemod = 5,0
helpertype = normal
name = "Katon"
stateno = 271
ID = 272
pos = 25,-45
postype = p1
facing = 1
ownpal = 0
supermovetime = 999999
pausemovetime = 999999
size.xscale =.19
size.yscale =.19

[State 700]
Type=VarSet
Trigger1 = 1
fvar(13) = (EnemyNear(0),Pos X-Pos X)*Facing  ;p2 following

[State 700]
Type=VarSet
trigger1 = 1
fvar(14) = (EnemyNear(0),pos Y-Pos Y) ;p2 long distance from p1

[State 700]
Type = VarSet
trigger1 = 1
fvar(15) = Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14)))) ;the real distance

[State 700]
type = ChangeState
trigger1 = time = 70
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 271]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 271
sprpriority = 3

[State 700]
type = PlaySnd
trigger1 = RootDist x
value = S13,1
volume = -256


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1

[State 701]
type = VelSet
trigger1 = time = 1
x = (Parent,Fvar(13))/(Parent,fvar(15)+.1)*17.0
y = (Parent,FVar(14))/(Parent,fvar(15)+.1)*17.0




[State 701]
type = HitDef
trigger1 = time = 0
attr = S,NP
hitflag = MAF
guardflag = HL
ground.type = high
air.type = high
damage = 15,7
animtype = Up
priority = 3, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = -1.3,-3
airguard.velocity = -1.3,-3
air.type = high
air.velocity = -1.1,-2
air.hittime = 1
fall = 1
fall.recover = 1
persistent = 1
palfx.time = 55
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5
fall.yvelocity = -4.5
air.fall = 0
down.bounce = 1

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 5,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.314,.314),cond(random<500,.314,.314)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)


[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1

;[State 0, AngleSet]
;type=AngleSet
;trigger1 = 1
;value = Ceil((atan((-Vel Y)/Vel X))*(180/(pi)))
;IgnoreHitPause = 1


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = ifelse(random%2,11,13)
y = ifelse(random%2,-2,2)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 272
time = 0
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 272
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 272]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
anim = 272
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S13,2
volume = 256
channel = -1



[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2,2

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 300]
type = S
movetype = A
physics = S
anim = 300
sprpriority = 1
poweradd = -500
velset = 0,0
ctrl = 0


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S13,4
volume = -256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14,1
volume = 256
channel = -1

[State 0, SuperPause]
type = SuperPause
trigger1 = !time
time = 25
movetime = 25
anim = S6023
pos = 4,-32
scale = 0.5,0.5
darken = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 18
time = 1
add = 0,0,0
mul = 64,64,64

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [18,26]
time = 1
add = 0,0,0
mul = 64+(time-18)*24,64+(time-18)*24,64+(time-18)*24


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 27
time = 11
freq = 111
ampl = -2
phase = 34


[State 0, Helper]
type = Helper
trigger1 = time = 27
helpertype = normal
name = "Katon:Dain-Endan"
ID = 301
stateno = 301
pos = 73,-45
postype = p1
facing = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 301]
type = S
movetype = A
physics = S
anim = 301
sprpriority = 3
velset = 0,0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,4
volume = 0
channel = -1


[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 22
freq = 111
ampl = -3
phase = 34


[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 5,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.314,.314),cond(random<500,.314,.314)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag = globalnoshadow



[State 0, VelSet]
type = VelSet
trigger1 = time <= 20
x = 0.014*p2bodydist x

[State 0, VelSet]
type = VelSet
trigger1 = time > 20
x = 3


[State 0, HitDef]
type = HitDef
trigger1 = movehit != [1,3]
attr = S,NA
hitflag = MAFD
guardflag = HL
ground.type = Low
air.type = Low
damage = 10,5
pausetime = 3,3
ground.velocity = -6+p2dist x/12,-3
air.velocity = -6+p2dist x/12,-1
p1sprpriority = 3
fall = 1
fall.recover = 0
id = 301
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 25
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5

[State 0, Explod]
type = Explod
trigger1 = time % 9 = 0
trigger1 = pos y > -50
anim = 303
ID = 303
pos = 100,ceil(-pos y)+5
postype = p1
removetime = -2
scale = 0.9,0.5
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time % 9 = 0
value = S15,6
volume = 0
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time % 55 = 0
trigger1 = pos y > -50
anim = 303
ID = 303
pos = 50,ceil(-pos y)+5
postype = p1
removetime = -2
scale = 0.9,0.5
sprpriority = 6
;-------------------------------------------------------------------------------
[State 0, TargetBind]
type = TargetBind
trigger1 = movehit = 1
trigger1 = p2dist x < 10
time = 1
id = 300
pos = p2dist x+10,0

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = movehit = 4


[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 302
time = -1
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 80 || hitcount >= 10
value = 302
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 302]
type = S
movetype = A
physics = S
sprpriority = 4
velset = 0,0
anim = 302
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S15,9
volume = 200
channel = -1


[State 0, EnvColor]
type = EnvColor
trigger1 = time = 1
value = 255,255,255
time = 10

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 22
freq = 111
ampl = -4
phase = 90

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 5,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.314,.314),cond(random<500,.314,.314)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag = globalnoshadow

[State 0, HitDef]
type = HitDef
trigger1 = time < 3
affectteam = B
attr = S,NP
hitflag = MAF
guardflag = HL
ground.type = Low
air.type = Low
damage = 100,50
pausetime = 3,3
ground.velocity = -5,-10
air.velocity = -5,-10
p1sprpriority = 3
fall = 1
fall.recover = 0
palfx.time = 75
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
;-------------------------------------------------------------------------------
[Statedef 310]
type = S
movetype = A
physics = S
anim = 310
sprpriority = 7
poweradd = -500
velset = 0,0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S13,3
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14,4
volume = -256
channel = -1

[State 0, SuperPause]
type = SuperPause
trigger1 = !time
time = 25
movetime = 25
anim = S6023
pos = 1,-32
scale = 0.5,0.5
darken = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 18
time = 1
add = 0,0,0
mul = 64,64,64

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [18,26]
time = 1
add = 0,0,0
mul = 64+(time-18)*24,64+(time-18)*24,64+(time-18)*24


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 27
time = 11
freq = 111
ampl = -2
phase = 34


[State 0, Helper]
type = Helper
trigger1 = time = 27
helpertype = normal
name = "Katon:Dain-Endan"
ID = 311
stateno = 311
pos = 165,-27
postype = p1
facing = 1
size.xscale = 0.6
size.yscale = 0.6


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 311]
type = S
movetype = A
physics = S
anim = 311
sprpriority = 1
velset = 0,0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,5
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,1
volume = 256
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 22
freq = 111
ampl = -3
phase = 34

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 3,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.514,.514),cond(random<500,.514,.514)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag = globalnoshadow

[State 0, HitDef]
type = HitDef
trigger1 = movehit != [1,3]
attr = S,NA
hitflag = MAFD
guardflag = HL
ground.type = Low
air.type = Low
damage = 10,5
pausetime = 3,3
ground.velocity = -3,-3
air.velocity = -3,-1
p1sprpriority = -1
fall = 1
fall.recover = 0
id = 311
sparkno = -1
guard.sparkno = -1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 65
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time % 9 = 0
value = S15,2
volume = 0
channel = -1

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = movehit = 4

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 302
time = -1
forceair = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= -500
ctrl = 0
anim = 320

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S13,3
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14,1
volume = -256
channel = -1

[State 0, SuperPause]
type = SuperPause
trigger1 = !time
time = 25
movetime = 25
anim = S6023
pos = 3,-25
scale = 0.5,0.5
darken = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 18
time = 1
add = 0,0,0
mul = 64,64,64

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [18,26]
time = 1
add = 0,0,0
mul = 64+(time-18)*24,64+(time-18)*24,64+(time-18)*24


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 27
time = 11
freq = 111
ampl = -2
phase = 34


[State 0, Helper]
type = Helper
trigger1 = time > 27
trigger1 = timemod = 8,0
helpertype = normal
name = "Katon:Dain-Endan"
ID = 401
stateno = 401
pos = 22,-40
postype = p1
facing = 1
size.xscale = 0.43
size.yscale = 0.43

[State 400, 5]
type = ChangeState
trigger1 = time = 110
value = 11
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 401]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 321
sprpriority = 3

[State 700]
type = PlaySnd
trigger1 = RootDist x
value = S13,1
volume = -256


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1



[State 701]
type = HitDef
trigger1 = time = 0
attr = S,NP
hitflag = MAF
guardflag = HL
ground.type = high
air.type = high
damage = 15,7
animtype = Up
priority = 3, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = -1.3,-3
airguard.velocity = -1.3,-3
air.type = high
air.velocity = -1.1,-2
air.hittime = 1
fall = 1
fall.recover = 1
persistent = 1
palfx.time = 55
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5
fall.yvelocity = -4.5
air.fall = 0
down.bounce = 1

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 5,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.314,.314),cond(random<500,.314,.314)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)


[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1


[State 0, VelSet]
type = VelSet
trigger1 = time = 1
y = Var(6)/100.0

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 6
range = 450,-450

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 16

[State 0, AngleDraw]
type=AngleDraw
trigger1=1

[State 0, AngleSet]
type=AngleSet
trigger1=1
value=((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 402
time = -1
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 402
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 402]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
anim = 272
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S15,9
volume = 256
channel = -1



[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2,2

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Crouching Medium Punch
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 25
ctrl = 0
anim = 230

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 10
value = fvar(10)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,7+(random%2)
volume = 256
channel = -1


[State 0, EnvShake]
type = EnvShake
trigger1 =!Time
time = 7
freq = 122
ampl = -3
phase = 45

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = S9,2+(random%2)
guardsound = S9,2+(random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -1.1,-11
guard.velocity = -1.1
air.velocity = -1,-11
airguard.velocity = -1,-11
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=30),var(4):=-78
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -5

[State 410, 5]
type = ChangeState
trigger1 = !AnimTime
value = 11
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 25
ctrl = 0
anim = 220

[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 7
freq = 122
ampl = -3
phase = 45

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 11
value = fvar(11)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,7+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = S9,3+(random%2)
guardsound = S9,3+(random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -2.1,-6
guard.velocity = -2.1
air.velocity = -3,-6
airguard.velocity = -3,-6
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=46),var(4):=-66
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -5

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd = -100
ctrl = 0
anim = 430

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 10-var(12)*40 && timemod = 30,0
time = 30
freq = 60
ampl = -2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -15

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 30
trigger1 = timemod = 5,0
value = -20

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 60
trigger1 = timemod = 5,0
value = -25

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 90
trigger1 = timemod = 5,0
value = -30

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 25
anim = S6039
sound = S14,0
pos = 14,-36
darken = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S22,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S17,0
volume = 256
channel = -1


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 12
value = fvar(12)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,7+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(90*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = S9,3+(random%2)
guardsound = S9,3+(random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -5.1,-7
guard.velocity = -5.1
air.velocity = -5,-7
airguard.velocity = -7,-7
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=46),var(4):=-66
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -5



[State 420, 5]
type = ChangeState
trigger1 = power = 0
trigger2 = command != "hold_c"
value = 431
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 431]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 25
ctrl = 0
anim = 431

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S17,0
volume = 256
channel = -1

[State 420, 5]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd = -100
ctrl = 0
anim = 440

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 10-var(12)*40 && timemod = 30,0
time = 30
freq = 60
ampl = -2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -15

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 30
trigger1 = timemod = 5,0
value = -20

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 60
trigger1 = timemod = 5,0
value = -25

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 90
trigger1 = timemod = 5,0
value = -30

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 25
anim = S6039
sound = S14,0
pos = 14,-36
darken = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S22,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S17,0
volume = 256
channel = -1


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 12
value = fvar(12)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,7+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(90*fvar(2)+var(29)),0
ground.type = high
air.type = high
hitsound = S9,3+(random%2)
guardsound = S9,3+(random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -5.1,-7
guard.velocity = -5.1
air.velocity = -5,-7
airguard.velocity = -5,-7
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=46),var(4):=-66
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -5

[State 420, 5]
type = ChangeState
trigger1 = power = 0
trigger2 = command != "hold_c"
value = 441
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 441]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 25
ctrl = 0
anim = 441

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S17,0
volume = 256
channel = -1

[State 420, 5]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 450]
type = C
movetype = A
physics = S
juggle  = 6
poweradd = -300
ctrl = 0
anim = 450
sprpriority = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 6
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 99



[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 25
anim = S6039
sound = S14,0
pos = 23,-29
darken = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S22,1
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S17,0
volume = 0
channel = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 12
value = fvar(12)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S7,2;+(random%2)
volume = 256
channel = -1

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Ringishigami"
ID =  451
stateno = 451
pos = 10,-44
postype = p1
facing = 1
;size.xscale (float)
;size.yscale (float)


[State 420, 5]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 451]
type    = C
movetype= A
physics = C
juggle  = 6
ctrl = 0
anim = 451
sprpriority = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 10-var(12)*40 && timemod = 30,0
time = 30
freq = 60
ampl = -2

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 99
;facing = 0
pos = 10,-44

[State 0, Explod Guard]
type = Explod
trigger1 = MoveHit = 1
anim = 452
ID = 452
Pos = -4,-25
postype = p2
bindtime = -1
vel = 0,0
removetime = -2
facing = 1
scale = 1,1
sprpriority = 1

[State 217, 2]
type = HitDef
;trigger1 = animelem = 4>3
trigger1 = timemod = 6,2
;trigger1 = time = 0
attr = S, NA
animtype  = up
hitsound = s21,2
guardsound = s21,2
damage    = 10+var(13)+var(29)
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,20
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -1,-1
air.velocity = -1,-1
fall = 1
guard.dist = 0
airguard.velocity = 0,0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0


[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
[Statedef 500]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 500
sprpriority = 1
poweradd = -500

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 6008
ID = 6008
pos = 44,-35
postype = p1
removetime = -2
scale = 1.2,1.2
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 28
anim = 6044
ID = 6044
pos = 44,-29
postype = p1
removetime = -2
scale = 0.25,0.5
ontop = 1
pausemovetime = 9999
supermovetime = 9999

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
anim = S6023
sound = S14,0
pos = 0,-31
darken = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S24,1
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S17,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S24,0
volume = 256
channel = -1

[State 0, Helper]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Bunshin"
ID = 90001
stateno = 90001
pos = 50,0
postype = p1
facing = 1
ownpal = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bg"
ID = 8001
stateno = 8001
pos = 0,0
postype = p1
facing = 1
;supermovetime = -1
;pausemovetime = -1
size.xscale = 0.62
size.yscale = 0.62



[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 20
ctrl = 0
anim = 600

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 3
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 3
value = fvar(3)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,10+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,6+(random%2)
volume = 256
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2
y = -3

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = hard
hitsound = s9,1+ (random%2)
guardsound = s9,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 5
air.hittime = 15
ground.velocity = -11.8
guard.velocity = -11.5
air.velocity = -11,-2
airguard.velocity = -1,-1
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=45),var(4):=-50
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0


[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Jump Medium Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 4
value = fvar(4)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,5+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = s9,4+ (random%2)
guardsound = s9,4+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 8
air.hittime = 8
ground.velocity = -1.8
guard.velocity = -1.5
air.velocity = -1,-1
airguard.velocity = -1,-0.5
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=45),var(4):=-30
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0

[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Jump Strong Punch
; CNS difficulty: easy
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 70
ctrl = 0
anim = 620

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 4
value = fvar(4)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,5+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+var(29),0
ground.type = high
air.type = high
hitsound = s9,8
guardsound = s9,8
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 2
air.hittime = 8
ground.velocity = -1.8
guard.velocity = -1.5
air.velocity = -1,33
airguard.velocity = -1,33
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=35),var(4):=-20
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 20
fall.yvelocity = -6.5

[State 0, EnvShake]
type = EnvShake
trigger1 = !movecontact
time = 9
freq = 99
ampl = -3
phase = 99

[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= -200
ctrl = 0
anim = 630
sprpriority = 7

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 122
ampl = -3
phase = 77

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 6040
ID = 6040
pos = -2,-1
postype = p1
removetime = -2
scale = 1,1
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = Time >= 24
x = 0
y = -8

[State 0, VelSet]
type = VelSet
trigger1 = Time >1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S23,0
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S23,1
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S7,2
volume = 256
channel = -1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
anim = S6039
sound = S14,0
pos = 15,-24
darken = 1

[State 0, Helper]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Barrier-Jutsu"
ID = 631
stateno = 631
pos = 0,0
postype = p1
facing = 1
size.xscale = 1.6
size.yscale = 1.6

[State 0, VarSet]
type = VarSet
trigger1 = var(15) = 1 & power <= 0
v = 15 ;fv = 10
value = 0

[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 631]
type = S
movetype = A
physics = S
anim = 6041
velset = 0,0
sprpriority = 7
ctrl = 0

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 1,0
attr = S, NA
damage = 0
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 0, 0
sparkno = -1
sparkxy = 0,0
hitsound = 0, 0
guard.sparkno = 0
guardsound = 0, 0
ground.type = High
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 16
fall = cond(p2statetype=A,1,0)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >0
trigger1 = time <80
Time = 5
color = (time-29)*(1)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 90
;-------------------------------------------------------------------------------
;Kunai Throw
[Statedef 700]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 700
sprpriority = 2

[State 700]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0

[State 700]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Shuriken"
stateno = 701
ID = 702
pos = 10,-38
postype = p1
facing = 1
ownpal = 0
supermovetime = 999999
pausemovetime = 999999
size.xscale =.5
size.yscale =.5

[State 700]
Type=VarSet
Trigger1 = 1
fvar(13) = (EnemyNear(0),Pos X-Pos X)*Facing  ;p2 following

[State 700]
Type=VarSet
trigger1 = 1
fvar(14) = (EnemyNear(0),pos Y-Pos Y) ;p2 long distance from p1

[State 700]
Type = VarSet
trigger1 = 1
fvar(15) = Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14)))) ;the real distance

[State 700]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Normal
[Statedef 701]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = ifelse(random%4,701,702)
sprpriority = 3

[State 701]
type = VelSet
trigger1 = time = 1
x = (Parent,Fvar(13))/(Parent,fvar(15)+.1)*17.0
y = (Parent,FVar(14))/(Parent,fvar(15)+.1)*17.0

[State 701]
type = HitDef
trigger1 = time = 0
attr = S, NP
damage = 15,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = 0,0
air.type = high
air.velocity = 0,0
air.hittime = 15
palfx.time = 1
palfx.add = 128,0,0

[State 0, Explod Guard]
type = Explod
trigger1 = MoveGuarded = 1
anim = 704
ID = 704
Pos = EnemyNear,Const(Size.Head.Pos.X)+22,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+16,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = 1
scale = EnemyNear,Const(size.xscale)/8,EnemyNear,Const(size.yscale)/8
sprpriority = 1


[State 0, Explod Guard]
type = Explod
trigger1 = MoveHit = 1
anim = 703
ID = 703
Pos = EnemyNear,Const(Size.Head.Pos.X)+5,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+23,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = -1
scale = EnemyNear,Const(size.xscale)/3,EnemyNear,Const(size.yscale)/3
sprpriority = 1

[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AngleSet]
type=AngleSet
trigger1 = 1
value = Ceil((atan((-Vel Y)/Vel X))*(180/(pi)))
IgnoreHitPause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 13

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 702
time = 0
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 702
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Ref
[Statedef 702]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,20
;anim = 701
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = -1
value = S4,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = 1
value = S6,1

[State 6002, AngleDraw]
type = AngleDraw
trigger1 = Pos Y < 0
IgnoreHitPause=1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = Pos Y < 0
value = 10
IgnoreHitPause=1

[State 6002, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 6002, VelSet]
type = VelSet
trigger1 = !time
x = 0-random%-6
y = -3-random%-5

[State 6002, VelSet]
type = VelAdd
trigger1 = Vel x = 0
x = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 6002, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 5
freq = 122
ampl = -3
phase = 77

[State 6002, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 707, ChangeState]
type = ChangeState
Trigger1 = Pos Y >= 0
Value = 703
;-------------------------------------------------------------------------------
;Kunai Disp
[Statedef 703]
Type = S
MoveType = I
Physics = S
;anim = 701



[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AfterImageTime]
type=AfterImageTime
trigger1 = 1
time = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 888

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,2
freqmul = 0.5
volume = -999
lowpriority = -1

[State 0, 2]
Type = Trans
Trigger1 = timemod = 5,0
Trans = AddAlpha
Alpha = Ceil(256.0-((Time/50.0)*256.0)),256
IgnoreHitPause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 40
;-------------------------------------------------------------------------------
;Kunai Throw
[Statedef 750]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 750
sprpriority = 2

[State 700]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0

[State 700]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Shuriken"
stateno = 751
ID = 752
pos = 10,-38
postype = p1
facing = 1
ownpal = 0
supermovetime = 999999
pausemovetime = 999999
size.xscale =.5
size.yscale =.5

[State 700]
Type=VarSet
Trigger1 = 1
fvar(13) = (EnemyNear(0),Pos X-Pos X)*Facing  ;p2 following

[State 700]
Type=VarSet
trigger1 = 1
fvar(14) = (EnemyNear(0),pos Y-Pos Y) ;p2 long distance from p1

[State 700]
Type = VarSet
trigger1 = 1
fvar(15) = Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14)))) ;the real distance

[State 700]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Normal
[Statedef 751]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = ifelse(random%4,701,702)
sprpriority = 3

[State 701]
type = VelSet
trigger1 = time = 1
x = (Parent,Fvar(13))/(Parent,fvar(15)+.1)*17.0
y = (Parent,FVar(14))/(Parent,fvar(15)+.1)*17.0




[State 701]
type = HitDef
trigger1 = time = 0
attr = S, NP
damage = 15,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = 0,0
air.type = high
air.velocity = 0,0
air.hittime = 15
palfx.time = 1
palfx.add = 128,0,0

[State 0, Explod Guard]
type = Explod
trigger1 = MoveGuarded = 1
anim = 704
ID = 704
Pos = EnemyNear,Const(Size.Head.Pos.X)+22,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+16,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = 1
scale = EnemyNear,Const(size.xscale)/8,EnemyNear,Const(size.yscale)/8
sprpriority = 1


[State 0, Explod Guard]
type = Explod
trigger1 = MoveHit = 1
anim = 703
ID = 703
Pos = EnemyNear,Const(Size.Head.Pos.X)+5,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+23,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = -1
scale = EnemyNear,Const(size.xscale)/3,EnemyNear,Const(size.yscale)/3
sprpriority = 1

[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AngleSet]
type=AngleSet
trigger1 = 1
value = Ceil((atan((-Vel Y)/Vel X))*(180/(pi)))
IgnoreHitPause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 13

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 752
time = 0
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 752
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Ref
[Statedef 752]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,20
;anim = 701
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 5
freq = 122
ampl = -3
phase = 77

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = -1
value = S4,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = 1
value = S6,1

[State 6002, AngleDraw]
type = AngleDraw
trigger1 = Pos Y < 0
IgnoreHitPause = 1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = Pos Y < 0
value = 10
IgnoreHitPause = 1

[State 6002, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 6002, VelSet]
type = VelSet
trigger1 = !time
x = 0-random%-6
y = -3-random%-5

[State 6002, VelSet]
type = VelAdd
trigger1 = Vel x = 0
x = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 6002, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 6002, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 707, ChangeState]
type = ChangeState
Trigger1 = Pos Y >= 0
Value = 753
;-------------------------------------------------------------------------------
;Kunai Disp
[Statedef 753]
Type = S
MoveType = I
Physics = S
;anim = 701

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AfterImageTime]
type=AfterImageTime
trigger1 = 1
time = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 888

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,2
freqmul = 0.5
volume = -999
lowpriority = -1

[State 0, 2]
Type = Trans
Trigger1 = timemod = 5,0
Trans = AddAlpha
Alpha = Ceil(256.0-((Time/50.0)*256.0)),256
IgnoreHitPause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 40
;-------------------------------------------------------------------------------
[Statedef 800]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = -10
sprpriority = 7
anim = 230
ctrl = 0

[State 800, 1]
type = HitDef
Trigger1 = animelem = 3
attr = S, NT
hitflag = M
priority = 1;, Miss
sparkno = -1
sprpriority = 1
hitsound = S2, 9
p1facing = ifelse (command = "holdback", -1, 1)
p2facing = -1
p1stateno = 801
p2stateno = 810
fall = 1
pausetime = 2,3
sparkno = -1*(var(2):=7050)**0
guard.sparkno = -1*(var(2):=7050)**0
sparkxy = -1*(var(3):=46),var(4):=-26

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 2
time = 5
id = -1
pos = 56,-33

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
time = 5
id = -1
pos = 57,-25

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4
time = 5
id = -1
pos = 69,-14

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 5

[State 0,0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 801]
type = S
movetype = A
physics = S
velset = 0,0
sprpriority = 7
anim = 231
ctrl = 0


[State 800, 1]
type = HitDef
Trigger1 = animelem = 1
attr = S, NT
hitflag = M
priority = 1;, Miss
sparkno = -1
sprpriority = 1
hitsound = S2, 9
p1facing = ifelse (command = "holdback", -1, 1)
p2facing = -1
fall = 1

[State 801, Turn]
type = Turn
trigger1 = AnimTime = 0

[State 801, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----CUSTOM-STATES--------------------------------------------------------------
;-------------------------------------------------------------------------------
[Statedef 810]
Type     = A
MoveType = H
Physics  = N
juggle  = 3
ctrl = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5050

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = backedgedist <= 0
value = S7,1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = backedgedist <= 0
value = S12,1

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = 1
trigger1 = GetHitVar(animtype) = [3,5]
value = IfElse(var(10)=1,15035,5050)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 0, VelSet]
type = VelSet
trigger1 = backedgedist > 0
x = -20
y = -6

[State 0, VelSet]
type = VelSet
trigger1 = backedgedist <= 0
x = 4
y = -6

[State 0, Explod]
type = Explod
trigger1 = backedgedist <= 0
anim = 6016
ID = 6016
pos = -20,-50
postype = p1
removetime = -2
scale = 0.65,0.65
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = backedgedist <= 0
anim = 6017
ID = 6017
pos = -15,-45
postype = p1
removetime = -2
scale = 1.2,1.2
ontop = 1


[State 0, EnvShake]
type = EnvShake
trigger1 = backedgedist <= 0
time = 21
freq = 122
ampl = -3
persistent = 0

[State 0, SelfState]
type = SelfState
trigger1 = backedgedist <= 0
value = 5050
;-------------------------------------------------------------------------------
[Statedef 820]
Type     = A
MoveType = H
Physics  = N
juggle  = 3
ctrl = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5050

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = backedgedist <= 0
value = S7,1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = backedgedist <= 0
value = S12,1

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = 1
trigger1 = GetHitVar(animtype) = [3,5]
value = IfElse(var(10)=1,15035,5050)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 45

;[State 0, VelSet]
;type = VelSet
;trigger1 = backedgedist > 0 && time = [0,25]
;x = -5
;y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = backedgedist > 0 ;&& time > 20
x = -23
y = -0.5

[State 0, Explod]
type = Explod
trigger1 = backedgedist > 0 && timemod = 2,0
anim = 6017
ID = 6017
pos = -15,-15
postype = p1
removetime = -2
scale = 0.5,0.5
ontop = 1

[State 0, VelSet]
type = VelSet
trigger1 = backedgedist <= 0
x = pi
y = -4

[State 0, Explod]
type = Explod
trigger1 = backedgedist <= 0
anim = 6016
ID = 6016
pos = -20,-50
postype = p1
removetime = -2
scale = 0.65,0.65
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = backedgedist <= 0
anim = 6017
ID = 6017
pos = -15,-45
postype = p1
removetime = -2
scale = 1.2,1.2
ontop = 1


[State 0, EnvShake]
type = EnvShake
trigger1 = backedgedist <= 0
time = 21
freq = 122
ampl = -3
persistent = 0

[State 0, SelfState]
type = SelfState
trigger1 = backedgedist <= 0
value = 5050
;-------------------------------------------------------------------------------
[Statedef 830]
Type     = A
MoveType = H
Physics  = N
juggle  = 3
ctrl = 0
sprpriority =0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5030


[State 100, PlaySnd]
type = PlaySnd
trigger1 = backedgedist <= 0
value = S7,1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = backedgedist <= 0
value = S12,1


[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = 1
trigger1 = GetHitVar(animtype) = [3,5]
value = 5030

[State 0, Explod]
type = Explod
trigger1 = backedgedist <= 0
anim = 6000
ID = 6000
pos = -15,-50
postype = p1
removetime = -2
scale = 0.7,1.5
ontop = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 0, VelSet]
type = VelSet
trigger1 = backedgedist > 0
x = -20
y = -6

[State 0, VelSet]
type = VelSet
trigger1 = backedgedist <= 0
x = 4
y = -6


[State 0, EnvShake]
type = EnvShake
trigger1 = backedgedist <= 0
time = 21
freq = 122
ampl = -3
persistent = 0

[State 0, SelfState]
type = SelfState
trigger1 = backedgedist <= 0
value = 5050
;-------------------------------------------------------------------------------
[StateDef 840]
type = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 5050
poweradd = 0
sprpriority = 1


[State 0, Explod]
type = Explod
trigger1 = time = 10 || time = 20
anim = 6016
ID = 6016
pos = 0,-25
postype = p1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 6016
ID = 6016
pos = -15,-35
postype = p1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = 99999
pausemovetime = 99999


[State 0, PosAdd]
type = PosAdd
triggerall = pos y!= -11
trigger1 = BackEdgeBodyDist <10
trigger2 = FrontEdgeBodyDist <10
x = 0
y = -11

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -27
y = pi/pi*0

[State 1026, No scroll]
type = ScreenBound
trigger1 = BackEdgeBodyDist < 10
trigger2 = FrontEdgeBodyDist < 10
value = 1
movecamera = 0,1

[State 0, PosAdd]
type = PosAdd
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
x = 300
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 30
value = 830
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 850]
Type     = A
MoveType = H
Physics  = N
juggle  = 3
ctrl = 0
sprpriority = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5050

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = -1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = backedgedist <= 0
value = S7,1

[State 100, PlaySnd]
type = PlaySnd
trigger1 = backedgedist <= 0
value = S12,1

[State 5020, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = 1
trigger1 = GetHitVar(animtype) = [3,5]
value = IfElse(var(10)=1,15035,5050)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,1

[State 0, VelSet]
type = VelSet
trigger1 = frontedgedist > 0
x = -20
y = -6

[State 0, VelSet]
type = VelSet
trigger1 =frontedgedist <= 0
x = 4
y = -6


[State 0, EnvShake]
type = EnvShake
trigger1 = backedgedist <= 0
time = 21
freq = 122
ampl = -3
persistent = 0

[State 0, SelfState]
type = SelfState
trigger1 = backedgedist <= 0
value = 5050
;-------------------------------------------------------------------------------
[StateDef 860]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = ifelse(random%2,5000,5010)
sprpriority = 6

[State 0, AfterImage]
Type = AfterImage
trigger1 = P1Name = "Jiraiya"
Time = 5
Trans = Add
Length = 10
TimeGap = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 70 , 70 , 200
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .65
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = P1Name = "Jiraiya"
trigger1 = var(10) = 0
trigger1 = time = 0
value = 5000 ;+ var(0)*10000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = P1Name = "Jiraiya"
trigger1 = var(10) = 1
trigger1 = time = 0
value = 15000 ;+ var(0)*10000

[State 0, PalFX]
type = PalFX
trigger1 = time = 1
time = 5
add = 90,90,90
mul = 256,256,256
sinadd = 80,80,80,10
invertall = 0
color = 256

[State 0, PosSet]
type = PosSet
trigger1 = time = 14
x = 7
y = -50


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 230
value = S41,3
volume = 0
channel = -1

[State 0, LifeSet]
type = LifeSet
triggerall = time = 240
trigger1 = p2life
value = 50



[State 1602, end]
type = SelfState
trigger1 = time = 240|| win || Lose
value = 5110
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 870]
type = S
movetype= H
physics = S
juggle  = 1
velset = 0,-0.5
ctrl = 0
anim = 5050
sprpriority = 6

[State 0]
type = AngleSet
trigger1 = time = 0
value = 0

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1-(time*.01),1-(time*.01)
value = 20*time


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = P1Name = "Jiraiya"
trigger1 = var(10) = 0
trigger1 = time = 0
value = 5050 ;+ var(0)*10000

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = P1Name = "Jiraiya"
trigger1 = var(10) = 1
trigger1 = time = 0
value = 15035 ;+ var(0)*10000

[State 0, PosSet]
type = PosSet
trigger1 = time = 100
postype = left
x = 0
y = -100

[State 0, LifeAdd]
type = LifeAdd
triggerall = time = 99
trigger1 = p2life
value = -200

[State 1602, end]
type = SelfState
trigger1 = time = 100|| win || Lose
value = 5050
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 999]
type = S
ctrl = 0
anim = 999
velset = 0,0
movetype = A
poweradd = -500
physics = S
sprpriority = 2


[State 0, VarAdd]
type = VarAdd
trigger1 = time = 90-var(12)*20
trigger2 = time = 150-var(12)*40
v = 12
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
anim = S6036
sound = S14,0
pos = 0,-33
darken = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bg"
ID = 8000
stateno = 8000
pos = 0,-30
postype = p1
facing = 1
size.xscale = 0.4
size.yscale = 0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 0
channel = -1


[State 999, end]
type = ChangeState
trigger1 = !animtime
value = 1000
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1000]
type = S
ctrl = 0
anim = 1000
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S21,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 100
trigger1 = timemod = 33,0
value = S21,1
volume = 0
channel = -1
;loop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 100
trigger1 = timemod = 33,0
value = S21,3
volume = 0
channel = -1
;loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "hold_c"
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(12)*20 || time = 50-var(12)*30
time = 30
freq = 60
ampl = -2


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40-var(12)*20 || time = 120-var(12)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 70-var(12)*40 && timemod = 30,0
time = 30
freq = 120
ampl = -3

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 8
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 11
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(11) >= 170
v = 11
value = 170

[State 0, VarSet]
type = Varadd
trigger1 = var(11) <= 169
v = 11
value = 2

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1003
ID = 1003
pos = 0,-5
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.35,0.35
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 1005
ID = 1003
pos = -11,-36
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.9,0.9
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time > 90
trigger1 = timemod = 6,0
anim = 1004
ID = 1003
pos = 0,-5
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.35,0.35
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = timemod = 20,0
anim = 1006
ID = 1003
pos = 0,0
postype = p1
removetime = -2
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
ontop = 0
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time > 50
trigger1 = timemod = 20,0
anim = 1007
ID = 1003
pos = -10,-35
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.14,0.14
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = var(11) >= 170
trigger1 = timemod = 20,0
anim = 1008
ID = 1003
pos = -10,-35
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.4,0.4
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time > 200
trigger1 = timemod = 20,0
anim = 1008
ID = 1003
pos = -10,-35
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.6,0.6
ontop = 1
supermovetime = -1
pausemovetime = -1


[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !command = "hold_c"
bindtime = -1
id = 1003

[State 400, end]
type = ChangeState
trigger1 = time < 30
trigger1 = command != "hold_c"
value = 0
ctrl = 1

[State 400, end]
type = ChangeState
trigger1 = time > 30
trigger1 = command != "hold_c"
value = 1001
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 1001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1001
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S21,4
volume = 256
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1004
ID = 1004
bindtime = -1
pos = 0,0
postype = p1
removetime = 14
scale = 0.35,0.35
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 14

[State 0, VelSet]
type = velset
trigger1 = var(11) <= 169
trigger1 = time > 1 && p2dist x > 10
x = p2bodydist x*0.2

[State 0, VelSet]
type = velset
trigger1 = var(11) >= 170
trigger1 = time > 0 && p2dist x > 5
x = p2bodydist x*0.6


[State 0, end]
type = ChangeState
trigger1 = time = 12
value = 1002
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 1002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1002
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 60




[State 0, Helper]
type = Helper
trigger1 = var(11) <= 169
trigger1 = time = 1
;trigger1 = movecontact
helpertype = normal
name = "RasenganNonPowerFull"
ID = 1004
stateno = 1004
pos = 66,-7
postype = p1
size.xscale = 0.4
size.yscale = 0.4
supermovetime = 9999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = var(11) >= 170
trigger1 = time = 1
;trigger1 = movecontact
helpertype = normal
name = "RasenganPowerFull"
ID = 1005
stateno = 1005
pos = 70,-8
postype = p1
size.xscale = 0.4
size.yscale = 0.4
supermovetime = 9999
pausemovetime = 9999


[State 0, end]
type = ChangeState
;trigger1 = movecontact
trigger1 = time = 68
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1004]
type = S
movetype = A
physics = S
anim = 1004
velset = 0,0
sprpriority = 1
juggle = 3
ctrl = 0


[State 0, BindToParent]
type = BindToParent
;trigger1 = !movecontact
trigger1 = time <= 67
time = 1
facing = 0
pos = 66,-7

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(12)*20 || time = 50-var(12)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 50-var(12)*20 || time = 100-var(12)*30
time = 30
freq = 120
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = time = 1 || time = 21 || time = 41 || time = 51
anim = 6038
ID = 6038
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 1 || time = 21 || time = 31 || time = 41
anim = 1008
ID = 1008
pos = -12,-35
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 20
ID = 1008
scale = 0.010+(time/39.000),0.010+(time/39.000)


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = unguardable

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 100
id = -1
pos = -6,-1

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 13
value = 15

[State 217, 2]
type = HitDef
trigger1 = timemod = 6,2
;trigger1 = time = 0
attr = S, NA
;animtype  = up
hitsound = s21,2
guardsound = s21,2
damage    = 1+var(13)
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,20
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -3,-22
air.velocity = -3,-22
fall = 1
guard.dist = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S21,6
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S21,3
volume = -256
channel = 1
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 80
channel = 1



[State 252, ChangeState]
type = destroyself
trigger1 = time = 80
;-------------------------------------------------------------------------------
[Statedef 1005]
type = S
movetype = A
physics = S
anim = 1004
velset = 0,0
sprpriority = 1
poweradd = -500
juggle = 3
ctrl = 0


[State 0, BindToParent]
type = BindToParent
trigger1 = !movecontact
trigger1 = time <= 67
time = 1
facing = 0
pos = 70,-8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S21,1
volume = 0
channel = 1
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 70
channel = 1


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(12)*20 || time = 50-var(12)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 50-var(12)*20 || time = 100-var(12)*30
time = 30
freq = 120
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = time = 1 || time = 15 || time = 25
anim = 6038
ID = 6038
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 1 || time = 9 || time = 15
anim = 6037
ID = 6037
pos = -19,-60
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.3,0.3
ontop = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = unguardable

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 100
id = -1
pos = -6,-1

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 14
value = 30

[State 217, 2]
type = HitDef
trigger1 = timemod = 6,2
trigger1 = time <= 70
;trigger1 = time = 0
attr = S, NA
;animtype  = up
hitsound = s21,2
guardsound = s21,2
damage    = 1+var(13)+var(14)
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,20
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -3,-22
air.velocity = -3,-22
fall = 1
guard.dist = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 65
value = 255,255,255
time = 12

[State 252]
type = VelSet
trigger1 = movecontact
trigger1 = time >= 7
x = 10

[State 252]
type = VelSet
trigger1 = movecontact
trigger1 = frontedgedist <0
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S21,6
volume = 256
channel = -1

[state 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 252, ChangeState]
type = destroyself
trigger1 = time = 70
;-------------------------------------------------------------------------------
;-------------------------------Gamahiro----------------------------------------
[Statedef 2000]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2000
sprpriority = 1
poweradd = -1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 256
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 6047
ID = 6047
pos = 4,-52
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 99999999999
pausemovetime = 99999999999
scale = 0.5,0.5
ontop = 1


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 70
movetime = 70
anim = -1
sound = s14,4
darken = 0

[State 0, Helper]
type = Helper
trigger1 = time > 20
helpertype = normal
name = "Hyper-Portrait"
stateno = 2003
pos = 160,120
postype = left
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999
size.xscale = 0.3
size.yscale = 0.3
persistent = 0

[State 0, Scaling Light]
type = Helper
trigger1 = time = 4
helpertype = normal ;player
name = "Hyper-BG-Spark"
ID = 2002
stateno = 2002
pos = 0,0
postype = p1    ;p2,front,back,left,right
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, Fx 1]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 2000
stateno = 2001
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, Fx 2]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 2001
stateno = 2001
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 2004
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 2001]
type = S
physics = S
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(2000)
x = -.7

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(2001)
x = .7

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = selfanimexist(root,anim)
elem = root,animelemno(0)
value = root,anim

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*3),256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 50
;-------------------------------------------------------------------------------
[Statedef 2002]
type = S
physics = S
anim = 6036
ctrl = 0
sprpriority = 4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = noshadow
flag3 = nobardisplay

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 80
add = 0,0,0
mul = 256,256,256
sinadd = 255,255,255,-170

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = 0,-50

;[State 0, Trans]
;type = Trans
;trigger1 = 1
;trans = addalpha
;alpha = 256-(time*10),256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 23
;-------------------------------------------------------------------------------
[Statedef 2003]
type = S
physics = S
ctrl = 0
sprpriority = -5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,facing = 1
value = 6045
persistent = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,facing = -1
value = 6045
persistent = 0
ignorehitpause = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosAdd]
type = PosAdd
triggerall = root,facing = 1
trigger1 = time = 0
x = 80 - screenpos x

[State 0, PosAdd]
type = PosAdd
triggerall = root,facing = -1
trigger1 = time = 0
x = 240 - screenpos x

[State 0, PosAdd]
type = PosAdd
trigger1 = time >= 0
y = 120 - screenpos y

[State 0, VelSet]
type = VelSet
triggerall = root,facing = 1
trigger1 = time < 50
x = .65

[State 0, VelSet]
type = VelSet
triggerall = root,facing = -1
trigger1 = time < 50
x = -.65

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*4),256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 50
scale = 0.5,0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 45
scale = (time*.00999),(time*.00999)


[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 50
;-------------------------------Gamahiro----------------------------------------
[Statedef 2004]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2004
sprpriority = 1
;---------------------Hand-Circle-----------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2006
ID = 2006
pos = 9,2
facing = 1
postype = p1
removetime = -2
scale = 0.3,0.3
ontop = 1
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2005
ID = 2005
pos = 0,3
facing = 1
postype = p1
removetime = -2
scale = 0.1,0.1
ontop = 1
;-----------------------Hand-Effect--><-----------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2005
ID = 2005
pos = 19,3
facing = -1
postype = p1
removetime = -2
scale = 0.1,0.1
ontop = 1
;----------------Summon-Effect--------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 2007
ID = 2007
pos = 6,0
postype = p1
removetime = 30
scale = 1,1
;-------------------------------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S25,0
volume = 256
channel = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, Helper]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "Gamahiro"
ID = 2005
stateno = 2005
pos = 150,-5
postype = left
facing = 1
size.xscale = 0.65
size.yscale = 0.65

[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 2005]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2008
sprpriority = -7

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 122
ampl = -2
phase = 45
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6021
ID = 6021
pos = 10,-20
postype = p1
removetime = -2
scale = 1,1
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6022
ID = 6022
pos = 10,20
postype = p1
removetime = -2
scale = 0.55,0.65
ontop = 1
;-------------------------------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S24,2
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S26,3
volume = 256
channel = -1
;-------------------------------------------------------------------------------

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag = noshadow

[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 2006
;-------------------------------------------------------------------------------
[Statedef 2006]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2009
sprpriority = -7

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 21
value = 255,255,255
time = 15


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag = noshadow

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 100 - screenpos y

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0.05

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(0.2 * enemy,Const(data.life)) ,Ceil(0.1 * enemy,Const(data.life))
ground.type = high
air.type = high
hitsound = S11,1+ (random%2)
guardsound = S11,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -5.8,-3
guard.velocity = -4.5
air.velocity = -5
airguard.velocity = -1,-0.5
sparkno = -1
guard.sparkno = -1
sparkxy = -1
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
p2stateno = 820


[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;-------------------------------GamaBunta---------------------------------------
[Statedef 3000]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2000
sprpriority = 1
poweradd = -1500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 256
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 6047
ID = 6047
pos = 4,-52
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 99999999999
pausemovetime = 99999999999
scale = 0.5,0.5
ontop = 1



[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 70
movetime = 70
anim = -1
sound = s14,4
darken = 0

[State 0, Helper]
type = Helper
trigger1 = time > 20
helpertype = normal
name = "Hyper-Portrait"
stateno = 2003
pos = 160,120
postype = left
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999
size.xscale = 0.3
size.yscale = 0.3
persistent = 0

[State 0, Scaling Light]
type = Helper
trigger1 = time = 4
helpertype = normal ;player
name = "Hyper-BG-Spark"
ID = 2002
stateno = 2002
pos = 0,0
postype = p1    ;p2,front,back,left,right
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, Fx 1]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 2000
stateno = 2001
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, Fx 2]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 2001
stateno = 2001
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 3004
ctrl = 1
;-------------------------------GamaBunta---------------------------------------
[Statedef 3004]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2004
sprpriority = 1
;---------------------Hand-Circle-----------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2006
ID = 2006
pos = 9,2
facing = 1
postype = p1
removetime = -2
scale = 0.3,0.3
ontop = 1
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2005
ID = 2005
pos = 0,3
facing = 1
postype = p1
removetime = -2
scale = 0.1,0.1
ontop = 1
;-----------------------Hand-Effect--><-----------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2005
ID = 2005
pos = 19,3
facing = -1
postype = p1
removetime = -2
scale = 0.1,0.1
ontop = 1
;----------------Summon-Effect--------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 2007
ID = 2007
pos = 6,0
postype = p1
removetime = 30
scale = 1,1
;-------------------------------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S25,0
volume = 256
channel = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, Helper]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "GamaBunta"
ID = 3005
stateno = 3005
pos = 150,-5
postype = left
facing = 1
size.xscale = 0.65
size.yscale = 0.65

[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3005]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2010
sprpriority = -7

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 122
ampl = -2
phase = 45
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6021
ID = 6021
pos = 10,-20
postype = p1
removetime = -2
scale = 1,1
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6022
ID = 6022
pos = 10,20
postype = p1
removetime = -2
scale = 0.55,0.65
ontop = 1
;-------------------------------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S24,2
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S26,1
volume = 256
channel = -1
;-------------------------------------------------------------------------------

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag = noshadow


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = ifelse(random%2,3006,3007)
;-------------------------------------------------------------------------------
[Statedef 3006]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2011
sprpriority = -7



[State 0, EnvColor]
type = EnvColor
trigger1 = time = 21
value = 255,255,255
time = 15

[State 0, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 15
freq = 122
ampl = -3
phase = 43

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag = noshadow


[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 80 - screenpos x
y = 120 - screenpos y


[State 0, VelSet]
type = velset
;trigger1 = !(P2Dist X < 10)
trigger1 = time > 0 ;&& p2dist x > 5
x = abs(p2bodydist x)*0.16

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(0.22 * enemy,Const(data.life)) ,Ceil(0.1 * enemy,Const(data.life))
ground.type = high
air.type = high
hitsound = S11,1+ (random%2)
guardsound = S11,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -5.8,-3
guard.velocity = -4.5
air.velocity = -5
airguard.velocity = -1,-0.5
sparkno = -1
guard.sparkno = -1
sparkxy = -1
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
p2stateno = 820

[State ****: Turn]
type = Turn
trigger1 = (P2Dist X < 10)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------------
[Statedef 3007]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2012
sprpriority = -7

[State 0, Turn]
type = Turn
trigger1 = (p2dist x < 0) && !time


[State 0, EnvColor]
type = EnvColor
trigger1 = time = 21
value = 255,255,255
time = 15

[State 0, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 15
freq = 122
ampl = -3
phase = 43

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag = noshadow

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 190 - screenpos x
y = 10 - screenpos y


[State 0, VelSet]
type = velset
trigger1 = time > 0 ;&& p2bodydist x > 5
x = abs(p2bodydist x)*0.16
y = abs(p2bodydist y)*0.16

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(0.3 * enemy,Const(data.life)) ,Ceil(0.1 * enemy,Const(data.life))
ground.type = high
air.type = high
hitsound = S11,1+ (random%2)
guardsound = S11,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -5.8,-3
guard.velocity = -4.5
air.velocity = -5
airguard.velocity = -1,-0.5
sparkno = -1
guard.sparkno = -1
sparkxy = -1
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
p2stateno = 820


[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;-------------------------------GamaKen-----------------------------------------
[Statedef 4000]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2000
sprpriority = 1
poweradd = -1500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 256
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 6047
ID = 6047
pos = 4,-52
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 99999999999
pausemovetime = 99999999999
scale = 0.5,0.5
ontop = 1



[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 70
movetime = 70
anim = -1
sound = s14,4
darken = 0

[State 0, Helper]
type = Helper
trigger1 = time > 20
helpertype = normal
name = "Hyper-Portrait"
stateno = 2003
pos = 160,120
postype = left
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999
size.xscale = 0.3
size.yscale = 0.3
persistent = 0

[State 0, Scaling Light]
type = Helper
trigger1 = time = 4
helpertype = normal ;player
name = "Hyper-BG-Spark"
ID = 2002
stateno = 2002
pos = 0,0
postype = p1    ;p2,front,back,left,right
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, Fx 1]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 2000
stateno = 2001
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, Fx 2]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 2001
stateno = 2001
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 4004
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 4003]
type    = S
physics = S
juggle  = 5
ctrl = 0
anim = 4005

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 122
ampl = -2
phase = 45
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6021
ID = 6021
pos = 10,-30
postype = p1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = 99999999999
pausemovetime = 99999999999
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6022
ID = 6022
pos = 10,10
postype = p1
removetime = -2
scale = 0.55,0.65
ontop = 1
supermovetime = 99999999999
pausemovetime = 99999999999
;-------------------------------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S24,2
volume = 256
channel = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 4005
ctrl = 1
;-------------------------------GamaKen-----------------------------------------
[Statedef 4004]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 2004
sprpriority = 1
;---------------------Hand-Circle-----------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2006
ID = 2006
pos = 9,2
facing = 1
postype = p1
removetime = -2
scale = 0.3,0.3
ontop = 1
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2005
ID = 2005
pos = 0,3
facing = 1
postype = p1
removetime = -2
scale = 0.1,0.1
ontop = 1
;-----------------------Hand-Effect--><-----------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 2005
ID = 2005
pos = 19,3
facing = -1
postype = p1
removetime = -2
scale = 0.1,0.1
ontop = 1
;----------------Summon-Effect--------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 2007
ID = 2007
pos = 6,0
postype = p1
removetime = 30
scale = 1,1
;-------------------------------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S25,0
volume = 256
channel = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 10

[State 0, Helper]
type = Helper
trigger1 = time = 40
;trigger2 = numhelper(4005)
helpertype = player
name = "GamaKen"
ID = 4003
stateno = 4003
pos = 150,0
postype = left
facing = 1
size.xscale = 0.65
size.yscale = 0.65


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-----------------------Summon-GamaKen-Central-State----------------------------
[Statedef 4005]
type    = S
physics = S
juggle  = 5
ctrl = 0
anim = 4005

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
trigger1 = random < 600
value = S28,1+(random%2)
volume = 256
channel = 1

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <=-20

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 4007

[State 440, 3]
type = ChangeState
triggerall = p2statetype = S || p2statetype = C
triggerall = EnemyNear,Stateno!=[5100,5110]
triggerall = time >= 50
trigger1 = random <= 350
trigger1 = P2Dist X <120
trigger2 = Random =[0,5]
value = 4008
ctrl = 0

[State 440, 3]
type = ChangeState
triggerall = p2statetype = S || p2statetype = C
triggerall = EnemyNear,Stateno!=[5100,5110]
triggerall = time >= 55
trigger1 = random <= 355
trigger1 = rootdist x <110
trigger2 = Random =[0,6]
value = 4009
ctrl = 0

[State 440, 3]
type = ChangeState
triggerall = p2statetype = S || p2statetype = C
triggerall = EnemyNear,Stateno!=[5100,5110]
triggerall = time >= 50
trigger1 = random <= 350
trigger1 = P2Dist X <120
trigger2 = Random =[0,5]
value = 4010
ctrl = 0

[State 440, 3]
type = ChangeState
triggerall = p2statetype = S || p2statetype = C
triggerall = EnemyNear,Stateno!=[5100,5110]
triggerall = time >= 90
trigger1 = random <= 250
;trigger1 = P2Dist X <120
trigger1 = p2bodydist X > 60
trigger2 = Random =[0,5]
value = 4011
ctrl = 0

[State 440, 3]
type = ChangeState
triggerall = p2statetype = S || p2statetype = C || p2statetype = A
triggerall = EnemyNear,Stateno!=[5100,5110]
triggerall = time >= 99
trigger1 = random <= 250
trigger1 = p2bodydist X > 60;trigger1 = P2Dist X <100
trigger2 = Random =[0,5]
value = 4013
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,life = 0
trigger2 = p2life = 0
value = 4006
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(16) = 15
value = 4006
ctrl = 0

[State 0, ChangeState]
type = Changestate
trigger1 = parent, var(10) = 1
value = 4006
;-------------------------------------------------------------------------------
;Ken-Unsummoned
[Statedef 4006]
type    = S
movetype = H
physics = S

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
freq = 122
ampl = -2
phase = 45
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 6021
ID = 6021
pos = 10,-30
postype = p1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = 99999999999
pausemovetime = 99999999999
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 6022
ID = 6022
pos = 10,10
postype = p1
removetime = -2
scale = 0.55,0.65
ontop = 1
supermovetime = 99999999999
pausemovetime = 99999999999
;-------------------------------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S24,2
volume = 256
channel = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 5
;-------------------------------------------------------------------------------
;Ken-Damage
[Statedef 4007]
type    = S
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(16) = 1 || var(16) = 4 ||var(16) = 8 ||var(16) = 11 ||var(16) = 13 ;time = 1 ;&& timemod = 6,0
value = S27,0+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  var(16) = 15
value = S26,0
volume = 256
channel = -1

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 1
v = 16
value = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 2
value = 4005
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 4008]
type = S
movetype = A
physics = S
juggle = 3
anim = 4006
sprpriority = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S28,0
volume = 256
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 15
freq = 122
ampl = -3
phase = 43

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (!time)
value = S10,4+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(0.05 * enemy,Const(data.life)) ,Ceil(0.05 * enemy,Const(data.life))
ground.type = high
air.type = high
hitsound = S11,1+ (random%2)
guardsound = S11,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 0,0
ground.hittime = 2
air.hittime = 8
ground.velocity = -3.8,-1
guard.velocity = -3.5
air.velocity = -3
airguard.velocity = -1,-0.5
sparkno = -1
guard.sparkno = -1
sparkxy = -1
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -4.5

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4005
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 4009]
type = S
movetype = A
physics = S
juggle = 3
anim = 4007
sprpriority = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S28,0
volume = 256
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 15
freq = 122
ampl = -3
phase = 43

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 ||(!time)
value = S10,4
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(0.05 * enemy,Const(data.life)) ,Ceil(0.05 * enemy,Const(data.life))
ground.type = high
air.type = high
hitsound = S9,8
guardsound = S9,8
hitflag	= MA
guardflag = MA
pausetime = 0,0
ground.hittime = 2
air.hittime = 8
ground.velocity = -3.8,-1
guard.velocity = -3.5
air.velocity = -3
airguard.velocity = -1,-0.5
sparkno = -1
guard.sparkno = -1
sparkxy = -1
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -4.5

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4005
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 4010]
type = S
movetype = A
physics = S
juggle = 3
anim = 4008
sprpriority = -7

[State 0, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 15
freq = 122
ampl = -3
phase = 43

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 3,0
value = S10,4
volume = 256
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 17
channel = 1



[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(0.1 * enemy,Const(data.life)) ,Ceil(0.1 * enemy,Const(data.life))
ground.type = high
air.type = high
hitsound = S9,5
guardsound = S9,5
hitflag	= MA
guardflag = MA
pausetime = 0,0
ground.hittime = 2
air.hittime = 8
ground.velocity = -3.8,-1
guard.velocity = -3.5
air.velocity = -3
airguard.velocity = -1,-0.5
sparkno = -1
guard.sparkno = -1
sparkxy = -1
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -4.5
p2stateno = 820

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 4005
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 4011]
type = S
movetype = A
physics = S
juggle = 3
anim = 4011
sprpriority = -7



[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 4012
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 4012]
type = S
movetype = A
physics = S
juggle = 1
anim = 4009
sprpriority = 7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.65,0.65

[State 0, Trans]
type = Trans
trigger1 = time < 9
trans = addalpha;, add1, sub
alpha = 256,256

[State 0, ]
type = AngleSet
trigger1 = time = 0
value = (atan((p2bodydist y-100)/(ifelse(facing = 1, enemy, pos X - Pos X , Pos X - enemy, Pos X)))*(-180/Pi))*0

[State 0, VelSet]
type = VelSet
trigger1 = time < 16
x = 15
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 17
x = 0
y = 0
postype = left

[State 0, VelSet]
type = VelSet
trigger1 = time = 17
x = 0
y = 0


[State 0, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 15
freq = 122
ampl = -3
phase = 43

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1 && !time
value = S10,4
volume = 256
channel = 1
;maicata e asa de urata ca scoate fosilele din pietre --------------------------

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(0.1 * enemy,Const(data.life)) ,Ceil(0.1 * enemy,Const(data.life))
ground.type = high
air.type = high
hitsound = S9,5
guardsound = S9,5
hitflag	= MA
guardflag = MA
pausetime = 0,0
ground.hittime = 2
air.hittime = 8
ground.velocity = -3.8,-1
guard.velocity = -3.5
air.velocity = -3
airguard.velocity = -1,-0.5
sparkno = -1
guard.sparkno = -1
sparkxy = -1
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -4.5
p2stateno = 820

[State 0, ChangeState]
type = ChangeState
trigger1 =  !AnimTime
value = 4005
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 4013]
type = S
movetype = A
physics = S
juggle = 1
anim = 4010
sprpriority = 7

[State 0, Trans]
type = Trans
trigger1 = time < 9
trans = addalpha;, add1, sub
alpha = 256,256

[State 0, Trans]
type = Trans
trigger1 = time > 14
trans = addalpha;, add1, sub
alpha = 256,256


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.65,0.65

[State 0, ]
type = AngleSet
trigger1 = time = 0
value = (atan((p2bodydist y-100)/(ifelse(facing = 1, enemy, pos X - Pos X , Pos X - enemy, Pos X)))*(-180/Pi))


[State 0, Turn]
type = Turn
trigger1 = (p2dist x < 0) && !time

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 290 - screenpos x
y = 10 - screenpos y


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 17
value = p2bodydist x

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = (p2bodydist y -20)

[State 0, VelSet]
type = velset
trigger1 = time >= 0
x = var(17)*0.05
y = var(18)*0.05

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(0.1 * enemy,Const(data.life)) ,Ceil(0.1 * enemy,Const(data.life))
ground.type = high
air.type = high
hitsound = s9,8
guardsound = s9,8
hitflag	= MA
guardflag = MA
pausetime = 0,0
ground.hittime = 2
air.hittime = 8
ground.velocity = -1.8
guard.velocity = -1.5
air.velocity = -1,33
airguard.velocity = -1,33
sparkno = -1
guard.sparkno = -1
sparkxy = -1
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 20
fall.yvelocity = -6.5

[State 0, PosSet]
type = PosSet
trigger1 = time = 21
x = 0
y = 0
postype = left

[State 0, VelSet]
type = VelSet
trigger1 = time = 21
x = 0
y = 0


[State 0, ChangeState]
type = ChangeState
trigger1 =  !AnimTime
value = 4005
ctrl = 0
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
[Statedef 10189]
type = S
physics = S
velset = 0,0
anim = 10189
poweradd = -15
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6048
ID = 6048
pos = 9,-35
postype = p1
removetime = -2
scale = 0.8,0.8
ontop = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = ifelse(facing = 1,p2dist x + 50,ifelse(facing = -1,p2dist x + 70,p2dist x + 90))
y = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1 || animelem = 5
time = 5
freq = 166
ampl = -2
phase = 77

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 || !time
value = S29,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 || !time
value = S29,1
volume = 256
channel = -1


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 107
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10195]
type    = S
movetype= I
physics = S
juggle  = 5
ctrl = 0
anim = 10195

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S17,0
volume = 256
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S16,1
volume = 256
channel = -1


[State 0, 0]
type = PlaySnd
trigger1 =((GameTime%100) = 0)
value = S18,1
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 10
freq = 111
ampl = -1
phase = 33

[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 6090
ID = 6090
pos = 2,-50
postype = p1
bindtime = 1
removetime = -2
scale = 0.5,0.6
ontop = 1
removeongethit = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !command = "hold_s"
id = 6090

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = 0.35*time/6

[State 0, StopSnd]
type = StopSnd
trigger1 = !command = "hold_s"
channel = -1


[State 440, 5]
type = ChangeState
trigger1 = command != "hold_s"
trigger2 = power>=3000
value = 10196
ctrl = 1

[State 440, 5]
type = ChangeState
trigger1 = command = "hold_s"
trigger1 = power >=1000
value = 10197
ctrl = 1

[State 440, 5]
type = ChangeState
trigger1 = command = "hold_s"
trigger1 = power >=2000
value = 10198
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10196]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 10196
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S12,0
volume = 0
channel = -1

[State 440, 5]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10197]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 198
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = animelem = 1
trigger1 = var(24)= 0
v = 24
value = 1

[State 0, AfterImage]
Type = AfterImage
Trigger1 = Var(24) = 1
Trigger1 = animelem = 1
Time = -1
Trans = Add
Length = 10
TimeGap = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 70 , 70 , 200
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .65
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 0, AfterImage]
Type= AfterImage
Trigger1 = Var(24) = 2
Trigger1 = animelem = 1
Time = -1
Trans = Add
Length = 16
TimeGap = 1
FrameFap = 4
PalBright = 0 , 0 , 0
PalContrast = 240 , 240 , 0
PalAdd = 0 , 0 , 0
PalMul = .75 , .75 , 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 17
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PalFX]
type = PalFX
trigger1 = time >= 1
trigger1 = time <= 6
time = 1
mul = 768-(time-16)*32,768-(time-16)*32,768-(time-16)*32

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 20
freq = 60
ampl = -4
phase = 90

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6091
ID = 6091
pos = 5,-80
postype = p1
removetime = -2
scale = 0.9,0.9
ontop = 1


[State 0, PowerSet]
type = PowerSet
trigger1 = !time
value = 2000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S8,2
volume = 256
channel = -1

[State 0, 0]
type = PlaySnd
trigger1 = time = 2;((GameTime%100) = 0)
value = S39,0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S40,0
volume = 256
channel = -1

[State 197, 5]
type = ChangeState
trigger1 = !animtime
value = 10196
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10198]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
anim = 198
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6091
ID = 6091
pos = 5,-80
postype = p1
removetime = -2
scale = 0.9,0.9
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6092
ID = 6092
pos = -5,-90
postype = p1
removetime = -2
scale = 1,1
ontop = 1


[State 0, VarSet]
type = VarSet
trigger1 = animelem = 1
trigger1 = var(25)= 0
v = 25
value = 1

[State 0, AfterImage]
Type = AfterImage
Trigger1 = Var(25) = 2
Trigger1 = animelem = 1
Time = -1
Trans = Add
Length = 10
TimeGap = 1
FrameFap = 1
PalBright = 0 , 0 , 0
PalContrast = 70 , 70 , 200
PalAdd = 0 , 0 , 0
PalMul = .5 , .5 , .65
IgnoreHitPause = 1
Peresistent = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 0, AfterImage]
Type= AfterImage
Trigger1 = Var(25) = 1
Trigger1 = animelem = 1
Time = -1
Trans = Add
Length = 16
TimeGap = 1
FrameFap = 4
PalBright = 0 , 0 , 0
PalContrast = 240 , 240 , 0
PalAdd = 0 , 0 , 0
PalMul = .75 , .75 , 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 17
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PalFX]
type = PalFX
trigger1 = time >= 1
trigger1 = time <= 6
time = 1
mul = 768-(time-16)*32,768-(time-16)*32,768-(time-16)*32

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1
time = 28
freq = 80
ampl = -4
phase = 90

[State 0, PowerSet]
type = PowerSet
trigger1 = !time
value = 3000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S8,8
volume = 256
channel = -1

[State 0, 0]
type = PlaySnd
trigger1 = time = 3
value = S39,0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S40,0
volume = 256
channel = -1


[State 197, 5]
type = ChangeState
trigger1 = !animtime
value = 10196
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10199]
type    = S
movetype= A
physics = S
velset = 0,0
anim = ifelse(StateType = S,10199,10011)
poweradd = -15
ctrl = 0

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 6048
ID = 6048
pos = 9,-35
postype = p1
removetime = -2
scale = 0.8,0.8
ontop = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = p2dist x +ifelse(facing = -1,120+RANDOM%2,150+RANDOM%2)
y = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 1 || animelem = 5
time = 7
freq = 122
ampl = -2
phase = 45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 || !time
value = S29,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 || !time
value = S29,1
volume = 256
channel = -1


[State 0, ChangeState]
type = ChangeState
trigger1 =! animtime
value = ifelse(StateType = S,0,11)
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10200]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 10200
poweradd = 50
sprpriority = 0

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 3
value = fvar(3)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,7+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0+(random%2)
volume = 256
channel = -1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(2) = 2
anim = 6019
ID = 6019
pos = -15,4
postype = p1
removetime = -2
scale = 0.4,0.5
ontop = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 7
freq = 155
ampl = -3
phase = 22

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(15*fvar(2))+var(28),0
ground.type = high
air.type = hard
hitsound = s9,4+ (random%2)
guardsound = s9,4+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 5
air.hittime = 15
ground.velocity = -11.8
guard.velocity = -11.5
air.velocity = -11,-2
airguard.velocity = -1,-1
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=38),var(4):=-38
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 122
envshake.ampl = -2
envshake.phase = 22


[State 200,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10210]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 10210
sprpriority = 1

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 4
value = fvar(4)*0.9

[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 7
freq = 155
ampl = -2
phase = 45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,6+(random%2)
volume = 256
channel = -1


[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(15*fvar(2))+var(28),0
ground.type = high
air.type = high
hitsound = s9,5+ (random%2)
guardsound = s9,5+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 8
air.hittime = 8
ground.velocity = -1.1
guard.velocity = -1.1
air.velocity = -1,-1
airguard.velocity = -1,-0.5
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=46),var(4):=-45
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 122
envshake.ampl = -2
envshake.phase = 22

[State 200,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10220]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 10220
sprpriority = 1

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 5
value = fvar(5)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,3+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(15*fvar(2))+var(28),0
ground.type = high
air.type = high
hitsound = S9,7+ (random%2)
guardsound = S9,7+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -4.8,-3
guard.velocity = -4.5
air.velocity = -4
airguard.velocity = -4,-0.5
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=70),var(4):=-50
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 122
envshake.ampl = -2
envshake.phase = 22

[State 10220, 5]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 10230]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10100
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1004
ID = 1004
bindtime = -1
pos = 0,0
postype = p1
removetime = 14
scale = 0.35,0.35
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 14

[State 0, VelSet]
type = velset
trigger1 = time > 1 && p2dist x > 10
x = p2bodydist x*0.2

[State 0, end]
type = ChangeState
trigger1 = time = 12
value = 10231
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 10231]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10230
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = !time
anim = 6004
ID = 6004
pos = -27,-16
postype = p1
removetime = -2
scale = 0.5,0.5
ontop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S21,4
volume = 256
channel = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 60

[State 0, Helper]
type = Helper
trigger1 = time = 1
;trigger1 = movecontact
helpertype = normal
name = "RasenganNonPowerFull"
ID = 10232
stateno = 10232
pos = 66,-7
postype = p1
size.xscale = 0.4
size.yscale = 0.4
supermovetime = -1
pausemovetime = -1

[State 0, end]
type = ChangeState
;trigger1 = movecontact
trigger1 = time = 68
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10232]
type = S
movetype = A
physics = S
anim = 1004
velset = 0,0
sprpriority = 1
juggle = 3
ctrl = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(12)*20 || time = 50-var(12)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 50-var(12)*20 || time = 100-var(12)*30
time = 30
freq = 120
ampl = -4

[State 0, Explod]
type = Explod
trigger1 = time = 1 || time = 21 || time = 41 || time = 51
anim = 6038
ID = 6038
pos = 0,-30
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 1 || time = 21 || time = 31 || time = 41
anim = 1008
ID = 1008
pos = -12,-35
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time >= 20
ID = 1008
scale = 0.010+(time/39.000),0.010+(time/39.000)


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = unguardable

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 100
id = -1
pos = -6,-1

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 13
value = 15

[State 217, 2]
type = HitDef
trigger1 = timemod = 6,2
;trigger1 = time = 0
attr = S, NA
;animtype  = up
hitsound = s21,2
guardsound = s21,2
damage    = 1+var(13)+var(28)
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,20
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -3,-22
air.velocity = -3,-22
fall = 1
guard.dist = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S21,6
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S21,3
volume = -256
channel = 1
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 80
channel = 1

[State 252, ChangeState]
type = destroyself
trigger1 = time = 80
;-------------------------------------------------------------------------------
[Statedef 10240]
type = S
movetype = A
physics = S
velset = 0,0
poweradd = -10
sprpriority = 7
anim = 10250
ctrl = 0

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,4;+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,7+(random%2)
volume = 256
channel = -1

[State 800, 1]
type = HitDef
Trigger1 = animelem = 3
attr = S, NT
hitflag = M
priority = 1;, Miss
sparkno = -1
sprpriority = 1
hitsound = S2, 9
p1facing = ifelse (command = "holdback", -1, 1)
p2facing = -1
p1stateno = 10241
p2stateno = 810
fall = 1
pausetime = 2,3
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=25),var(4):=-165

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 2
time = 5
id = -1
pos = 56,-33

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 3
time = 5
id = -1
pos = 57,-25

[State 0, TargetBind]
type = TargetBind
trigger1 = animelem = 4
time = 5
id = -1
pos = 69,-14

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 5

[State 0,0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10241]
type = S
movetype = A
physics = S
velset = 0,0
sprpriority = 7
anim = 10251
ctrl = 0


[State 800, 1]
type = HitDef
Trigger1 = animelem = 1
attr = S, NT
hitflag = M
priority = 1;, Miss
sparkno = -1
sprpriority = 1
hitsound = S2, 9
p1facing = ifelse (command = "holdback", -1, 1)
p2facing = -1
fall = 1

[State 801, Turn]
type = Turn
trigger1 = AnimTime = 0

[State 801, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10260]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 10260
poweradd = 50
sprpriority = 0

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 6
value = fvar(6)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S30,0;+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,7;+(random%2)
volume = 256
channel = -1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(3) = 1
anim = 6050
ID = 6050
pos = 42,-49
postype = p1
removetime = -2
scale = 0.9,0.9
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = animelemtime(2) = 2
anim = 6019
ID = 6019
pos = -15,4
postype = p1
removetime = -2
scale = 0.4,0.5
ontop = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 7
freq = 155
ampl = -3
phase = 22

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(15*fvar(2))+var(28),0
ground.type = high
air.type = hard
hitsound = -1; s9,4+ (random%2)
guardsound = -1;s9,4+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 0,0
ground.hittime = 5
air.hittime = 15
ground.velocity = -1.8
guard.velocity = -1.5
air.velocity = -1,-1
airguard.velocity = -1,-1
sparkno = -1;*(var(2):=7051)**0
guard.sparkno = -1;*(var(2):=7051)**0
sparkxy = -1;*(var(3):=38),var(4):=-38
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 122
envshake.ampl = -2
envshake.phase = 22


[State 200,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10270]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 10240
sprpriority = 1

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 7
value = fvar(7)*0.9

[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 7
freq = 155
ampl = -2
phase = 45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,6+(random%2)
volume = 256
channel = -1


[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(15*fvar(2))+var(28),0
ground.type = high
air.type = high
hitsound = s9,5+ (random%2)
guardsound = s9,5+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 8
air.hittime = 8
ground.velocity = 0,-7
guard.velocity = -0.3
air.velocity = 0,-7
airguard.velocity = 0,-7
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=46),var(4):=-45
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 122
envshake.ampl = -2
envshake.phase = 22

[State 200,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10280]
type = S
movetype = A
physics = S
juggle = 1
velset = 1,0
ctrl = 0
anim = 10280
sprpriority = 1

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 8
value = fvar(8)*0.9

[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 7
freq = 155
ampl = -2
phase = 45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,6+(random%2)
volume = 256
channel = -1


[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(15*fvar(2))+var(28),0
ground.type = high
air.type = high
hitsound = s9,5+ (random%2)
guardsound = s9,5+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 8
air.hittime = 8
ground.velocity = -5,-4
guard.velocity = -5
air.velocity = -5,-4
airguard.velocity = -5,-4
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=46),var(4):=-65
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 12
envshake.freq = 122
envshake.ampl = -2
envshake.phase = 22

[State 200,ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10290]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= -200
ctrl = 0
anim = 10290


[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S31,0
volume = 256
channel = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
time = 11
freq = 111
ampl = -2
phase = 34

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 4,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10291
stateno = 10291
pos = 22,-30
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 3,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10291
stateno = 10291
pos = 22,-25
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 4,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10291
stateno = 10291
pos = 22,-20
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 5,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10291
stateno = 10291
pos = 22,-15
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 3,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10291
stateno = 10291
pos = 22,-10
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 2,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10291
stateno = 10291
pos = 22,-5
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 1 && time < 80
x = -0.1

[State 400, 5]
type = ChangeState
trigger1 = time = 90
value = 11
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10291]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = ifelse(random%2,10291,10292)
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 22
freq = 133
ampl = -3
phase = 34

[State 700]
type = PlaySnd
trigger1 = RootDist x
value = S31,1
volume = -256

[State 700]
type = PlaySnd
trigger1 = RootDist x
value = S31,3
volume = -256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1



[State 701]
type = HitDef
trigger1 = time = 0
attr = S,NP
hitflag = MAF
guardflag = HL
ground.type = high
air.type = high
damage = 5+var(28),2
animtype = Up
priority = 3, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = 31,3
guardsound = -1
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = -1.3,-3
airguard.velocity = -1.3,-3
air.type = high
air.velocity = -1.1,-2
air.hittime = 1
fall = 1
fall.recover = 1
persistent = 1
fall.yvelocity = -4.5
air.fall = 0
down.bounce = 1


[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1


[State 0, VelSet]
type = VelSet
trigger1 = time = 1
y = Var(19)/100.0

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 19
range = 550,-550

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 16

[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1

[State 0, AngleSet]
type=AngleSet
trigger1 = 1
value=((atan((-1*Vel Y)/Vel X))*cos(360/(2*pi)))

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 10292
time = -1
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 10292
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10292]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
anim = ifelse(random%2,10291,10292)
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S31,2
volume = 256
channel = -1


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 3
;-------------------------------------------------------------------------------
[Statedef 10299]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 10999
sprpriority = 1
poweradd = -1500

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
anim = S6078
sound = S14,0
pos = 0,-33
darken = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bg"
ID = 8004
stateno = 8004
pos = 0,-30
postype = p1
facing = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.4
size.yscale = 0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 0
channel = -1


[State 10999, end]
type = ChangeState
trigger1 = !animtime
value = 10300
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10300]
type = S
ctrl = 0
anim = 10300
velset = 0,0
movetype = A
poweradd = 0
physics = S
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 27
time = 11
freq = 111
ampl = -2
phase = 34

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim = 6081
ID = 6081
pos = 32,-47
postype = p1
removetime = -2
scale = 0.14,0.14
ontop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,5
volume = 0
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 22
freq = 111
ampl = -3
phase = 34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S34,0
volume = 256
channel = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 120

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 10
add = -100,-100,-100

[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "Katon"
ID = 10301
stateno =  10301
pos = 30,-43
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1


[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "Senpou"
ID = 10303
stateno =  10303
pos = 165,-47
postype = p1
facing = 1
size.xscale = 0.75
size.yscale = 1.1



[State 0, Helper]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "Wind
ID = 10305
stateno =  10305
pos = 210,-50
postype = p1
facing = 1
size.xscale = 0.9
size.yscale = 0.9

[State 10300, end]
type = ChangeState
trigger1 = time = 220
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10301]
type = S
ctrl = 0
anim = 10301
velset = 0,0
movetype = A
poweradd = 0
physics = S
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,6
volume = 0
channel = -1
loop = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S15,7
volume = 0
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 128
channel = -1


[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 129
pos = 30,-43

[State 0, Explod]
type = Explod
trigger1 = time % 9 = 0
trigger1 = pos y > -50
anim = 303
ID = 303
pos = 100,ceil(-pos y)+1
postype = p1
vel = 3,0
removetime = -2
scale = 0.9,ifelse(time< 40,0.8,0.5)
sprpriority = 6

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 3,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.814,.614),cond(random<500,.814,.614)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 3,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.314,.314),cond(random<500,.314,.314)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)

[State 217, 2]
type = HitDef
trigger1 = timemod = 6,2
attr = S, NA
hitsound = s33,99
guardsound = s33,99
damage    = 16+var(28),16+var(28)
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,20
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -3,-11
air.velocity = -3,-11
fall = 1
guard.dist = 0
palfx.time = 60
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5




[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag = unguardable

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 129
value = 10302
;-------------------------------------------------------------------------------
[Statedef 10302]
type = S
ctrl = 0
anim = 10302
velset = 0,0
movetype = A
poweradd = 0
physics = S
sprpriority = 3

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 302
time = -1
forceair = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 10303]
type = S
ctrl = 0
anim = 10303
velset = 0,0
movetype = A
poweradd = 0
physics = S
sprpriority = 5

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 129
pos = 165,-47


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag = unguardable


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 129
value = 10304
;-------------------------------------------------------------------------------
[Statedef 10304]
type = S
ctrl = 0
anim = 10304
velset = 0,0
movetype = A
poweradd = 0
physics = S
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 10305]
type = S
ctrl = 0
anim = 10305
velset = 0,0
movetype = A
poweradd = 0
physics = S
sprpriority = 7

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 129
pos = 210,-50

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag = unguardable


[State 0, ChangeState]
type = ChangeState
trigger1 = time = 149
value = 10306
;-------------------------------------------------------------------------------
[Statedef 10306]
type = S
ctrl = 0
anim = 10306
velset = 0,0
movetype = A
poweradd = 0
physics = S
sprpriority = 7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = globalnoshadow
flag = unguardable

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 10309]
type = S
ctrl = 0
anim = 10999
velset = 0,0
movetype = A
poweradd = -1000
physics = S
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
anim = S6078
sound = S14,0
pos = 0,-33
darken = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bg"
ID = 8004
stateno = 8004
pos = 0,-30
postype = p1
facing = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.4
size.yscale = 0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 0
channel = -1

[State 10999, end]
type = ChangeState
trigger1 = !animtime
value = 10310
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10310]
type = S
movetype = A
physics = S
anim = 10310
sprpriority = 7
poweradd = 0
velset = 0,0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S13,3
volume = 256
channel = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 18
time = 1
add = 0,0,0
mul = 64,64,64

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [18,26]
time = 1
add = 0,0,0
mul = 64+(time-18)*24,64+(time-18)*24,64+(time-18)*24

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 27
time = 11
freq = 111
ampl = -2
phase = 34

[State 0, Helper]
type = Helper
trigger1 = time = 27
helpertype = normal
name = "Katon:Dain-Endan"
ID = 10311
stateno = 10311
pos = 165,-27
postype = p1
facing = 1
size.xscale = 0.6
size.yscale = 0.6

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10311]
type = S
movetype = A
physics = S
anim = 311
sprpriority = 1
velset = 0,0
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,5
volume = 0
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S15,1
volume = 256
channel = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 22
freq = 111
ampl = -3
phase = 34

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 3,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.514,.514),cond(random<500,.514,.514)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag = globalnoshadow

[State 0, HitDef]
type = HitDef
trigger1 = movehit != [1,3]
attr = S,NA
hitflag = MAFD
guardflag = HL
ground.type = Low
air.type = Low
damage = 15+var(28),5
pausetime = 3,3
ground.velocity = -3,-3
air.velocity = -3,-1
p1sprpriority = -1
fall = 1
fall.recover = 0
id = 10311
sparkno = -1
guard.sparkno = -1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 65
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time % 9 = 0
value = S15,2
volume = 0
channel = -1

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = movehit = 4

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 302
time = -1
forceair = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 10400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= -500
ctrl = 0
anim = 10400

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S13,3
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14,1
volume = -256
channel = -1

[State 0, SuperPause]
type = SuperPause
trigger1 = !time
time = 25
movetime = 25
anim = S6079
pos = 3,-25
scale = 0.5,0.5
darken = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 18
time = 1
add = 0,0,0
mul = 64,64,64

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [18,26]
time = 1
add = 0,0,0
mul = 64+(time-18)*24,64+(time-18)*24,64+(time-18)*24


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 27
time = 11
freq = 111
ampl = -2
phase = 34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S17,0
volume = 256
channel = -1



[State 0, Helper]
type = Helper
trigger1 = time > 24
trigger1 = timemod = 4,0
helpertype = normal
name = "Katon:Dain-Endan"
ID = 10401
stateno = 10401
pos = 22,-30
postype = p1
facing = 1
size.xscale = 0.43
size.yscale = 0.43

[State 0, Helper]
type = Helper
trigger1 = time > 24
trigger1 = timemod = 4,0
helpertype = normal
name = "Katon:Dain-Endan"
ID = 10401
stateno = 10401
pos = 22,-30
postype = p1
facing = 1
size.xscale = 0.33
size.yscale = 0.33

[State 400, 5]
type = ChangeState
trigger1 = time = 130
value = 11
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10401]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 321
sprpriority = 3

[State 700]
type = PlaySnd
trigger1 = RootDist x
value = S13,1
volume = -256


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1



[State 701]
type = HitDef
trigger1 = time = 0
attr = S,NP
hitflag = MAF
guardflag = HL
ground.type = high
air.type = high
damage = 8,5
animtype = Up
priority = 3, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = -1.3,-3
airguard.velocity = -1.3,-3
air.type = high
air.velocity = -1.1,-2
air.hittime = 1
fall = 1
fall.recover = 1
persistent = 1
palfx.time = 55
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5
fall.yvelocity = -4.5
air.fall = 0
down.bounce = 1

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 5,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.254,.254),cond(random<500,.254,.254)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)


[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1


[State 0, VelSet]
type = VelSet
trigger1 = time = 1
y = Var(6)/100.0

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 6
range = 450,-450

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 16

[State 0, AngleDraw]
type=AngleDraw
trigger1=1

[State 0, AngleSet]
type=AngleSet
trigger1=1
value=((atan((-1*Vel Y)/Vel X))*(360/(2*pi)))

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 402
time = -1
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 10402
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10402]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
anim = 272
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S15,9
volume = 256
channel = -1



[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2,2

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 10410]
type = S
ctrl = 0
anim = 10410
velset = 0,0
movetype = A
poweradd = -500
physics = S
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 25
time = 9
freq = 122
ampl = -3
phase = 55

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim = 6007
ID = 6007
pos = 50,-35
postype = p1
removetime = -2
scale = 0.8,0.8
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 25
anim = 6008
ID = 6008
pos = 50,-35
postype = p1
removetime = -2
scale = 1,1
ontop = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 15
freq = 122
ampl = -4
phase = 66

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S24,1
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 27
value = S24,0
volume = 256
channel = -1



[State 0, Helper]
type = Helper
trigger1 = time = 27
helpertype = normal
name = "Bunshin"
ID = 990001
stateno = 990001
pos = 50,0
postype = p1
facing = 1
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 6
time = 25
anim = S6074
sound = S14,0
pos = 0,-33
darken = 1

[State 0, Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "bg"
ID = 8002
stateno = 8002
pos = 0,-30
postype = p1
facing = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.4
size.yscale = 0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S17,0
volume = 0
channel = -1


[State 10420, end]
type = ChangeState
trigger1 = !animtime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10420]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd = -100
ctrl = 0
anim = 10420

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP ,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 3
time = 22
freq = 111
ampl = -3
phase = 34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S24,0
volume = 0
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 10422
ID = 10422
pos = -11,-33
postype = p1
removetime = 20
scale = 1,1
ontop = 0
sprpriority = 7

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 6022
ID = 6022
pos = -11,-12
postype = p1
removetime = -2
scale = 0.23,0.23
ontop = 1
sprpriority = 7

[State 0, Helper]
type = Helper
trigger1 = time = 27
helpertype = normal
name = "Shuriken"
ID = 10421
stateno = 10421
pos = 22,-30
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S17,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S35,1
volume = 256
channel = -1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 3
time = 19
anim = S6082
sound = S14,0
pos = 4,-42
darken = 1

[State 700]
Type=VarSet
Trigger1 = 1
fvar(13) = (EnemyNear(0),Pos X-Pos X)*Facing  ;p2 following

[State 700]
Type=VarSet
trigger1 = 1
fvar(14) = (EnemyNear(0),pos Y-Pos Y) ;p2 long distance from p1

[State 700]
Type = VarSet
trigger1 = 1
fvar(15) = Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14)))) ;the real distance

[State 700]
type = ChangeState
trigger1 = !AnimTime
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Normal
[Statedef 10421]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 10421
sprpriority = 3

[State 701]
type = VelSet
trigger1 = time = 1
x = (Parent,Fvar(13))/(Parent,fvar(15)+.1)*17.0
y = (Parent,FVar(14))/(Parent,fvar(15)+.1)*17.0

[State 701]
type = HitDef
trigger1 = time = 0
attr = S, NP
damage = 170+var(28),85+var(28)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,-3
airguard.velocity = -2,-3
air.type = high
air.velocity = 2,-2
air.hittime = 15
fall = 1
palfx.time = 1
palfx.add = 128,0,0

[State 0, Explod Guard]
type = Explod
trigger1 = MoveGuarded = 1
anim = 704
ID = 704
Pos = EnemyNear,Const(Size.Head.Pos.X)+27,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+16,-5)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = 1
scale = EnemyNear,Const(size.xscale)/8,EnemyNear,Const(size.yscale)/8
sprpriority = 1


[State 0, Explod Guard]
type = Explod
trigger1 = MoveHit = 1
anim = 703
ID = 703
Pos = EnemyNear,Const(Size.Head.Pos.X)+5,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+23,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = -1
scale = EnemyNear,Const(size.xscale)/1.5,EnemyNear,Const(size.yscale)/1.5
sprpriority = 1

[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AngleSet]
type=AngleSet
trigger1 = 1
value = Ceil((atan((-Vel Y)/Vel X))*(180/(pi)))
IgnoreHitPause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = 1
time = 5
freq = 122
ampl = -3
phase = 45

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 15


[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 10422
time = 0
forceair = 0

[State 0, Explod]
type = Explod
trigger1 = FrontEdgeDist < 1
anim = 6083
ID = 6083
pos = -5,-4
postype = p1
removetime = -2
ontop = 1


[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 10422
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Ref
[Statedef 10422]
type    = S
movetype= A
physics = S
juggle  = 2
velset = -10,,20
;anim = 701
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = -1
value = S35,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = 1
value = S35,0

[State 6002, AngleDraw]
type = AngleDraw
trigger1 = Pos Y < 0
IgnoreHitPause = 1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = Pos Y < 0
value = 10
IgnoreHitPause = 1

[State 6002, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 6002, VelSet]
type = VelSet
trigger1 = !time
x = 0-random%-6
y = -3-random%-5

[State 6002, VelSet]
type = VelAdd
trigger1 = Vel x = 0
x = -4

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 6002, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 5
freq = 122
ampl = -3
phase = 77

[State 6002, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 707, ChangeState]
type = ChangeState
Trigger1 = Pos Y >= 0
Value = 10423
;-------------------------------------------------------------------------------
;Kunai Disp
[Statedef 10423]
Type = S
MoveType = I
Physics = S
anim = 10423

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AfterImageTime]
type=AfterImageTime
trigger1 = 1
time = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 888

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,2
freqmul = 0.5
volume = -999
lowpriority = -1

[State 0, 2]
Type = Trans
Trigger1 = timemod = 5,0
Trans = AddAlpha
Alpha = Ceil(256.0-((Time/50.0)*256.0)),256
IgnoreHitPause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 40
;-------------------------------------------------------------------------------
[Statedef 10430]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd = -100
ctrl = 0
anim = 10430


[State 0, PowerAdd]
type = PowerAdd
trigger1 = time > 0
value = -1.2*time/5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S31,0
volume = 256
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = power = 0
trigger2 = command != "hold_a"
channel = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP ,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 5
time = 11
freq = 111
ampl = -2
phase = 34

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 4,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10431
stateno = 10431
pos = 22,-30
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 3,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10431
stateno = 10431
pos = 22,-25
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 4,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10431
stateno = 10431
pos = 22,-20
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 5,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10431
stateno = 10431
pos = 22,-15
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 3,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10431
stateno = 10431
pos = 22,-10
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = time > 5
trigger1 = timemod = 2,0
helpertype = normal
name = "Sempo-Kebari-Sembon"
ID = 10431
stateno = 10431
pos = 22,-5
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 256
channel = -1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 1
time = 20
anim = S6080
sound = S14,0
pos = 4,-42
darken = 1

[State 420, 5]
type = ChangeState
trigger1 = power = 0
trigger2 = command != "hold_a"
value = 11
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10431]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = ifelse(random%2,10291,10292)
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 1
time = 22
freq = 133
ampl = -3
phase = 34

[State 700]
type = PlaySnd
trigger1 = RootDist x
value = S31,1
volume = -256

[State 700]
type = PlaySnd
trigger1 = RootDist x
value = S31,3
volume = -256

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1



[State 701]
type = HitDef
trigger1 = time = 0
attr = S,NP
hitflag = MAF
guardflag = HL
ground.type = high
air.type = high
damage = 3,2
animtype = Up
priority = 3, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = 31,3
guardsound = -1
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = -1.3,-3
airguard.velocity = -1.3,-3
air.type = high
air.velocity = -1.1,-2
air.hittime = 1
fall = 1
fall.recover = 1
persistent = 1
fall.yvelocity = -4.5
air.fall = 0
down.bounce = 1


[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1


[State 0, VelSet]
type = VelSet
trigger1 = time = 1
y = Var(19)/100.0

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 19
range = 550,-550

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 16

[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1

[State 0, AngleSet]
type=AngleSet
trigger1 = 1
value=((atan((-1*Vel Y)/Vel X))*cos(360/(2*pi)))

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 10292
time = -1
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 10292
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10440]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 25
ctrl = 0
anim = 10240

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 7
freq = 122
ampl = -3
phase = 45

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 11
value = fvar(11)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,7+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2))+50,0
ground.type = high
air.type = high
hitsound = S9,3+(random%2)
guardsound = S9,3+(random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -2.1,-6
guard.velocity = -2.1
air.velocity = -3,-6
airguard.velocity = -3,-6
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=46),var(4):=-66
fall = 1
p2stateno = 820
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -5

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10450]
type    = A
movetype= A
physics = A
juggle  = 5
poweradd = -200
ctrl = 0
anim = 10450

[State 700]
Type=VarSet
Trigger1 = 1
fvar(19) = (EnemyNear(0),Pos X-Pos X)*Facing  ;p2 following

[State 700]
Type=VarSet
trigger1 = 1
fvar(20) = (EnemyNear(0),pos Y-Pos Y) ;p2 long distance from p1

[State 700]
Type = VarSet
trigger1 = 1
fvar(21) = Exp(0.5*ln((fvar(19)*fvar(19))+(fvar(20)*fvar(20)))) ;the real distance

[State 0, VelSet]
type = VelSet
trigger1 = time > 5
x = -0.2
y = -0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S13,3
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S14,1
volume = -256
channel = -1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 3
time = 20
movetime = 25
anim = S6079
pos = 3,-25
scale = 0.5,0.5
darken = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 18
time = 1
add = 0,0,0
mul = 64,64,64

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [18,26]
time = 1
add = 0,0,0
mul = 64+(time-18)*24,64+(time-18)*24,64+(time-18)*24


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 27
time = 11
freq = 111
ampl = -2
phase = 34

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 9
value = S17,0
volume = 256
channel = -1



[State 0, Helper]
type = Helper
trigger1 = time > 24
trigger1 = timemod = 4,0
helpertype = normal
name = "Katon:Dain-Endan"
ID = 10451
stateno = 10451
pos = 22,-35
postype = p1
facing = 1
size.xscale = 0.43
size.yscale = 0.43

[State 0, AngleSet]
type=AngleSet
trigger1 = helper(10351),stateno = 10451
value = Ceil((atan((-Vel Y)/Vel X))*(180/(pi)))
IgnoreHitPause = 1

[State 0, Helper]
type = Helper
trigger1 = time > 24
trigger1 = timemod = 4,0
helpertype = normal
name = "Katon:Dain-Endan"
ID = 10451
stateno = 10451
pos = 22,-35
postype = p1
facing = 1
size.xscale = 0.33
size.yscale = 0.33

[State 400, 5]
type = ChangeState
trigger1 = time = 130
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10451]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 321
sprpriority = 3

[State 701]
type = VelSet
trigger1 = time = 0
x = (Parent,Fvar(19))/(Parent,fvar(21)+.1)*17.0
y = (Parent,FVar(20))/(Parent,fvar(21)+.1)*17.0

[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1


[State 0, AngleSet]
type=AngleSet
trigger1 = 1
value = Ceil((atan((-Vel Y)/Vel X))*(180/(pi)))
IgnoreHitPause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 13+var(6)/60


[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 6
range = 450,-450

[State 700]
type = PlaySnd
trigger1 = RootDist x
value = S13,1
volume = -256


[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 80

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1


[State 701]
type = HitDef
trigger1 = time = 0
attr = S,NP
hitflag = MAF
guardflag = HL
ground.type = high
air.type = high
damage = 3,2
animtype = Up
priority = 3, Hit
pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.slidetime = 5
ground.hittime  = 0
ground.velocity = -1.3,-3
airguard.velocity = -1.3,-3
air.type = high
air.velocity = -1.1,-2
air.hittime = 1
fall = 1
fall.recover = 1
persistent = 1
palfx.time = 55
palfx.add = 224,96,0
palfx.mul = 256,256,128
palfx.sinadd = 50,50,50,5
fall.yvelocity = -4.5
air.fall = 0
down.bounce = 1

[State 0, Explod]
type = Explod
triggerall = movecontact && moveguarded || movehit && moveguarded || movehit || moveguarded
trigger1 = timemod = 5,0
anim = 272
ID =272
postype = p2
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+30
random = 20,60
vel = -1+random%2,-1+random%2
accel = cond(-1+random%2,-.1,.2),cond(-1+random%2,-.1,-.2)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = cond(random<500,.254,.254),cond(random<500,.254,.254)
sprpriority = 12
ontop = 1
ownpal = 1
facing = cond(random<500,1,-1)
vfacing = cond(random<500,1,-1)

[State 0,
HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 402
time = -1
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 10452
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10452]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
anim = 272
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S15,9
volume = 256
channel = -1



[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2,2

[State 0, Trans]
type = Trans
trigger1 = time > 0
trans = addalpha
alpha = 256,256
ignorehitpause = 1
persistent = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
[Statedef 10600]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 20
ctrl = 0
anim = 10600

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 3
time = 7
freq = 110
ampl = -2
phase = 90
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 3
value = fvar(3)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,10+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,6+(random%2)
volume = 256
channel = -1

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = 2
y = -3

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2)),0
ground.type = high
air.type = hard
hitsound = s9,1+ (random%2)
guardsound = s9,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 5
air.hittime = 15
ground.velocity = -11.8
guard.velocity = -11.5
air.velocity = -11,-2
airguard.velocity = -1,-1
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=45),var(4):=-50
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0

 [State 0, EnvShake]
type = EnvShake
trigger1 = !movecontact
time = 9
freq = 122
ampl = -3
phase = 99

[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Jump Medium Punch
; CNS difficulty: easy
[Statedef 10610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 10610

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 4
value = fvar(4)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,5+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2)),0
ground.type = high
air.type = high
hitsound = s9,4+ (random%2)
guardsound = s9,4+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 8
air.hittime = 8
ground.velocity = -1.8
guard.velocity = -1.5
air.velocity = -1,-1
airguard.velocity = -1,-0.5
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=45),var(4):=-30
fall = 0
fall.recover = 1
ground.cornerpush.veloff = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = !movecontact
time = 9
freq = 122
ampl = -3
phase = 99

[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Jump Strong Punch
; CNS difficulty: easy
[Statedef 10620]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 70
ctrl = 0
anim = 10620

[State 0, VarAdd]
type = VarAdd
triggerall = !numpartner
trigger1 = movehit
v = 32
value = 1
persistent = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 4
value = fvar(4)*0.9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S10,5+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S8,0+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = Ceil(30*fvar(2)),0
ground.type = high
air.type = high
hitsound = s9,8
guardsound = s9,8
hitflag	= MA
guardflag = MA
pausetime = 5,2
ground.hittime = 2
air.hittime = 8
ground.velocity = -1.8
guard.velocity = -1.5
air.velocity = -1,33
airguard.velocity = -1,33
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=35),var(4):=-20
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 20
fall.yvelocity = -6.5

[State 0, EnvShake]
type = EnvShake
trigger1 = !movecontact
time = 9
freq = 122
ampl = -3
phase = 99

[State 0]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Kunai Throw
[Statedef 10700]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 10700
sprpriority = 2

[State 700]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0

[State 700]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Shuriken"
stateno = 10701
ID = 10702
pos = 10,-38
postype = p1
facing = 1
ownpal = 0
supermovetime = 999999
pausemovetime = 999999
size.xscale =.5
size.yscale =.5

[State 700]
Type=VarSet
Trigger1 = 1
fvar(13) = (EnemyNear(0),Pos X-Pos X)*Facing  ;p2 following

[State 700]
Type=VarSet
trigger1 = 1
fvar(14) = (EnemyNear(0),pos Y-Pos Y) ;p2 long distance from p1

[State 700]
Type = VarSet
trigger1 = 1
fvar(15) = Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14)))) ;the real distance

[State 700]
type = ChangeState
trigger1 = !AnimTime
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Normal
[Statedef 10701]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = ifelse(random%4,701,702)
sprpriority = 3


[State 701]
type = VelSet
trigger1 = time = 1
x = (Parent,Fvar(13))/(Parent,fvar(15)+.1)*17.0
y = (Parent,FVar(14))/(Parent,fvar(15)+.1)*17.0

[State 701]
type = HitDef
trigger1 = time = 0
attr = S, NP
damage = 15,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = 0,0
air.type = high
air.velocity = 0,0
air.hittime = 15
palfx.time = 1
palfx.add = 128,0,0

[State 0, Explod Guard]
type = Explod
trigger1 = MoveGuarded = 1
anim = 704
ID = 704
Pos = EnemyNear,Const(Size.Head.Pos.X)+22,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+16,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = 1
scale = EnemyNear,Const(size.xscale)/8,EnemyNear,Const(size.yscale)/8
sprpriority = 1


[State 0, Explod Guard]
type = Explod
trigger1 = MoveHit = 1
anim = 703
ID = 703
Pos = EnemyNear,Const(Size.Head.Pos.X)+5,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+23,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = -1
scale = EnemyNear,Const(size.xscale)/3,EnemyNear,Const(size.yscale)/3
sprpriority = 1

[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AngleSet]
type=AngleSet
trigger1 = 1
value = Ceil((atan((-Vel Y)/Vel X))*(180/(pi)))
IgnoreHitPause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 13

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 10702
time = 0
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 10702
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Ref
[Statedef 10702]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,20
;anim = 701
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = -1
value = S4,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = 1
value = S6,1

[State 6002, AngleDraw]
type = AngleDraw
trigger1 = Pos Y < 0
IgnoreHitPause=1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = Pos Y < 0
value = 10
IgnoreHitPause=1

[State 6002, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 6002, VelSet]
type = VelSet
trigger1 = !time
x = 0-random%-6
y = -3-random%-5

[State 6002, VelSet]
type = VelAdd
trigger1 = Vel x = 0
x = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 6002, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 5
freq = 122
ampl = -3
phase = 77

[State 6002, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 707, ChangeState]
type = ChangeState
Trigger1 = Pos Y >= 0
Value = 10703
;-------------------------------------------------------------------------------
;Kunai Disp
[Statedef 10703]
Type = S
MoveType = I
Physics = S
;anim = 701



[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AfterImageTime]
type=AfterImageTime
trigger1 = 1
time = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 888

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,2
freqmul = 0.5
volume = -999
lowpriority = -1

[State 0, 2]
Type = Trans
Trigger1 = timemod = 5,0
Trans = AddAlpha
Alpha = Ceil(256.0-((Time/50.0)*256.0)),256
IgnoreHitPause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 40
;-------------------------------------------------------------------------------
;Kunai Throw
[Statedef 10750]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
ctrl = 0
anim = 10750
sprpriority = 2

[State 700]
type = PlaySnd
trigger1 = animelem = 2
value = S4,0

[State 700]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Shuriken"
stateno = 10751
ID = 10752
pos = 10,-38
postype = p1
facing = 1
ownpal = 0
supermovetime = 999999
pausemovetime = 999999
size.xscale =.5
size.yscale =.5

[State 700]
Type=VarSet
Trigger1 = 1
fvar(13) = (EnemyNear(0),Pos X-Pos X)*Facing  ;p2 following

[State 700]
Type=VarSet
trigger1 = 1
fvar(14) = (EnemyNear(0),pos Y-Pos Y) ;p2 long distance from p1

[State 700]
Type = VarSet
trigger1 = 1
fvar(15) = Exp(0.5*ln((fvar(13)*fvar(13))+(fvar(14)*fvar(14)))) ;the real distance

[State 700]
type = ChangeState
trigger1 = !AnimTime
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Normal
[Statedef 10751]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = ifelse(random%4,701,702)
sprpriority = 3

[State 701]
type = VelSet
trigger1 = time = 1
x = (Parent,Fvar(13))/(Parent,fvar(15)+.1)*17.0
y = (Parent,FVar(14))/(Parent,fvar(15)+.1)*17.0




[State 701]
type = HitDef
trigger1 = time = 0
attr = S, NP
damage = 15,7
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 0
sparkno = -1
guard.sparkno = -1
sparkxy = -10, 0
hitsound = -1
guardsound = -1
ground.type = high
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = 0,0
air.type = high
air.velocity = 0,0
air.hittime = 15
palfx.time = 1
palfx.add = 128,0,0

[State 0, Explod Guard]
type = Explod
trigger1 = MoveGuarded = 1
anim = 704
ID = 704
Pos = EnemyNear,Const(Size.Head.Pos.X)+22,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+16,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = 1
scale = EnemyNear,Const(size.xscale)/8,EnemyNear,Const(size.yscale)/8
sprpriority = 1


[State 0, Explod Guard]
type = Explod
trigger1 = MoveHit = 1
anim = 703
ID = 703
Pos = EnemyNear,Const(Size.Head.Pos.X)+5,Cond(P2StateType!= L,Const(Size.Mid.Pos.Y)+23,-10)
postype = p2
bindtime = -1
vel = 1,0
removetime = -2
facing = -1
scale = EnemyNear,Const(size.xscale)/3,EnemyNear,Const(size.yscale)/3
sprpriority = 1

[State 0, AngleDraw]
type=AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AngleSet]
type=AngleSet
trigger1 = 1
value = Ceil((atan((-Vel Y)/Vel X))*(180/(pi)))
IgnoreHitPause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 13

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
slot = 0
stateno = 10752
time = 0
forceair = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = MoveGuarded
trigger2 = FrontEdgeDist < 1
trigger3 = pos Y >= 0
value = 10752
ctrl = 1
;-------------------------------------------------------------------------------
;Shuriken Ref
[Statedef 10752]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,20
;anim = 701
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = !time
time = 5
freq = 122
ampl = -3
phase = 77

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = -1
value = S4,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0 && facing = 1
value = S6,1

[State 6002, AngleDraw]
type = AngleDraw
trigger1 = Pos Y < 0
IgnoreHitPause = 1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = Pos Y < 0
value = 10
IgnoreHitPause = 1

[State 6002, Gravity]
type = Gravity
trigger1 = Pos Y < 0

[State 6002, VelSet]
type = VelSet
trigger1 = !time
x = 0-random%-6
y = -3-random%-5

[State 6002, VelSet]
type = VelAdd
trigger1 = Vel x = 0
x = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = -1

[State 6002, VelSet]
type = VelSet
trigger1 = Pos Y >= 0
x = 0
y = 0

[State 6002, PosSet]
type = PosSet
trigger1 = Pos Y >= 0
y = 0

[State 707, ChangeState]
type = ChangeState
Trigger1 = Pos Y >= 0
Value = 10753
;-------------------------------------------------------------------------------
;Kunai Disp
[Statedef 10753]
Type = S
MoveType = I
Physics = S
;anim = 701

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
IgnoreHitPause = 1

[State 0, AfterImageTime]
type=AfterImageTime
trigger1 = 1
time = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 888

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S4,2
freqmul = 0.5
volume = -999
lowpriority = -1

[State 0, 2]
Type = Trans
Trigger1 = timemod = 5,0
Trans = AddAlpha
Alpha = Ceil(256.0-((Time/50.0)*256.0)),256
IgnoreHitPause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 40
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10800]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 1
anim = 10800
sprpriority = 1
poweradd = -2500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 256
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 6047
ID = 6047
pos = 4,-52
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 99999999999
pausemovetime = 99999999999
scale = 0.5,0.5
ontop = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 70
movetime = 70
anim = -1
sound = s14,4
darken = 0

[State 0, Helper]
type = Helper
trigger1 = time > 20
helpertype = normal
name = "Hyper-Portrait"
stateno = 10803
pos = 160,120
postype = left
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999
size.xscale = 0.3
size.yscale = 0.3
persistent = 0

[State 0, Scaling Light]
type = Helper
trigger1 = time = 4
helpertype = normal ;player
name = "Hyper-BG-Spark"
ID = 10802
stateno = 10802
pos = 0,0
postype = p1    ;p2,front,back,left,right
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, Fx 1]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 10800
stateno = 10801
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, Fx 2]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 10801
stateno = 10801
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 10804
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10801]
type = S
physics = S
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(10800)
x = -.7

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(10801)
x = .7

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = selfanimexist(root,anim)
elem = root,animelemno(0)
value = root,anim

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*3),256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 50
;-------------------------------------------------------------------------------
[Statedef 10802]
type = S
physics = S
anim = 6086
ctrl = 0
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 6089
ID = 6089
pos = -2,8
postype = p1
bindtime = -1
removetime = -2
scale = 1.3,1.3
ontop = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = noshadow
flag3 = nobardisplay

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 80
add = 0,0,0
mul = 256,256,256
sinadd = 255,255,255,-170

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = 6,-50

;[State 0, Trans]
;type = Trans
;trigger1 = 1
;trans = addalpha
;alpha = 256-(time*10),256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 23
;-------------------------------------------------------------------------------
[Statedef 10803]
type = S
physics = S
ctrl = 0
sprpriority = -5


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,facing = 1
value = 6087
persistent = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,facing = -1
value = 6087
persistent = 0
ignorehitpause = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosAdd]
type = PosAdd
triggerall = root,facing = 1
trigger1 = time = 0
x = 30 - screenpos x

[State 0, PosAdd]
type = PosAdd
triggerall = root,facing = -1
trigger1 = time = 0
x = 240 - screenpos x

[State 0, PosAdd]
type = PosAdd
trigger1 = time >= 0
y = 145 - screenpos y

[State 0, VelSet]
type = VelSet
triggerall = root,facing = 1
trigger1 = time < 50
x = .69

[State 0, VelSet]
type = VelSet
triggerall = root,facing = -1
trigger1 = time < 50
x = -.69

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*4),256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 50
scale = 1.7,1.7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
scale = 0.70+time/35.00,0.70+time/35.00


[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 50
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10804]
type = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 10804
sprpriority = 1
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = 10805
ID = 10805
pos = 5,-50
postype = p1
supermovetime = 99999999999
pausemovetime = 99999999999
removetime = 712
scale = 0.8,0.8
ontop = 1
;-------------------------------------------------------------------------------
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(20)*20 || time = 50-var(20)*30
time = 30
freq = 60
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40-var(20)*20 || time = 120-var(20)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 70-var(20)*40 && timemod = 30,0
time = 30
freq = 90
ampl = -3

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 8
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 85
anim = -1
movetime = 85
darken = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S41,0
volume = 256
channel = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time > 0
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 799
;-------------------------------------------------------------------------------
[State 0, Helper]
type = Helper
trigger1 = time > 81
trigger1 = timemod = 8,0
helpertype = normal
name = "Genjutsu"
ID = 10805
stateno = 10805
pos = 40,-55
postype = p1
facing = 1
size.xscale = ifelse(random%2,0.2,0.1)
size.yscale = ifelse(random%2,0.2,0.1)
supermovetime = 99999999999
pausemovetime = 99999999999
;-------------------------------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = Time = 790
anim = 6030
ID = 6030
pos = 160,120
postype = left
removetime = -2
supermovetime = 99999999999
pausemovetime = 99999999999
scale = 1,1
ontop = 1
;-------------------------------------------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 808
value = S41,1
volume = 0
channel = -1
;-------------------------------------------------------------------------------
[State 0, ChangeState]
type = ChangeState
trigger1 = time = 810 ;&& helper(10805),movecontact
value = 10806
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10805]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 10806
sprpriority = ifelse(random%2,-7,7)



[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = ifelse(random%2,7,0)

[State 217, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
hitsound = -1
guardsound = -1
damage    = 0
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,0
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = 0,0
air.velocity = 0,0
fall = 0
guard.dist = 0
p2stateno = 860



[State 0, VelSet]
type = VelSet
trigger1 = time = 1
y = Var(6)/100.0

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 6
range = 250,-250

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 6

[State 0, DestroySelf]
type = DestroySelf
trigger1 = ifelse(random%2,time =30,time = 60)
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10806]
type = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 10810
sprpriority = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S41,2
volume = 256
channel = -1


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 10807
ID = 10807
pos = 160,80
postype = left
removetime = 247
scale = 0.9,0.6
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 10808
ID = 10808
pos = 65,170
postype = left
removetime = 247
scale = 0.6,0.6
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 10808
ID = 10808
pos = 255,170
facing = -1
postype = left
removetime = 247
scale = 0.6,0.6
sprpriority = 4


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 10809
ID = 10809
pos = 165,110
facing = -1
postype = left
removetime = 247
scale = 0.2,0.25
sprpriority = 7

[State 0, Explod]
type = Explod
triggerall  = gametime%25
trigger1 = Time = 245
anim = 6029
ID = 6029
pos = 160,120
postype = left
removetime = -2
supermovetime = 99999999999
pausemovetime = 99999999999
scale = 1,1
ontop = 1

[State 0, Explod]
type = Explod
trigger1 = time = 245
anim = 10812
ID = 10812
pos = -27,-9
postype = p2
bindtime = -1
removetime = -2
scale = 1,1
ontop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 255
value = S41,4
volume = 0
channel = -1


[State 10999, end]
type = ChangeState
trigger1 = time = 255
value = 105
ctrl = 1
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10850]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 1
anim = 10800
sprpriority = 1
poweradd = -1000

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 256
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 6047
ID = 6047
pos = 4,-52
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
supermovetime = 99999999999
pausemovetime = 99999999999
scale = 0.5,0.5
ontop = 1

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 70
movetime = 70
anim = -1
sound = s14,4
darken = 0

[State 0, Helper]
type = Helper
trigger1 = time > 20
helpertype = normal
name = "Hyper-Portrait"
stateno = 10853
pos = 160,120
postype = left
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999
size.xscale = 0.3
size.yscale = 0.3
persistent = 0

[State 0, Scaling Light]
type = Helper
trigger1 = time = 4
helpertype = normal ;player
name = "Hyper-BG-Spark"
ID = 10852
stateno = 10852
pos = 0,0
postype = p1    ;p2,front,back,left,right
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, Fx 1]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 10850
stateno = 10851
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, Fx 2]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "Hyper-AfterImage"
ID = 10851
stateno = 10851
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 10854
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10851]
type = S
physics = S
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(10850)
x = -.7

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(10851)
x = .7

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = selfanimexist(root,anim)
elem = root,animelemno(0)
value = root,anim

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*3),256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 50
;-------------------------------------------------------------------------------
[Statedef 10852]
type = S
physics = S
anim = 6078
ctrl = 0
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 6089
ID = 6089
pos = -2,8
postype = p1
bindtime = -1
removetime = -2
scale = 1.3,1.3
ontop = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nofg
flag2 = noshadow
flag3 = nobardisplay

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = 0
time = 80
add = 0,0,0
mul = 256,256,256
sinadd = 255,255,255,-170

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = 6,-50

;[State 0, Trans]
;type = Trans
;trigger1 = 1
;trans = addalpha
;alpha = 256-(time*10),256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 23
;-------------------------------------------------------------------------------
[Statedef 10853]
type = S
physics = S
ctrl = 0
sprpriority = -5


[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,facing = 1
value = 6094
persistent = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = root,facing = -1
value = 6094
persistent = 0
ignorehitpause = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PosAdd]
type = PosAdd
triggerall = root,facing = 1
trigger1 = time = 0
x = 30 - screenpos x

[State 0, PosAdd]
type = PosAdd
triggerall = root,facing = -1
trigger1 = time = 0
x = 240 - screenpos x

[State 0, PosAdd]
type = PosAdd
trigger1 = time >= 0
y = 145 - screenpos y

[State 0, VelSet]
type = VelSet
triggerall = root,facing = 1
trigger1 = time < 50
x = .69

[State 0, VelSet]
type = VelSet
triggerall = root,facing = -1
trigger1 = time < 50
x = -.69

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(time*4),256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 50
scale = 1.7,1.7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 40
scale = 0.70+time/35.00,0.70+time/35.00


[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 50
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10854]
type = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 10850
sprpriority = 7

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time > 0
flag = nobardisplay
flag = unguardable


[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = s99999
sound = s42,0
darken = 0

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 8
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Stomach"
ID = 10855
stateno = 10855
pos = 160,-82
postype = left
facing = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 250
value = 0
ctrl = 1
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10855]
type = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 10851
sprpriority = 7



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S42,2
volume = 0
channel = -1

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = AngleSet
trigger1 = time = 0
value = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = .1+(time*.014),.1+(time*.014)
value = ifelse(root,stateno = 10854,22*time,ifelse(root,stateno = 10854,22*time,1))

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 80
value = 10856
ctrl = 0
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10856]
type = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 10856
sprpriority = 7

[State 217, 2]
type = HitDef
trigger1 = time = 50
attr = S, NA
hitsound = -1
guardsound = -1
damage    = 0
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,0
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = 0,0
air.velocity = 0,0
fall = 0
guard.dist = 0
p2stateno = 870

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S42,1
volume = 0
channel = -1


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 10807
ID = 10807
pos = 160,80
postype = left
removetime = 160
scale = 0.9,0.6
sprpriority = -7
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 160
value = 10857
ctrl = 0
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10857]
type = S
movetype = A
physics = S
juggle = 1
ctrl = 0
anim = 10851
sprpriority = 7


[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = AngleSet
trigger1 = time = 0
value = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1-(time*.03),1-(time*.03)
value = 20*time

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 30
;-------------------------------------------------------------------------------
[Statedef 10900]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 10800
sprpriority = 1
poweradd = -500

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256



[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
movetime = 25
anim = S6078
pos  = 5,-43
sound = s14,4
darken = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S17,0
volume = 256
channel = -1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bg"
ID = 8006
stateno = 8006
pos = 0,0
postype = p1
facing = 1
size.xscale = 1
size.yscale = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, ChangeState]
type = ChangeState
trigger1 = !AnimTime
value = 10901
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 10901]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 10000
sprpriority = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 0
time = 1
add = -98,-98,-98
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag = nomusic

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S43,2
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 290
value = S43,3
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 470
value = S43,1
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 600
value = S43,0
volume = 256
channel = -1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 920
value = 10900

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 955
value = S10,8+(random%2)
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 955
value = S8,4+(random%2)
volume = 256
channel = -1

[State Hit]
type = HitDef
trigger1 = !movecontact
attr = S,NA
damage    = 50
ground.type = high
air.type = high
hitsound = S11,1+ (random%2)
guardsound = S11,1+ (random%2)
hitflag	= MA
guardflag = MA
pausetime = 2,3
ground.hittime = 2
air.hittime = 8
ground.velocity = -2.6,-3
guard.velocity = -2.5
air.velocity = -5
airguard.velocity = -1,-0.5
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
sparkno = -1*(var(2):=7051)**0
guard.sparkno = -1*(var(2):=7051)**0
sparkxy = -1*(var(3):=35),var(4):=-37

[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 955
movetime = 955

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 955
value = 0
ctrl = 1
;-------------------------------Hyper-Art-Genjutsu------------------------------
[Statedef 10999]
type = S
ctrl = 0
anim = 10999
velset = 0,0
movetype = A
poweradd = -500
physics = S
sprpriority = 2


[State 0, VarAdd]
type = VarAdd
trigger1 = time = 90-var(20)*20 ;var(12)----->var(20)
trigger2 = time = 150-var(20)*40
v = 20
value = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 25
anim = S6074
sound = S14,0
pos = 0,-33
darken = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "bg"
ID = 8002
stateno = 8002
pos = 0,-30
postype = p1
facing = 1
supermovetime = 9999
pausemovetime = 9999
size.xscale = 0.4
size.yscale = 0.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S17,0
volume = 0
channel = -1


[State 10999, end]
type = ChangeState
trigger1 = !animtime
value = 101000
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 101000]
type = S
ctrl = 0
anim = 101000
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(20)*20 || time = 50-var(20)*30
time = 30
freq = 60
ampl = -2


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40-var(20)*20 || time = 120-var(20)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 70-var(20)*40 && timemod = 30,0
time = 30
freq = 90
ampl = -3

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 8
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 101002
ID = 101002
pos = -6,-40
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.12,0.12
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time >= 120 && timemod = 30,0
anim = 101003
ID = 101002
pos = -6,-40
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.12,0.12
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time >= 30 && timemod = 30,0
anim = 101004
ID = 101002
pos = -6,-40
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.22,0.22
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time >= 120 && timemod = 30,0
anim = 101005
ID = 101002
pos = -6,-40
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.3,0.3
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = timemod = 20,0
anim = 1006
ID = 101002
pos = 0,0
postype = p1
removetime = -2
bindtime = -1
removeongethit = 1
scale = 0.5,0.5
ontop = 0
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = var(21) >= 170
trigger1 = timemod = 20,0
anim = 1008
ID = 101002
pos = -10,-35
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.4,0.4
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, Explod]
type = Explod
trigger1 = time > 200
trigger1 = timemod = 20,0
anim = 1008
ID = 101002
pos = -10,-35
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 1,1
ontop = 1
supermovetime = -1
pausemovetime = -1


[State 0, Explod]
type = Explod
trigger1 = time > 260
trigger1 = timemod = 12,0
anim = 6075
ID = 101002
pos = 0,-30
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.2,0.2
ontop = 1
supermovetime = -1
pausemovetime = -1


[State 0, Explod]
type = Explod
trigger1 = timemod = 10,0
anim = 6001
ID = 101002
pos = 0,0
postype = p1
bindtime = -1
removeongethit = 1
removetime = -2
scale = 0.6,0.6
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 21
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = var(21) >= 230
v = 21
value = 230

[State 0, VarSet]
type = Varadd
trigger1 = var(21) <= 229
v = 21
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S21,0
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 100
trigger1 = timemod = 33,0
value = S21,1
volume = 0
channel = -1
;loop = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 100
trigger1 = timemod = 33,0
value = S21,3
volume = 0
channel = -1
;loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "hold_c"
channel = -1

[State 0, PowerAdd]
type = PowerAdd
trigger1 = timemod = 5,0
value = -5

[State 0, Turn]
type = Turn
triggerall = 1
trigger1 = facing = -1 && enemy, pos x > pos x
trigger2 = facing = 1 && enemy, pos x < pos x

[State 0, Helper]
type = Helper
trigger1 = !time
helpertype = normal ;player
name = "AfterImage"
ID = 8003
stateno = 8003
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermove
pausemove

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = !command = "hold_c"
bindtime = -1
id = 101002

[State 400, end]
type = ChangeState
trigger1 = time < 30
trigger1 = command != "hold_c"
value = 0
ctrl = 1

[State 400, end]
Type = ChangeState
trigger1 = time >=30 && time <= 260
trigger1 = command != "hold_c"
value = 101001
ctrl = 1

[State 400, end]
type = ChangeState
trigger1 = time >=260
trigger1 = command != "hold_c"
value = 101005
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 101001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 10100
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Explod]
type = Explod
trigger1 = timemod = 20,0
anim = 1008
ID = 101002
pos = -23,-29
postype = p1
bindtime = -1
removeongethit = 1
removetime = 14
scale = 0.3,0.3
ontop = 1
supermovetime = -1
pausemovetime = -1


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 101003
ID = 101003
bindtime = -1
pos = -19,-33
postype = p1
removetime = 14
scale = 0.12,0.12
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 14

[State 0, VelSet]
type = velset
trigger1 = var(21) <= 229
trigger1 = time > 1 && p2dist x > 10
x = p2bodydist x*0.5

[State 0, VelSet]
type = velset
trigger1 = var(21) >= 230
trigger1 = time > 0 && p2dist x > 5
x = p2bodydist x*0.6

[State 0, end]
type = ChangeState
trigger1 = time = 12
value = 101002
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 101002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 101001
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, NotHitBy]
type = NotHitBy
trigger1 =  1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 60

[State 0, Helper]
type = Helper
;trigger1 = movehit
trigger1 = var(21) <= 229
trigger1 = time = 1
;trigger1 = movecontact
helpertype = normal
name = "RasenganNonPowerFull"
ID = 101003
stateno = 101003
pos = 57,-50
postype = p1
size.xscale = 0.15
size.yscale = 0.15
supermovetime = -1
pausemovetime = -1

[State 0, Helper]
type = Helper
;trigger1 = movecontact
trigger1 = var(21) >= 230
trigger1 = time = 1
;trigger1 = movecontact
helpertype = normal
name = "RasenganPowerFull"
ID = 101004
stateno = 101004
pos = 57,-50
postype = p1
size.xscale = 0.19
size.yscale = 0.19
supermovetime = -1
pausemovetime = -1

[State 0, end]
type = ChangeState
;trigger1 = movecontact
trigger1 = time = 68
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 101003]
type = S
movetype = A
physics = S
anim = 101003
velset = 0,0
sprpriority = 1
juggle = 3
ctrl = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = !movecontact
trigger1 = time <= 67
time = 1
facing = 0
pos = 57,-50

[State 0, Explod]
type = Explod
trigger1 = movecontact
trigger1 = time >= 30 && timemod = 30,0
anim = 101004
ID = 101002
pos = -6,0
postype = p1
bindtime = -1
removeongethit = 1
removetime = 25
scale = 0.42,0.42
ontop = 1
supermovetime = -1
pausemovetime = -1


[State 252]
type = VelSet
trigger1 = movecontact
trigger1 = time >= 30
x = 10

[State 252]
type = VelSet
trigger1 = movecontact
trigger1 = frontedgedist <0
x = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(12)*20 || time = 50-var(12)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 50-var(12)*20 || time = 100-var(12)*30
time = 30
freq = 120
ampl = -4


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = unguardable

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 100
id = -1
pos = -1,44

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = movecontact
trigger1 = time >= 30
value = 0
scale = 0.200+(time/25.000),0.200+(time/25.000)

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 22
value = 10

[State 1201, 1]
type = HitDef
trigger1 = time%3 = 0 && parent,time < 75
;triggerall = enemynear, ishelper = 0
attr = S, NA
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 2, 2
sparkno = -1
sparkxy = 0, 0
hitsound = s21,2
guardsound = s21,2
damage    = 1+var(22)
guardsound = 6, 0
ground.type = low
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = 0,0
airguard.velocity = 0,0
air.type = High
air.velocity = 0,0
air.hittime = 12
fall = 1
fall.recover = 1
fall.recovertime = 50
palfx.time = 60
palfx.add = 100,100,180
palfx.mul = 256,256,256
palfx.sinadd = -80,-80,-80,10
palfx.invertall = 0
palfx.color = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S21,6
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S21,3
volume = -256
channel = 1
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 80
channel = 1

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 78
value = 255,255,255
time = 11

[State 252, ChangeState]
type = destroyself
trigger1 = time = 80
;-------------------------------------------------------------------------------
[Statedef 101004]
type = S
movetype = A
physics = S
anim = 101003
velset = 0,0
sprpriority = 1
juggle = 3
ctrl = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = !movecontact
trigger1 = time <= 67
time = 1
facing = 0
pos = 57,-50

[State 0, Explod]
type = Explod
trigger1 = movecontact
trigger1 = time >= 30 && timemod = 30,0
anim = 101004
ID = 101002
pos = -6,0
postype = p1
bindtime = -1
removeongethit = 1
removetime = 25
scale = 0.42,0.42
ontop = 1
supermovetime = -1
pausemovetime = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(12)*20 || time = 50-var(12)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 50-var(12)*20 || time = 100-var(12)*30
time = 30
freq = 120
ampl = -4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = unguardable

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 100
id = -1
pos = -1,44

[State 0, AngleSet]
type = AngleSet
trigger1 = 1
value = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = movecontact
trigger1 = time >= 30
value = 0
scale = 0.200+(time/20.000),0.200+(time/20.000)

[State 0, VarSet]
type = VarSet
trigger1 = movecontact
v = 23
value = 9

[State Hit]
type = HitDef
trigger1 =  parent,time > 75
attr = S,NA
damage    = 0
ground.type = high
air.type = high
hitsound = S32,0
guardsound = S32,0
hitflag	= MA
guardflag = MA
pausetime = 2,0
ground.hittime = 2
air.hittime = 8
ground.velocity = -2.1,-41
guard.velocity = -2.1
air.velocity = -3,-41
airguard.velocity = -3,-41
fall = 1
fall.recover = 1
ground.cornerpush.veloff = 0
fall.yvelocity = -5

[State 217, 2]
type = HitDef
trigger1 =  parent,time < 74
attr = S, NA
;animtype  = up
hitsound = s32,0
guardsound = s32,0
damage    = 1+var(22)+var(23)
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,20
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -3,-22
air.velocity = -3,-22
fall = 1
guard.dist = 0
p2stateno = 850
palfx.time = 60
palfx.add = 100,100,180
palfx.mul = 256,256,256
palfx.sinadd = -80,-80,-80,10
palfx.invertall = 0
palfx.color = 0

[State 0, EnvColor]
type = EnvColor
trigger1 = time = 78
value = 255,255,255
time = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S21,6
volume = 256
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S21,3
volume = -256
channel = 1
loop = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 80
channel = 1

[State 252]
type = VelSet
trigger1 = movecontact
trigger1 = time >= 1
x = 10

[State 252]
type = VelSet
trigger1 = movecontact
trigger1 = frontedgedist <0
x = 0

[State 252, ChangeState]
type = destroyself
trigger1 = time = 80
;-------------------------------------------------------------------------------
;--------------------------ChoOdama-Rasengan------------------------------------
[StateDef 101005]
type = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
anim = 101006
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = animelemtime(1) = 5
time = 5
freq = 122
ampl = -3
phase = 45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S33,1
volume = 256
channel = -1
abspan = ceil(150)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S33,0
volume = -256
channel = -1

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 10
add = -100,-100,-100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 && backedgedist > 10
x = -14

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
y = -14

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "ChoOdama-Rasengan"
ID = 101008
stateno = 101008
pos = -10,-30
postype = p1
pausemovetime = 99999
supermovetime = 99999
facing = 1
ownpal = 0



[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 6
statetype = A       ;S,A,C,L
movetype = A
physics = A         ;A,C,S,N

[State 0, ChangeState]
type = ChangeState
trigger1 = backedgedist <= 10 && vel x != 0
trigger2 = vel x = 0 && time = 30
value = 101006
ctrl = 0
;-------------------------------------------------------------------------------
[StateDef 101006]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 101007
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 6076
ID = 6076
pos = -10,-14
facing = -1
postype = p1
removetime = -2
scale = 0.5,0.8
ontop = 1

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 10
add = -100,-100,-100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 1640, X]
Type=VarSet
Trigger1=1
fvar(16)=(EnemyNear(0),Pos X-Pos X)*Facing   ;13--->16

[State 1640, Y]
Type=VarSet
trigger1=1
fvar(17)=(EnemyNear(0),pos Y-Pos Y)        ;14--->17

[State 1640, Vector Length]
Type=VarSet
trigger1=1
fvar(18)=Exp(0.5*ln((fvar(16)*fvar(16))+(fvar(17)*fvar(17))))   ;15--->18

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 101007
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 101007]
type = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 101008
sprpriority = 2

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 10
add = -100,-100,-100

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 0, VelSet]
type = VelSet
trigger1= helper(101008), movecontact = 0
x = (Fvar(16))/(fvar(18))*15
y = (FVar(17))/(fvar(18))*15

[State 0, VelSet]
type = VelSet
trigger1= helper(101008), movecontact
x = 0.25
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
value = 105
ctrl = 1
;-------------------------------------------------------------------------------
[StateDef 101008]
type = S
movetype = A
physics = S
anim = 101003
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
triggerall = parent, stateno = 101005
trigger1 = parent, animelem = 1
;trigger2 = parent, animelem = 2
time = 5
pos = -9,-90

[State 0, BindToParent]
type = BindToParent
triggerall = parent, stateno = 101005
trigger1 = parent, animelem = 2
;trigger2 = parent, animelem = 2
time = 30
pos = -12,-98

[State 0, BindToParent]
type = BindToParent
triggerall = parent, stateno = 101006
trigger1 = parent, animelem = 1
trigger2 = parent, animelem = 3
time = 10
pos = 60,11

[State 0, BindToParent]
type = BindToParent
triggerall = parent, stateno = 101006
trigger1 = parent, animelem = 2
time = 10
pos = 55,11
;-------------------------------------------------------------------------------
[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent, stateno = 101005
scale = 0.4,0.4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = parent, stateno = 101006
scale = 0.4,0.4
;-------------------------------------------------------------------------------
[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 101005
trigger1 = parent, stateno != 101006
trigger1 = parent, stateno != 101007
value = 101009

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 101007
value = 101010
;-------------------------------------------------------------------------------
[StateDef 101009]
type = S
physics = S
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 19
value = S21,6
volume = 256
channel = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.5-time*0.025,0.5-time*0.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*5.12,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;-------------------------------------------------------------------------------
[StateDef 101010]
type = S
movetype = A
physics = S
anim = 101003
sprpriority = 4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 10-var(20)*20 || time = 50-var(20)*30
time = 30
freq = 60
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 40-var(20)*20 || time = 120-var(20)*30
time = 30
freq = 90
ampl = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = time >= 70-var(20)*40 && timemod = 30,0
time = 30
freq = 90
ampl = -3

[State 0, BindToParent]
type = BindToParent
trigger1 = time = 0
time = 200
pos = parent,vel x*6.5+25,parent,vel y*6.5-15


[State 217, 2]
type = HitDef
trigger1 = timemod = 6,2
attr = S, NA
hitsound = s33,2
guardsound = s33,2
damage    = 17,17
hitflag = MADF
guardflag =
sparkno = -1
sparkxy = 0,0
pausetime = 0,20
ground.type = low
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -3,-11
air.velocity = -3,-11
fall = 1
guard.dist = 0
palfx.time = 60
palfx.add = 100,100,180
palfx.mul = 256,256,256
palfx.sinadd = -80,-80,-80,10
palfx.invertall = 0
palfx.color = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno != 101005
trigger1 = parent, stateno != 101006
trigger1 = parent, stateno != 101007
value = 101009


;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------
;-------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; Override common states (use same number to override) :
;-------------------------------------------------------------------------------

;-------------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;-------------------------------------------------------------------------------
[Statedef -2]

[State -2, color]
type = palfx
triggerall = alive
trigger1 = timemod = 6,0
trigger1 = var(30) >= 1
add = 0,120,0
mul = 256,256,256
sinadd = 50,100,50,7
invertall = 0
color = 256
time = (var(30) >= 1)
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 2
trigger1 = stateno = 10200 || stateno = 10210 || stateno = 260
x = ifelse(stateno = 10200,e-1,ifelse(stateno = 10210,e-1,ifelse(stateno = 10260,e-1,0)))
y = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 2
trigger1 = stateno = 200 || stateno = 210 || stateno = 220 || stateno = 230
x = ifelse(stateno = 200,e-1,ifelse(stateno = 210,e-1,ifelse(stateno = 220,e-1,0)))
y = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = stateno = 10800
v = 26
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = stateno = 10850
v = 27
value = 1

[State 0, VarRandom]
type = VarRandom
trigger1 = var(10) = 1
trigger1 = power > 2500
v = 28
range = 14,1

[State 0, VarRandom]
type = VarRandom
trigger1 = var(10) = 1
trigger1 = power > 2000
v = 28
range = 10,1

[State 0, VarRandom]
type = VarRandom
trigger1 = var(10) = 1
trigger1 = power < 2000
v = 28
range = 0,0

[State 0, VarRandom]
type = VarRandom
trigger1 = var(10) = 0
trigger1 = power = [1000,1999]
v = 29
range = 10,1

[State 0, VarRandom]
type = VarRandom
trigger1 = var(10) = 0
trigger1 = power > 2000
v = 29
range = 15,1

[State 0, VarRandom]
type = VarRandom
trigger1 = var(10) = 0
trigger1 = power = [0,999]
v = 29
range = 5,1
;------------------------------------Dampener-Sytem-----------------------------
[State -2, Damage based on hits]
type = varset
trigger1 = numenemy
fvar(0) = enemynear,gethitvar(hitcount)
ignorehitpause = 1

[State -2, Reset var when the opponent recovers]
type = varset
trigger1 = numenemy
trigger1 = (enemynear,movetype!=H)
trigger2 = !numenemy
fvar(0) = 1

[State -2, Dampener]
type = varset
trigger1 = 1
fvar(1) = ifelse(fvar(0) = 0, 1, ifelse(fvar(0) = 1, .989, .865**fvar(0)))
ignorehitpause = 1

[State -2, Dampener itself]
type = attackmulset
trigger1 = 1
value = fvar(1)
ignorehitpause = 1
;-------------------------------------------------------------------------------
[State -2, Hit Detection Start]
type = VarAdd
trigger1 = movecontact
v = 1
value = 1
ignorehitpause = 1

[State -2, Hit Detection Reset]
type = VarSet
trigger1 = !movecontact
trigger2 = !hitpausetime
v = 1
value = 0

[State - 2, Hit and Guard Sparks Helper]
type = Helper
trigger1 = var(1) = 1
trigger2 = (prevstateno = [200,260])&&(prevstateno = [410,420])&&(prevstateno = [430,440])&&(prevstateno = [600,620])&&(prevstateno=[90200,90240])&&(var(1)=1)
trigger2 = (prevstateno=[10200,10220])&&(var(1)=1)
helpertype = normal
name = "Hit Sparks"
ID = 7050
stateno = var(2)
pos = ifelse(p2dist x <= 0, 0, ifelse(p2dist x < var(3), ceil((p2dist x) + 4), var(3))), var(4)
postype = p1
ownpal = 0
size.xscale = IfElse(moveguarded,0.3,0.6)
size.yscale = IfElse(moveguarded,0.3,0.6)
ignorehitpause = 1
supermovetime = 99999999999
pausemovetime = 99999999999

[State - 2, Hit and Guard Sparks Helper]
type = Helper
trigger1 = var(1) = 1
trigger2 = (prevstateno=[10200,10220])&&(prevstateno=10240)&&(prevstateno=10901)&&(prevstateno=[10270,10280])&&(prevstateno=10440)&&(prevstateno=[10600,10620])&&(var(1)=1)
helpertype = normal
name = "Hit Sparks"
ID = 7051
stateno = var(2)
pos = ifelse(p2dist x <= 0, 0, ifelse(p2dist x < var(3), ceil((p2dist x) + 4), var(3))), var(4)
postype = p1
ownpal = 0
size.xscale = IfElse(moveguarded,0.3,0.6)
size.yscale = IfElse(moveguarded,0.3,0.6)
ignorehitpause = 1
supermovetime = 99999999999
pausemovetime = 99999999999


[State -2,DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "AI Activated? = %i (1=yes 0=no) var(1) = %d var(2) = %d var(3) = %d var(4) = %d  Jiraiya by FLOSSR3 "
params = var(59),var(1),var(2),var(3),var(4)
ignorehitpause = 1
;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]
;-----------------------------------Al------------------------------------------
[State 100, 4]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = prevstateno != 5120
triggerall = statetype != A
triggerall = p2statetype != L
trigger1 = p2bodydist x >= 70
trigger1 = P2Dist X <= 50
trigger1 = ctrl
value = 100

[State 40, 2]
type = VarSet
triggerall = var(59) = 1 && roundstate = 2
triggerall = ifelse(random%2,p2statetype = A,p2statetype = S)
trigger1 = P2Dist X >= 30
sysvar(1) = 1
value = 40

[State 40, 3]
type = VarSet
triggerall = var(59) = 1 && roundstate = 2
triggerall = ifelse(random%2,p2statetype = A,p2statetype = S)
trigger1 = P2Dist X <= -30
sysvar(1) = 40
;-------------------------------Combo1------------------------------------------
[State -3, AI Punch]
type = ChangeState
triggerall = var(10) = 0
triggerall = var(59) = 1 && roundstate = 2
triggerall = p2statetype != L
triggerall = statetype != A
triggerall = p2bodydist x = [-5,35]
triggerall = random <= 399
trigger1 = ctrl
trigger2 = stateno = 100
value = 200

[State -3, AI  Kick]
type = ChangeState
triggerall = var(10) = 0
triggerall = var(59) = 1 && roundstate = 2
triggerall = statetype = S
trigger1 = p2bodydist x <= 52
trigger1 = random <= 399
trigger1 = movecontact && stateno = 200
value = 210

[State -3, AI Throw//]
type = ChangeState
triggerall = var(10) = 0
triggerall = var(59) = 1 && roundstate = 2
triggerall = p2statetype != A
triggerall = statetype = S
triggerall = p2bodydist x <= 45
trigger1 = random <= 379
trigger1 = movecontact && stateno = 210
value = ifelse(random%2,220,800)
;-------------------------------Combo2------------------------------------------
[State -3, AI Punch]
type = ChangeState
triggerall = var(10) = 0
triggerall = var(59) = 1 && roundstate = 2
triggerall = statetype != A
triggerall = p2bodydist x = [-5,35]
triggerall = random <= 399
trigger1 = ctrl
trigger2 = stateno = 100
value = 240

[State -3, AI  Kick]
type = ChangeState
triggerall = var(10) = 0
triggerall = var(59) = 1 && roundstate = 2
triggerall = statetype = S
trigger1 = p2bodydist x <= 52
trigger1 = random <= 399
trigger1 = movecontact && stateno = 240
value = 250

[State -3, AI  Kick]
type = ChangeState
triggerall = var(10) = 0
triggerall = var(59) = 1 && roundstate = 2
triggerall = statetype = S
trigger1 = p2bodydist x <= 53
trigger1 = random <= 399
trigger1 = movecontact && stateno = 250
value = 260

[State -3, AI Throw]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = var(10) = 0
triggerall = power > 100
triggerall = statetype = S
triggerall = p2bodydist x <= 75
trigger1 = random <= 389
trigger1 = movecontact && stateno = 260
value = 270
;-------------------------------------------------------------------------------
;[State -3, Al-Taunt]
;type = ChangeState
;value = 198
;triggerall = var(59) = 1 && roundstate = 2
;trigger1 = random <= 299
;triggerall = p2statetype ! =A
;triggerall = var(10) = 0
;trigger1 = statetype != A
;-------------------------------------------------------------------------------
[State -3, Al-Katon-Dai-Endan]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
value = ifelse(random%2,300,310)
triggerall = var(10) = 0
triggerall = power > 500
trigger1 = random <= 489
triggerall = p2bodydist x >= 80
trigger1 = p2statetype = S
trigger1 = statetype = S
trigger1 = ctrl
;-------------------------------------------------------------------------------
[State -3, AI Light]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = (statetype != A && enemynear,statetype = S && (enemynear,stateno = 130 || (enemynear,stateno = [150,151])))
triggerall = p2bodydist x = [-35,35]
trigger1 = ctrl
trigger2 = stateno = 100 || (movecontact && (stateno = 200 || stateno = 400))
trigger3 = ctrl
value = 410

[State -3, AI High Med]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = statetype != A
triggerall = p2bodydist x <= 80
triggerall = random <= 479
trigger1 = movecontact && ((stateno = [200,210]) || (stateno = [400,410]))
value = 420

[State -3, AI Low Med]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = statetype != A
triggerall = p2bodydist x <= 30
triggerall = random <= 469
trigger1 = movecontact && ((stateno = [200,220]) || (stateno = [400,420]))
value = 430
;-------------------------------------------------------------------------------
[State -3, AI Low Hard]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = statetype != A
triggerall = p2bodydist x <= 86
triggerall = random <= 459
trigger1 = movecontact && stateno = 400
value = 450

[State -3, AI Light punch]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = var(10) = 0
triggerall = statetype = A
triggerall = p2statetype = A
triggerall = p2bodydist y = [-54,21]
trigger1 = random <= 500
trigger1 = movecontact && stateno = 50
value = 600

[State -3, AI Light kick]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = var(10) = 0
triggerall = p2statetype = A
triggeraLL = p2bodydist y = [-54,21]
trigger1 = statetype = A
trigger1 = random <= 500
trigger1 = movecontact && stateno = 50
value = 610

[State -3, AI High Med]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = var(10) = 0
trigger1 = random <= 500
triggeraLL = p2bodydist y = [-54,21]
triggerall = p2statetype = A
triggerall = ifelse(stateno = 630,var(15) = 0,var(15)!= 0)
triggerall = ifelse(stateno = 630,numhelper(631) < 1,0)
triggerall = ifelse(stateno = 630,power>= 200,0)
trigger1 = statetype = A
value = ifelse(random%2,630,620)

;[State -3, AI Rasengan]
;type = ChangeState
;triggerall = var(59) = 1 && roundstate = 2
;triggerall = statetype != A
;triggerall = !ishelper
;triggerall = var(10) = 0
;triggerall = power > 500
;triggerall = p2bodydist x >= 120
;triggerall = p2statetype !=A
;trigger1 = random <= 399
;value = 999
;-------------------------------------------------------------------------------
[State -1,Al-Kage-Bunshin]
type = ChangeState
value = 500
triggerall = var(59) = 1
triggerall = var(10) = 0
triggerall = numhelper(90001) < 2
triggerall = power > 500
triggerall = statetype != A
triggerall = p2bodydist x = [50,80]
trigger1 = ctrl
;-------------------------------------------------------------------------------
[State -3, AI GamaBunta-GamaHiro]
type = ChangeState
triggerall = var(59) = 1 && roundstate = 2
triggerall = statetype != A
triggerall = p2statetype != A
triggerall = p2statetype != L
triggerall = ifelse(stateno = 2000,power > 1000,power > 1500) && movetype != H
triggerall = p2bodydist x >= 110
triggerall = var(10) = 0
trigger1 = random <= 499
value = ifelse(random%2,2000,3000)
trigger1 = ctrl
;-------------------------------------------------------------------------------
;-------------------------Hermit-Chakra-in-Senin-Modo---------------------------
[State -3]
type = helper
trigger1 = 1 && !numhelper(9010)
helpertype = normal
id = 9010
pos = 0,0
postype = p1
name = "Hermit-Senin-Chakra-Pro-System"
stateno = 9010
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1
ownpal = 0
;-------------------------------------------------------------------------------
[State -3, VarSet];Begin Timer when battle begins
type = Varadd
triggerall = roundstate = 2
trigger1 = 1
v = 31
value = 1

[State -3, VarSet];Resets timer after 10 seconds, or opponent gets hit.
type = VarSet
trigger1 = var(31) = 1000
trigger2 = movehit
v = 31
value = 0

[state -3, Negative Penalty];Loses power bar if no hit was made in 10 seconds.
type = poweradd
triggerall = var(31) = 999
trigger1 = !movehit
value = -powermax
;-------------------------------------------------------------------------------
;Rage Meter P1 & P2
;-------------------------------------------------------------------------------
[State -3]
type = helper
Triggerall = (Teamside = 1 && !numpartner) && roundstate >= 2
trigger1 = var(30) < 1 && !numhelper(9003)
helpertype = Normal
id = 9003
pos = 0,0
postype = p1
name = "HermitMeterP1"
facing = -1
stateno = 9003
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1
ownpal = 0

[State -3]
type = helper
Triggerall = (teamside = 2 && !numpartner) && roundstate >= 2
trigger1 = var(30) < 1 && !numhelper(9006)
helpertype = Normal
id = 9006
pos = 0,0
postype = p1
name = "HermitMeterP2"
facing = -1
stateno = 9006
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1
ownpal = 0

[State -3]
type = helper
trigger1 = var(32) >= 31 && !numhelper(9007)
helpertype = Normal
id = 9007
pos = 0,0
postype = p1
name = "HermitMeterCountDown"
stateno = 9007
supermovetime = 9999999999
pausemovetime = 9999999999

[State -3]
type = helper
triggerall = var(30) = 0
trigger1 = var(32) >= 31 && !numhelper(9005)
helpertype = Normal
id = 9005
pos = 0,0
postype = p1
name = "AfterImage1"
facing = -1
stateno = 9005
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1
ownpal = 0

[State -3]
type = helper
trigger1 = var(30) > 0 && stateno != 0 && !numhelper(9009)
helpertype = Normal
id = 9009
pos = 0,0
postype = p1
name = "AfterImage2"
facing = -1
stateno = 9009
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1
ownpal = 0

[State -3]
type = VarSet
trigger1 = var(30) >= 1
v = 32
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = stateno != [120,155]
trigger1 = movetype = H && time = 1
v = 30
value = 0
ignorehitpause = 1
;-------------------------------------------------------------------------------
;Dragon Meter P1 & P2
;-------------------------------------------------------------------------------
[State -3]
type = helper
triggerall = movetype != H
triggerall = Teamside = 1
trigger1 = ((command = "s" && var(30) < 1) && var(32) >= 31) && !numhelper(9004)
trigger2 = ((roundno != 1 && var(30) >= 1) && roundstate > 1) && !numhelper(9004)
helpertype = Normal
id = 9004
pos = 0,0
postype = p1
name = "HermitChakraP1"
facing = -1
stateno = 9004
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1
ownpal = 1

[State -3]
type = helper
triggerall = movetype != H
triggerall = Teamside = 2
trigger1 = ((command = "s" && var(30) < 1) && var(32) >= 31) && !numhelper(9008)
trigger2 = ((roundno != 1 && var(30) >= 1) && roundstate > 1) && !numhelper(9008)
helpertype = Normal
id = 9008
pos = 0,0
postype = p1
name = "HermitChakraP2"
facing = -1
stateno = 9008
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1
ownpal = 1
;-------------------------------------------------------------------------------
[State 0, PowerAdd]
type = PowerAdd
triggerall = stateno = 20 || stateno = 100 || stateno = 11 || stateno = 110 || stateno = 115 || stateno = 105 || stateno = 45 || stateno = 50
trigger1 = var(10) = 1
trigger1 = timemod = 5,0
value = -5

;Damage Mul
[State 0, VarSet]
type = VarSet
trigger1 = 1
fv = 2
value = fvar(3)*fvar(4)*fvar(5)*fvar(6)*fvar(7)*fvar(8)*fvar(9)*fvar(10)*fvar(11);*fvar(12)*fvar(13)

[State 0, VarRangeSet]
type = VarRangeSet
trigger1 = movetype!= A
trigger1 = enemy,movetype!= H
trigger2 = enemy,statetype = L
fvalue = 1
first = 2
last = 11
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
[State -2, PalFX1]
type = PalFX
trigger1 = ((stateno = 110)&&(time = 1)) || ((stateno = 115)&&(time = 1)) || stateno = 70 &&(time = 1) || stateno = 45 &&(time = 1)
time = 5
add = 0,0,0
mul = 256,256,256
sinadd = 256,256,256,5
invertall = 0
color = 256
ignorehitpause = 1
persistent = 5
;-------------------------------------------------------------------------------
[State 701,AfterImage]
type = AfterImage
trigger1 = stateno = 110 || stateno =115 || stateno = 70 || stateno = 100 || stateno = 105 || stateno = 45 || stateno  = 40
trigger1 = time = 1
time = 15
length = 7
palcolor = 256
palbright = 156,25,56
palcontrast = 256,256,156
paladd  = 26,15,26
palmul = .65,.65,.75
timegap = 1
framegap = 2
trans = add
ignorehitpause = 1
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = var(10) = 0
trigger1 = ((stateno = 5100)&&(time = 1)) || ((stateno = 5110)&&(time = 1))
facing = -1
anim = 6000
ID = 6000
pos = -36,-6
postype = p1
scale  = 1,0.92
ontop = 1
ownpal = 1
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = var(10) = 1
trigger1 = ((stateno = 5100)&&(time = 1)) || ((stateno = 5110)&&(time = 1) || ((stateno = 5111)&&(time = 1)))
facing = -1
anim = 6007
ID = 6007
pos = 7,-8
postype = p1
scale  = 0.89,0.58
ontop = 1
ownpal = 1
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = stateno = 45
trigger1 = time = 1
anim = 6001
ID = 6001
pos = 0,-5
postype = p1
scale  = 0.5,0.5
sprpriority  = 5
ownpal = 1
;-------------------------------------------------------------------------------
;Explods
[State -3,Explod]
type = Explod
triggerall = stateno = 52 || stateno = 106
trigger1 = time = 1
anim = 6002
ID = 6002
pos = 4,11
postype = p1
scale  = 0.23,0.23
sprpriority  = 5
ownpal = 1
;-------------------------------------------------------------------------------
;Explods
[State -3,Explod]
type = Explod
trigger1 = ((stateno = 110)&&(time = 1))
anim = 6003
ID = 6003
pos = -5,-20
postype = p1
scale  = 0.9,0.9
sprpriority  = 0
ownpal = 1
ontop = 1
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
trigger1 = ((stateno = 115)&&(time = 1))
facing = -1
anim = 6003
ID = 6003
pos = 8,-29
postype = p1
scale  = 0.9,0.9
sprpriority  = 0
ownpal = 1
ontop = 1
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = stateno = 100
trigger1 = time = 1
anim = 6004
ID = 6004
pos = -25,-24
postype = p1
scale  = 0.7,0.7
sprpriority  = 0
ontop = 1
ownpal = 1
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = var(10) = 1
triggerall = stateno = 100
trigger1 = time = 1
anim = 6049
ID = 60049
pos = -33,-24
postype = p1
scale  = 0.5,0.5
sprpriority  = 0
ontop = 1
ownpal = 1
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = stateno = 101
facing = -1
trigger1 = ((animelemtime(2)= 1)||(!time))
anim = 6005
ID = 6005
pos = 31,2
postype = p1
scale  = 0.14,0.2
sprpriority  = 0
ontop = 1
ownpal = 1
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = stateno = 70
trigger1 = time = 1
anim = 6006
ID = 6006
pos = 1,9
postype = p1
scale  = 0.65,0.65
sprpriority  = 5
ownpal = 1
ontop = 1
;-------------------------------------------------------------------------------
;Sounds
[State -3, Walk Sound]
type = PlaySnd
triggerall = (stateno = 20)
trigger1 = timemod = 20,0
value = 0,2
;-------------------------------------------------------------------------------
[State -3, Run Sound]
type = PlaySnd
triggerall = (stateno = 100)
trigger1 = timemod = 10,0
value = 0,2
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
[State -3, Run Sound]
type = PlaySnd
triggerall = (stateno = 1001)
trigger1 = timemod = 5,0
value = 0,2
;-------------------------------------------------------------------------------
[State -3,Explod]
type = Explod
triggerall = stateno = 1001
trigger1 = timemod = 3,0
anim = 6017
ID = 6004
pos = 10,0
postype = p1
scale  = 0.6,0.6
sprpriority  = 0
ontop = 1
ownpal = 1
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
[State -3, Stop-Run Sound]
type = PlaySnd
triggerall = (stateno = 101)
trigger1 = time = 1
value = 0,3
;-------------------------------------------------------------------------------
[State -3, Run Sound]
type = PlaySnd
triggerall = (stateno = 100)
trigger1 = time = 1
value = 0,4
volume = -999
;-------------------------------------------------------------------------------
[State -3, Jump-Down Sound]
type = PlaySnd
triggerall = (stateno = 52) || (stateno = 106)
trigger1 = time = 1
value = 0,7
;-------------------------------------------------------------------------------
[State -3, Air-Dash Sound]
type = PlaySnd
triggerall = (stateno = 110) ||(stateno = 115) |(stateno = 70)
trigger1 = time = 1
value = 0,6
;-------------------------------------------------------------------------------
[State -3, Back-Sound]
type = PlaySnd
triggerall = (stateno = 105)
trigger1 = time = 1
value = 0,9
;-------------------------------------------------------------------------------
[State -3, Jump Sound]
type = PlaySnd
triggerall = (stateno = 50)
trigger1 = time = 1
value = 0,4
;-------------------------------------------------------------------------------
;Damage Sound
[State -3, Weak-Hit]
type = PlaySnd
triggerall = Alive
triggerall = Time = 0
triggerall = gethitVar(animtype) = 0
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 1,1+random%5
channel = 0

[State -3, Medium-Hit]
type = PlaySnd
triggerall = Alive
triggerall = Time = 0
triggerall = gethitVar(animtype) = 1
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 1,4+random%4
channel = 0


[State -3, Heavy-Hit]
type = PlaySnd
triggerall = Alive
triggerall = Time = 0
triggerall = gethitVar(animtype) = 2
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 3,0+random%3
channel = 0

[State -3, Heavy-Hit2]
type = PlaySnd
triggerall = Alive
triggerall = Time = 0
triggerall = gethitVar(animtype) = [3,5]
trigger1 = stateno = 5000
trigger2 = stateno = 5010
trigger3 = stateno = 5020
value = 2,0+random%1
channel = 0
;-------------------------------------------------------------------------------
[State -3, Get-Up-Sound]
type = PlaySnd
triggerall = stateno = 5120
trigger1 = time = 1
value = 3,0+random%3
;-------------------------------------------------------------------------------
[State -3, Get-Up-Sound]
type = PlaySnd
triggerall = stateno = 5100
trigger1 = time = 1
value = 7,1
;-------------------------------------------------------------------------------
[State -3, Get-Up-Sound]
type = PlaySnd
triggerall = stateno = 5111
trigger1 = time = 1
value = 7,1
;-------------------------------------------------------------------------------

















;-------------------------------------------------------------------------------
;System spark developted by Syn-X implemented by FLOSSR3
[Statedef 7050]
type = S
anim = 7050
sprpriority = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
scale = 0.4,0.4

[State 0, Trans]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256,256
IgnoreHitPause = 1

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [200,260]
trigger1 = time = 0
value = ifelse(random%2,6010,ifelse(random%2,6011,ifelse(random%2,6012,ifelse(random%1,6013,ifelse(random%1,6014,6015)))))
ignorehitpause = 1

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [600,620]
trigger1 = time = 0
value = ifelse(random%2,6010,ifelse(random%2,6011,ifelse(random%2,6012,ifelse(random%1,6013,ifelse(random%1,6014,6015)))))
ignorehitpause = 1


[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [410,420]
trigger1 = time = 0
value = ifelse(random%2,6010,ifelse(random%2,6011,ifelse(random%2,6012,ifelse(random%1,6013,ifelse(random%1,6014,6015)))))
ignorehitpause = 1

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [90200,90240]
trigger1 = time = 0
value = ifelse(random%2,6010,ifelse(random%2,6011,ifelse(random%2,6012,ifelse(random%1,6013,ifelse(random%1,6014,6015)))))
ignorehitpause = 1

[State 0, Trans]
Type = Trans
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [430,440]
Trans = None
Alpha = 256,256
IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [430,440]
ignorehitpause = 1
scale = 1.8,1.8

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [430,440]
trigger1 = time = 0
value = 703
ignorehitpause = 1

[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA || parent,hitdefattr = SCA,SA || parent,hitdefattr = SCA,HA
trigger1 = root,stateno = [200,260]
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999

[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA || parent,hitdefattr = SCA,SA || parent,hitdefattr = SCA,HA
trigger1 = root,stateno = [410,420]
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999

[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA || parent,hitdefattr = SCA,SA || parent,hitdefattr = SCA,HA
trigger1 = root,stateno = [600,620]
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999

[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA || parent,hitdefattr = SCA,SA || parent,hitdefattr = SCA,HA
trigger1 = root,stateno = [90200,90240]
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999

[State 0, AngleDraw]
type = AngleDraw
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = 7013
ignorehitpause = 1
scale = 0.3,0.3


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Guard Sparks]
type = ChangeAnim
trigger1 = root,moveguarded
trigger1 = time = 0
value = 7013
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
;-------------------------------------------------------------------------------
;System spark developted by Syn-X implemented by FLOSSR3 || Hermit Modo
[Statedef 7051]
type = S
anim = 7050
sprpriority = 5

[State 0, Trans]
Type = Trans
Trigger1 = 1
Trans = AddAlpha
Alpha = 256,256
IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = 10901
ignorehitpause = 1
scale = 0.7,0.7

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = 10901
trigger1 = time = 0
value = 6010
ignorehitpause = 1
;-------------------------------------------------------------------------------
[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA
trigger1 = root,stateno = [10200,10220]
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999

[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA
trigger1 = root,stateno = 10240
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999

[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA
trigger1 = root,stateno = [10270,10280]
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999

[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA
trigger1 = root,stateno = 10440
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999

[State 6000,Explod]
type = Explod
triggerall = parent,movehit
triggerall = parent,hitdefattr = SCA,NA
trigger1 = root,stateno = [10600,10620]
trigger1 = !time
anim = 6009
ID = 6009
pos = 0,0
postype = p1
removetime = -2
scale = 0.3,0.3
sprpriority = 5
ontop = 1
ownpal = 1
persistent = 0
supermovetime = 99999999999
pausemovetime = 99999999999
;-------------------------------------------------------------------------------
[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [10200,10220]
trigger1 = time = 0
value = ifelse(random%2,6051,ifelse(random%2,6052,ifelse(random%2,6053,ifelse(random%2,6054,6051))))
ignorehitpause = 1

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = 10240
trigger1 = time = 0
value = ifelse(random%2,6051,ifelse(random%2,6052,ifelse(random%2,6053,ifelse(random%2,6054,6051))))
ignorehitpause = 1

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [10270,10280]
trigger1 = time = 0
value = ifelse(random%2,6055,ifelse(random%2,6056,ifelse(random%2,6057,ifelse(random%2,6058,ifelse(random%2,6059,ifelse(random%2,6070,ifelse(random%2,6071,6072)))))))
ignorehitpause = 1

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = 10440
trigger1 = time = 0
value = ifelse(random%2,6055,ifelse(random%2,6056,ifelse(random%2,6057,ifelse(random%2,6058,ifelse(random%2,6059,ifelse(random%2,6070,ifelse(random%2,6071,6072)))))))
ignorehitpause = 1

[State 0, X-Cercle-Basic Hit Sparks]
type = ChangeAnim
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = [10600,10620]
trigger1 = time = 0
value = ifelse(random%2,6055,ifelse(random%2,6056,ifelse(random%2,6057,ifelse(random%2,6058,ifelse(random%2,6059,ifelse(random%2,6070,ifelse(random%2,6071,6072)))))))
ignorehitpause = 1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
scale = 0.85,0.85


[State 0, AngleDraw]
type = AngleDraw
triggerall = root,movehit
triggerall = root,hitdefattr = SCA,NA
trigger1 = root,stateno = 7013
ignorehitpause = 1
scale = 0.3,0.3


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Guard Sparks]
type = ChangeAnim
trigger1 = root,moveguarded
trigger1 = time = 0
value = 7013
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !animtime
;-------------------------------------------------------------------------------
[statedef 8000]
type = S
movetype= A
physics = S
velset = 0,0
anim = 6034
sprpriority = 5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 8
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 20
value = 0
scale = 0.9 - (.04*time),0.9 - (.04*time)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 20
value = 0
scale = 0.200+(time/15.000),0.200+(time/15.000)


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
;flag2 = noBG

[State 7001, DestroySelf]
type = DestroySelf
trigger1 = time = 25
;-------------------------------------------------------------------------------
[statedef 8001]
type = S
movetype= A
physics = S
velset = 0,0
anim = 6043
sprpriority = 5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,3]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 3
time = 1
add = -218,-218,-218
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 0.130+(time/29.000),0.130+(time/29.000)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
;flag2 = noBG

[State 7001, DestroySelf]
type = DestroySelf
trigger1 = time = 20
;-------------------------------------------------------------------------------
[statedef 8002]
type = S
movetype= A
physics = S
velset = 0,0
anim = 6073
sprpriority = 5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 8
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 0.9 - (.04*time),0.9 - (.04*time)


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
;flag2 = noBG

[State 7001, DestroySelf]
type = DestroySelf
trigger1 = time = 25
;-------------------------------------------------------------------------------
[Statedef 8003]
type = S
movetype = I
physics = S
sprpriority = 15
velset = 0,0
ctrl = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = parent,anim
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.00+time/25.00,1.00+time/25.00

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*8,time*8

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 15
;-------------------------------------------------------------------------------
[statedef 8004]
type = S
movetype= A
physics = S
velset = 0,0
anim = 6077
sprpriority = 5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,8]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 8
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 0.9 - (.04*time),0.9 - (.04*time)


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
;flag2 = noBG

[State 7001, DestroySelf]
type = DestroySelf
trigger1 = time = 25
;-------------------------------------------------------------------------------
[Statedef 8005]
type = S
movetype = I
physics = S
anim = 8005
ctrl  = 0
poweradd = 0
juggle = 0
facep2 = 1
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 0

[State 5679: VelSet]
type = VelSet
trigger1 = (!Time)
x = 15
y = 0

[State 8005:    PlayerPush]
type  = PlayerPush
trigger1  = (1)
value = 1

[State 8005:    NotHitBy]
type = NotHitBy
trigger1  = (1)
time  = 1
value  = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT

[State 8005: DestroySelf]
type = DestroySelf
trigger1  = (Time = 20)
;-------------------------------------------------------------------------------
[statedef 8006]
type = S
movetype= A
physics = S
velset = 0,0
anim = 8006
sprpriority = 5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,3]
time = 1
add = time*-16,time*-16,time*-16
mul = 256,256,256

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 3
time = 1
add = -218,-218,-218
mul = 256,256,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 0.130+(time/29.000),0.130+(time/29.000)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
;flag2 = noBG

[State 7001, DestroySelf]
type = DestroySelf
trigger1 = time = 25
;---------Hermit-System-Chakra-&&-Mode------------------------------------------
;-------------------------------------------------------------------------------
;P1 Rage Meter Container
;-------------------------------------------------------------------------------
[Statedef 9003]
type = S
movetype = I
physics = N



[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Offset]
type = Offset
trigger1 = 1
x = -ScreenPos x + 99999
y = -Screenpos y - 99999

[State 0, VarSet]
type = parentVarSet
trigger1 = root,var(33) = 1
v = 32
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = root,var(32) = 0
v = 33
value = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3
volume = 100
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 0 && !numexplod(9019)
anim = 9019
id = 9019
pos = 160,120
postype = Left
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 4
ontop = 1
ownpal = 1
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) >= 1
id = 9019
ignorehitpause = 1
;-----------<rage meter fill>---------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = root,var(32) < 31 && !numexplod(9018)
anim = 9018
id = 9018
pos = 100,233
postype = Left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .51,.4
sprpriority = 3
ontop = 1
ownpal = 1


[State 0, ModifyExplod]
type = ModifyExplod
triggerall = root,var(32) < 32
trigger1 = numexplod(9018)
id = 9018
scale = (root,var(32))/62.0,.50
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(32) > 30
id = 9018
ignorehitpause = 1
;----------------FULL BAR ACTIVE!-----------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = root,var(32) > 30 && !numexplod(9025)
anim = 9025
id = 9025
pos = 100,233
postype = Left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .51,.4
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
triggerall = root,var(33) > 0
trigger1 = numexplod(9025)
id = 9025
scale = (root,var(33))/1800.0,.5
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) >= 1
trigger2 = root,var(33) = 1
id = 9025
ignorehitpause = 1
;-----------<rage meter fill end>-----------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time= 2 && !numexplod(9017)
trigger2 = root,var(32) > 30 && !numexplod(9017)
anim = 9017
id = 9017
pos = 160,120
postype = Left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 4
ontop = 1
ownpal = 1



[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(32) > 30
id = 9017
ignorehitpause = 1
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) >= 1
id = 9017
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = root,var(32) >= 31 && !numexplod(9020)
anim = 9020
id = 9020
pos = 160,120
postype = Left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) >= 1 || root,var(33) = 2 || root,var(32) = 0
id = 9020
ignorehitpause = 1

[State 0 ,ParenVarAdd]
type = ParentVarAdd
triggerall = root,var(32) >= 31
trigger1 = 1
v = 31
value = 1
ignorehitpause = 1

[State 0 ,ParentVarSet]
type = ParentVarSet
trigger1 = root,var(32) = 0
v = 31
value = 0
ignorehitpause = 1

[State 0 ,ParentVarSet]
type = ParentVarSet
trigger1 = root,var(30) = 1
v = 32
value = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,var(30) >= 1
ignorehitpause = 1
persistent = 0
;-------------------------------------------------------------------------------
;Dragon Mode Meter P1
;-------------------------------------------------------------------------------
[Statedef 9004]
type = S
movetype = I
physics = N
ignorehitpause = 1

[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, Offset]
type = Offset
trigger1 = 1
x = -ScreenPos x + 99999
y = -Screenpos y - 99999


[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 30
value = 900
ignorehitpause = 1

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = root,var(30) > 1
v = 30
value = -1
ignorehitpause = 1

[State 0, ParentVarSet]
type = parentVarSet
trigger1 = root,var(30) = 1 || roundstate = 3
v = 30
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = time = 1
v = 35
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3
volume = 100
channel = -1
;--------meter fill start-------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0 && !numexplod(9023)
anim = 9023
id = 9023
pos = 100,233
postype = left  ;p2,front,back,left,right
removetime = -1
bindtime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .51,.51
sprpriority = 10
ontop = 1
ownpal = 1
ignorehitpause = 1


[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(9023)
id = 9023
scale = (root,var(34))/1800.0,.5
ignorehitpause = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = time = 1
v = 34
value = 900
ignorehitpause = 1

[State 0, ParentVarAdd]
type = parentVarAdd
trigger1 = root,var(34) > 1
v = 34
value = -1
ignorehitpause = 1

[State 0, ParentVarSet]
type = parentVarSet
trigger1 = root,var(30) <= 1 || roundstate = 3
v = 34
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = root,var(34) = 0
v = 35
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) = 0
id = 9023
ignorehitpause = 1
;--------meter fill ends--------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 2 && !numexplod(90119)
anim = 90119
id = 90119
pos = 160,120
postype = Left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 1
ontop = 1
persistent = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) = 0
id = 90119
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0 && !numexplod(9021)
anim = 9021
id = 9021
pos = 160,120
postype = Left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) = 0
id = 9021
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0 && !numexplod(9024)
anim = 9024
id = 9024
pos = 160,120
postype = Left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) = 0
id = 9024
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,var(30) = 0
ignorehitpause = 1
;===================================<Player 1 done>=============================
;-------------------------------------------------------------------------------
;Player Afterimage effect when rage meter is full
;-------------------------------------------------------------------------------
[Statedef 9005]
type = S
movetype = I
physics = N

[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0]
type = BindToRoot
triggerall = alive
trigger1 = 1
facing = 1
pos = 0,0
time = -1
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = alive
trigger1 = selfanimexist(root,anim)
elem = root,animelemno(0)
value = root,anim

[State 0, ]
type = AfterImage
trigger1 = time = 1
time = -1
PalBright =  0,0,0
PalContrast = 120,120,220
add = 0,120,0
mul = 256,256,256
trans = add
TimeGap = 1
FrameGap = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,var(30) >= 1 || root,var(33) = 0 || root,movetype = H
ignorehitpause = 1
;-------------------------------------------------------------------------------
;P2 Rage Meter Container
;-------------------------------------------------------------------------------
[Statedef 9006]
type = S
movetype = I
physics = N

[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, Offset]
type = Offset
trigger1 = 1
x = -ScreenPos x + 99999
y = -Screenpos y - 99999



[State 0, VarSet]
type = parentVarSet
trigger1 = root,var(33) = 1
v = 32
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = root,var(32) = 0
v = 33
value = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3
volume = 100
channel = -1

[State 0, Explod]
type = Explod
trigger1 = time = 0 && !numexplod(90191)
anim = 9019
id = 90191
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
facing = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 2
ontop = 1
persistent = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) >= 1
id = 90191
ignorehitpause = 1
;----------meter start----------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = root,var(32) < 31 && !numexplod(909023)
anim = 909023
id = 909023
pos = -100,233
postype = right  ;p2,front,back,left,right
removetime = -1
bindtime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.50
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, ModifyExplod]
type = ModifyExplod
triggerall = root,var(32) < 32
trigger1 = numexplod(909023)
id = 909023
scale = (root,var(32))/62.0,.50
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(32) > 30
id = 909023
ignorehitpause = 1
;----------------FULL BAR ACTIVE!-----------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = root,var(32) > 30 && !numexplod(9090231)
anim = 9090231
id = 9090231
pos = -100,233
postype = right ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .51,.4
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, ModifyExplod]
type = ModifyExplod
triggerall = root,var(33) > 0
trigger1 = numexplod(9090231)
id = 9090231
scale = (root,var(33))/1800.0,.5
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) >= 1
trigger2 = root,var(33) = 1
id = 9090231
ignorehitpause = 1
;-----------<rage meter fill end>-----------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 2 && !numexplod(90171)
trigger2 = root,var(32) > 30 && !numexplod(90171)
anim = 90171
id = 90171
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 4
ontop = 1
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(32) > 30
id = 90171
ignorehitpause = 1
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) >= 1
id = 90171
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = root,var(32) >= 31 && !numexplod(90201)
anim = 9020
id = 90201
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1
facing = -1
ignorehitpause =  1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) >= 1 || root,var(33) = 2 || root,var(32) = 0
id = 90201
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,var(30) >= 1
ignorehitpause = 1
persistent = 0
;-------------------------------------------------------------------------------
;Dragon Mode Meter P2
;-------------------------------------------------------------------------------
[Statedef 9008]
type = S
movetype = I
physics = N
ignorehitpause = 1

[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, Offset]
type = Offset
trigger1 = 1
x = -ScreenPos x + 99999
y = -Screenpos y - 99999

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 30
value = 900
ignorehitpause = 1

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = root,var(30) > 1
v = 30
value = -1
ignorehitpause = 1

[State 0, ParentVarSet]
type = parentVarSet
trigger1 = root,var(30) = 1 || roundstate = 3
v = 30
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = time = 1
v = 35
value = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,3
volume = 100
channel = -1
;--------meter fill start-------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0 && !numexplod(990239)
anim = 990239
id = 990239
pos = -100,233
postype = right   ;p2,front,back,left,right
removetime = -1
bindtime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1


[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(990239)
id = 990239
scale = (root,var(34))/1800.0,.5
ignorehitpause = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = time = 1
v = 34
value = 900
ignorehitpause = 1

[State 0, ParentVarAdd]
type = parentVarAdd
trigger1 = root,var(34) > 1
v = 34
value = -1
ignorehitpause = 1

[State 0, ParentVarSet]
type = parentVarSet
trigger1 = root,var(30) <= 1 || roundstate = 3
v = 34
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = parentVarSet
trigger1 = root,var(34) = 0
v = 35
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) = 0
id = 9023
ignorehitpause = 1
;--------meter fill ends--------------------------------------------------------
[State 0, Explod]
type = Explod
trigger1 = time = 0 && !numexplod(90119)
anim = 90119
id = 90119
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
facing = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 2
ontop = 1
persistent = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) = 0
id = 90119
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = root,var(32) >= 31 && !numexplod(909123)
anim = 909123
id = 909123
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 4
ontop = 1
persistent = 0
ownpal = 1
ignorehitpause =  1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) = 0
id = 909123
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 2 && !numexplod(9024)
anim = 9024
id = 9024
pos = 160,120
postype = left  ;p2,front,back,left,right
bindtime = -1
facing = -1
removetime = -1
supermove = 9999999999999
pausemove = 9999999999999
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,var(30) = 0
id = 9024
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,var(30) = 0
ignorehitpause = 1
;-------------------------------------------------------------------------------
;Count down timer for rage meter when full (P1 & P2)
;-------------------------------------------------------------------------------
[Statedef 9007]
type = S
movetype = I
physics = N

[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0, Offset]
type = Offset
trigger1 = 1
x = -ScreenPos x + 99999
y = -Screenpos y - 99999

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2
volume = 100
channel = -1


[State 0, VarSet]
type = parentVarSet
trigger1 = time = 0
v = 33
value = 900

[State 0, ParentVarAdd]
type = parentVarAdd
trigger1 = root,var(33) > 1
v = 33
value = -1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,var(33) = 0
;-------------------------------------------------------------------------------
[Statedef 9009]
type = S
movetype = I
physics = N

[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 0]
type = BindToRoot
triggerall = alive
trigger1 = 1
facing = 1
pos = 0,0
time = -1
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = alive
trigger1 = selfanimexist(root,anim)
elem = root,animelemno(0)
value = root,anim

[State 0, ]
type = AfterImage
trigger1 = time = 1
time = -1
PalBright =  0,0,0
PalContrast = 120,120,220
PalAdd = 0,12,0
PalMul = .77,.77,.77
trans = add
TimeGap = 1
FrameGap = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
triggerall = root,var(30) > 1
trigger1 = root,movetype = H && root,stateno != [120,155]
trigger2 = root,stateno = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,var(30) = 0
ignorehitpause = 1
;-------------------------------------------------------------------------------
;Amount-of-Hermit-Chakra--------------------------------------------------------
;-------------------------------------------------------------------------------
[Statedef 9010]
type = S
movetype = I
physics = N

[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
time = -1
pos = 0,0
ignorehitpause = 1

[State 0]
type = Helper
triggerall = !winko && root,stateno = 0
trigger1 = root,var(30) > 1 && !numhelper(9011)
helpertype = normal
id = 9011
pos = 0,0
postype = p1
name = "Amount-of-Chakra"
stateno = 9011
supermovetime = 9999999999
pausemovetime = 9999999999
ignorehitpause = 1
ownpal = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = root,var(30) = 899
value = S3,0
volume = 100
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = root,var(30) = 50
value = S3,1
volume = 100
channel = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(30) >= 1
triggerall = (root,win || root,lose)
trigger1 = root,var(35) = 1
value = S3,1
volume = 255
channel = -1
persistent = 0
;--------------------------Amount-of-Chakra-------------------------------------
[Statedef 9011]
type = S
movetype = I
physics = N
sprpriority = 3

[State 0, ]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,13
volume = 255
channel = -1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = alive
trigger1 = time = 0
trigger1 = selfanimexist(root,anim)
elem = root,animelemno(0)
value = root,anim

[State 0, bindtoroot]
type = bindtoroot
triggerall = alive
trigger1 = 1
facing = 1
pos = 0,0
time = -1
ignorehitpause = 1
persistent = 1

[State -2, color]
type = palfx
triggerall = alive
trigger1 = 1
add = 0,120,0
mul = 256,256,256
sinadd = 50,100,50,7
invertall = 0
color = 256
time = -1
ignorehitpause = 1

[State 0, trans]
type = trans
triggerall = alive
trigger1 = 1
trans = add1
alpha = 256 - (9*time), (9*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 0, angledraw]
type = angledraw
triggerall = alive
trigger1 = 1
value = 0
scale = 1 + (.0059*time), 1 + (.0059*time)
time = -1
ignorehitpause = 1
persistent = 1

[State 0, destroyself]
type = Destroyself
triggerall = alive
trigger1 = time = 40 || root,stateno != 0
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
;W.I.P-States-Hermit && Rasengan Big states 190 && 101001
;Rasengan State 101000 -:Solved-100%
;-------------------------------------------------------------------------------
;800 -Custom-States
;1000-Rasengan-States
;[2000,4500] - Toads
;6000-Effect-States
;7000-Spark-Systems
;8000-BG-Hyper-Port's
;9000-Play-Img
;10000-Hermit-Mode
;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------

; Var(1) - StateDef -2
; Var(2) - StateDef 90200, 90210, 90220, 90230, 90240, 990200, 990210, 990220, 990230, 990240, 990250, 990260, 410, 420, 430, 440, 600, 610, 620, 800, 10200, 10210, 10220, 10240, 10270, 10280, 10440, 10600, 10610, 10620
; Var(3) - StateDef 90200, 90210, 90220, 90230, 90240, 990200, 990210, 990220, 990230, 990240, 990250, 990260, 410, 420, 430, 440, 600, 610, 620, 800, 10200, 10210, 10220, 10240, 10270, 10280, 10440, 10600, 10610, 10620
; Var(6) - StateDef 401, 10401, 10451, 10805
; Var(7) - StateDef 194
; Var(10) - StateDef 169, 198
; Var(11) - StateDef 1000
; Var(12) - StateDef 999
; Var(13) - StateDef 1004, 10232
; Var(14) - StateDef 1005
; Var(15) - StateDef 630
; Var(16) - StateDef 4007
; Var(17) - StateDef 4013
; Var(18) - StateDef 4013
; Var(19) - StateDef 10291, 10431
; Var(20) - StateDef 10999
; Var(21) - StateDef 101000
; Var(22) - StateDef 101003
; Var(23) - StateDef 101004
; Var(24) - StateDef 10197
; Var(25) - StateDef 10198
; Var(26) - StateDef -2
; Var(27) - StateDef -2
; Var(28) - StateDef -2
; Var(29) - StateDef -2
; Var(30) - StateDef -3
; Var(31) - StateDef -3, 9003
; Var(32) - StateDef 10200, 10210, 10220, 10240, 10260, 10270, 10280, 10440, 10600, 10610, 10620, -3, 9003, 9006
; Var(33) - StateDef 9003, 9006, 9007
; Var(34) - StateDef 9004, 9008
; Var(35) - StateDef 9004, 9008

;--------------------- Float Variable List ----------------------

; fVar(0) - StateDef -2
; fVar(1) - StateDef -2
; fVar(2) - StateDef -3
; fVar(3) - StateDef 90200, 990200, 600, 10200, 10600
; fVar(4) - StateDef 90210, 990210, 610, 620, 10210, 10610, 10620
; fVar(5) - StateDef 220, 10220
; fVar(6) - StateDef 230, 10260
; fVar(7) - StateDef 240, 10270
; fVar(8) - StateDef 90230, 990230, 250, 10280
; fVar(9) - StateDef 90240, 990240, 260
; fVar(10) - StateDef 990250, 410
; fVar(11) - StateDef 90220, 990220, 990260, 420, 10440
; fVar(12) - StateDef 430, 440, 450
; fVar(13) - StateDef 270, 700, 750, 10420, 10700, 10750
; fVar(14) - StateDef 270, 700, 750, 10420, 10700, 10750
; fVar(15) - StateDef 270, 700, 750, 10420, 10700, 10750
; fVar(16) - StateDef 101006
; fVar(17) - StateDef 101006
; fVar(18) - StateDef 101006
; fVar(19) - StateDef 10450
; fVar(20) - StateDef 10450
; fVar(21) - StateDef 10450
