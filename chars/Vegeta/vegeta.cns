;=====================================
;"Vegeta_DGZ", from Super Botuden 2 (edit)
;=====================================

;----------------------------------------
;Author:	D-GENERACION Z Team
;Foro:	http://caballerosz.metropoliglobal.com/phpBB2/index.php
;----------------------------------------

;===========================================================================

;===========
;== NOTAS ==
;===========

;-------------- Generated by Fighter Factory -------------

;--------------------- Variable List ----------------------

; Var(2) - StateDef 900 ; modo vuelo
; Var(3) - StateDef 900 ; modo vuelo



;SFF/AIR/State Data:
;-------------------

;800-999: Basic (Throws/Misc.)==> Estados especiales.
;	800: Throw
;	805: Throw, Air
;       830: Carga de KI
;       840:
;       850: Cansancio
;       900: Modo Fly
;       910: Modo Fly empezar
;       950: Aterrizaje


;1000-2999: Ataques Speciales
;      1000-1005: Bola de fuego pequeña
;      1100-1101: lanza
;      1200-1201: flama de fuego

;3000-4999: Ataques Super o Hiper
;      3000-3001: Inferno ball

;5000-5999: Sistema (no utilizar) 



;7000-7999: Proyectiles


;8000-8999: Efectos.
;      7000: Aura
;      7010: Efecto suelo (onda)
;      7050: Impacto golpe fuerte
;      7051: Impacto golpe medio
;      7052: Impacto golpe flojo

;===========================================================================



; vegeta_DGZ
[Data]
;Amount of life to start with
life = 1200
;attack power (more is stronger)
attack = 110
;defensive power (more is stronger)
defence = 110
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 60
;Number of points for juggling
airjuggle = 15
;Default hit spark number for HitDefs
sparkno = 2
;Default guard spark number
guard.sparkno = 40
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volume = 0
IntPersistIndex = 58
FloatPersistIndex = 40

[Size]
xscale = 1 ;Factor escalar horizontal.
yscale = 1 ;Factor escalar vertical.
ground.back = 15 ;Ancho del jugador (trasero, suelo)
ground.front = 16 ;Ancho del jugador (delantero, suelo)
air.back = 12 ;Ancho del jugador (trasero, aire)
air.front = 12 ;Ancho del jugador (delantero, aire)
height = 60 ;Altura del jugador (del oponente a saltar encima suyo)
attack.dist = 160 ;Distancia de ataque por default
proj.attack.dist = 90 ;Distancia de ataque para proyectiles por default
proj.doscale = 0 ;Deja el valor de 1 para modificar la escala de los proyectiles también
head.pos = -5, -90 ;Posición aproximada de la cabeza
mid.pos = -5, -60 ;Posición aproximada de la sección media del cuerpo
shadowoffset = 0 ;Numero de pixeles para para ubicar verticalente la sombra
draw.offset = 0,-2 ;Ubicación del personaje en pixeles (ejes x, y)

[Velocity]
walk.fwd  		= 1.2
walk.back 		= -1.2
run.fwd  		= 12,0
run.back 		= -12,0
jump.neu 		= 0,-8.5
jump.back 		= -3.5
jump.fwd 		= 3.7
runjump.back 	        = -2.0,-8
runjump.fwd 	        = 4,-8
airjump.neu 	        = 0,-8
airjump.back 	        = -2.0.-8
airjump.fwd 	        = 2.0,-8


[Movement]
airjump.num = 0 ;Numero de saltos aereos permitidos (opcional)
airjump.height = 35 ;Distancia mínima desde el suelo antes de que puedas ejecutar un salto aereo (opcional)
yaccel = .44 ;Aceleración vertical
stand.friction = .85 ;Coeficiente de fricción cuando está parado
crouch.friction = .82 ;Coeficiente de Fricciòn cuando se está agacha




;---------------------------------------------------------------------------
; Perder por Tiempo...
[Statedef 170]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 170 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; WIN....
[Statedef 180]
type = S ; S-parado

[State 180, 0]
type = ChangeState ; cambio de estado
trigger1 = Time = 0 
value = 181 ; pasar a win pose 1

[State 180, 1];cansancio...cuando gana con menos de 300 de vida
type = ChangeState
triggerall = Life <= 300
trigger1 = !Time
value = 182 ; pasar a win pose 1
;---------------------------------------------------------------------------
; Win pose 1 

[Statedef 181]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 181 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)

[State 181, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;----------------------------------------------------------------------------
;Win pose 2 
[Statedef 182]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 182 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)

[State 182, 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;------------------------------------------------------------------------------
; INTRO
[Statedef 190]


[State 190, 0]
type = ChangeState
trigger1 = time = 0
value = 191
;---------------------------------------------------------------------------
; Intro 1
[Statedef 191]
type = S ; S-parado
ctrl = 0 ;Configura el ctrl (Def: sin cambio)
anim = 190 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)


[State 191, 0]
type = ChangeAnim ; cambio de animacion
trigger1 = RoundState = 0 
value = 190

;[State 191, 1]
;type = AssertSpecial
;trigger1 = 1
;flag = Intro

[State 191: 	AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag 			= Intro
flag2 		= NoMusic
flag3 		= NoBarDisplay

;flash blanco 
[State 830,1]
type =null; Envcolor
trigger1 = animelem = 24
time = 2

;flash blanco 
[State 830,1]
type = Envcolor
trigger1 = animelem = 25
time = 5

;flash blanco 
[State 830,1]
type = Envcolor
trigger1 = animelem = 26
time = 5

[State 191,PalFX]
type			=null; PalFX
trigger1		= (GameTime%6) = 0 && Time = [240,360]
time			= 1
add			= 100,100,100
mul			= 256,256,256
sinadd 		= 50,50,50,2

[State 191,	BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 400) && ((GameTime%70) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 191,	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 360) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90

[State 191, ELECTRICIDAD]
type			= Explod
trigger1		= time = 240
anim			= 7750
id			= 7750
pos			= 10,30
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 12
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1




[State 191, efecto suelo ]
type			= Explod
trigger1		= animelem = 24
anim			= 7590
id			= 7590
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 60
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 26
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 191, efecto suelo ]
type			= Explod
trigger1		= animelem = 25
anim			= 7110
id			= 7110
pos			= 0,3
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 180
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 8
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 191, efecto suelo aura ]
type			= Explod
trigger1		= animelem = 25
anim			= 7230
id			= 7230
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 180
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 25
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1



[State 191,AURA bLANCA]
type			= Explod
trigger1		= animelem = 25
anim			= 7160
id			= 7160
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 180
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.45
sprpriority		= -1
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 191,EFECTO AURA SUBE]
type			= Explod
trigger1		= animelem = 25
anim			= 7220
id			= 7220
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermove		= 0
;removetime		= 28
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 16
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 191,Rocas]
type			=null; Explod
trigger1		= animelem = 25
anim			= 7650
id			= 7650
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 5
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1




[State 191,ESFERA DE AIRE]
type			= Explod
trigger1		= animelem = 25
anim			= 7530
id			= 7530
pos			= 0,-40
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermove		= 0
removetime		= 32
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 190, humo izquierdo]
type = Explod
trigger1 = animelem = 25
anim = 7500;7260
id = 7250
pos = 15,0;-15,0
postype = p1
facing = 1
bindtime = 1
ontop = 1
shadow = 0,0,0
Scale = 1,1;0.5, 0.5

[State 190, humo derecho]
type = Explod
trigger1 = animelem = 25
anim = 7500;7260
id = 7250
pos = -15,0;15,0
postype = p1
facing = -1
bindtime = 1
ontop = 1
shadow = 0,0,0
Scale = 1,1;0.5, 0.5

[State 191,POLVO QUE SE REPITE DERECHA]
type			= Explod
trigger1		= animelem = 25
anim			= 7520
id			= 7520
pos			= 30,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 180
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 191,POLVO QUE SE REPITE IZQUIERDA]
type			= Explod
trigger1		= animelem = 25
anim			= 7520
id			= 7520
pos			= -30,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 180
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 831,efecto fin aura]
type = Explod
trigger1 = animelem = 26
anim = 7600
id = 191
pos = 0,-10
postype = p1
facing = 1
bindtime = 1
ontop = 1
shadow = 0,0,0
Scale = 0.5,0.5


[State 191,hablando];I am a saiyian....a warrior elite and the last face youll ever see
type = playsnd
trigger1 = animelem = 2
value = 190,0
volume = 255

[State 191,grito ki ]
type = playsnd
trigger1 = animelem = 25
value = 830,0
volume = 255

[State 730, sonido ki]
type = PlaySnd
trigger1 = ((Time > 400) && ((GameTime%30) = 0))
value = 830,1
volume = 255
  
[State 191,0]; terremoto
type = PlaySnd
trigger1 = ((Time > 360) && ((GameTime%30) = 0))
value = 830,3
volume = 200

[State 191,desaparece ki ]
type = playsnd
trigger1 = animelem = 26
value = 830,2

[State 191, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;---------------------------------------------------------------------------
;Saludo

[Statedef 195]
type = S ; S-parado
ctrl = 0  ;Configura el ctrl (Def: sin cambio)
anim = 195 ;Cambia animción (Def: sin cambio)
velset = 0,0 ;Configura velocidad (ejesx,y) (Def: sin cambio)
movetype = I ;Tipo de movimiento: A-ataque, I-reposo, H-gethit (golpe recibido)
physics = S  ;Físicos: S-parado, C-agachado, A-aire
sprpriority = 2 ;Configura la prioridad de las capas de sprites del p1 sobre la del p2 (en frente)

[State 195, 0]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, 1]
type = ChangeState ; cambio de estado
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Stand Puño debil
[Statedef 200]
type    = S                      ;State-type: S-parado, C-agachado, A-aire, L-derribado
movetype= A                      ;Tipo de movimiento: A-ataque, I-reposo, H-gethit (golpe recibido)
physics = S                      ;Físicos: S-parado, C-agachado, A-aire
juggle  = 1                      ;Número de puntos de juggle aereo que el movimiento toma
;Controles comunmente usados:
velset = 2,0                     ;Configura velocidad (ejesx,y) (Def: sin cambio)
ctrl = 0                         ;Configura el ctrl (Def: sin cambio)
anim = 200                       ;Change animation (Def: no change)
poweradd = 20                    ;Poder a añadir (Def: 0)
sprpriority = 2                  ;Configura la prioridad de las capas de sprites del p1 sobre la del p2 (en frente)

;Define un "Hit" (golpe bien sucededido). Si la caja de colisión Clsn1 de su personaje
;(caja de ataque, roja en el AirView) entra en contacto con la caja Clsn2 (caja de "Hit",azul en el AirView) del adversario, y un HitDef fue definido en el instante, o antes, entonces el efecto específico será aplicado.Este es un de los controles más complejos, y también el más utilizado.
;Un HitDef es válido sólo para un "Hit".Para hacer un movimiento que tiene varios "Hits", usted debe colocar más de un trigger en el HitDef durante el ataque.





[State 200, 0]; hitdef
type = HitDef
trigger1 = AnimElem = 2          ; hit p2 en animelem 2(sprite 2 de la animacion)
attr = S, NA                     ;Este es el atributo de ataque. Él es usado para determinar si el ataque puede acertar el P2.De momento, usted sólo menciona el atributo,diciendo cual el tipo de ataque es. Debe ser del formato:
                                 ;attr = arg1, arg2.

                                 ;arg1
                                 ;"S" - ataque en pie
                                 ;"C" - ataque agachado
                                 ;"A" - ataque en el aire

                                 ;arg2 es compuesto por dos letras.
                                 ;"N" - para "normal" 2 a
                                 ;"La" - para "ataque"
                                 ;"S" - para "especial"
                                 ;"T" - para "agarre" (throw)
                                 ;"H" - para "hyper" (o super)
                                 ;"P" - para "projéctil"

damage = 23, 0                   ;damage = hitdamage, guarddamage (entero)
                                 ;hitdamage es el daño que el adversario lleva.guarddamage es opcional, y es el daño que el adversario lleva cuando defiende.El padron para ambos es cero.


animtype = Light                 ;Este se refiere al tipo de animación que el adversario irá a tener cuando sea acertado.

                                 ;"light" - acierto leve
                                 ;"medium" - acierto medio
                                 ;"hard" - acierto fuerte
                                 ;"back" - derrumbar
                                 ;"up" - con caída tipo "uppercut" (de MK).
                                 ;"diagup" - acierto con caída en el aire, con caída de cabeza.El padron(por default) es "Light".
                                 ;air.animtype = animtype

                                 ;igual al parámetro "animtype", este hace la animación cuando el adversario está en el aire.El padron(por default)es utilizar la misma animación del "animtype".osea la del suelo
                                 ;fall.animtype = animtype

                                 ;Similar al parámetro "animtype", este seta a animación cuando el adversario está cayendo.El padron es utilizar la misma animación del "animtype". El padron es "Up" si el air.animtype es "Up",y "Back" de lo contrario.

guardflag = MA                   ;Esto determina como P2 se puede defender el ataque.si no se pone nada p2 no
                                 ;consigue defenderse o atacar (anular movimiento). hitflags es la "string" que contiene una combinación de los siguientes caracteres:
                                 ;"H" - para "high" (alto)
                                 ;"L" - para "low" (bajo)
                                 ;"La" - para "air" (aéreo)
                                 ;"M" - para "mid" (equivalente a decir HL)

                                 ;Parámetros opcionales:

                                 ;affectteam = teamtype

                                 ;teamtype especifica que equipo será afectado por el Hitdef. El padron(por default) es

                                 ;"Y".
                                 ;"B" - para "both" (Hitdef afectará todos los luchadores alcanzados)
                                 ;"Y" - para "enemy" (afecta sólo el equipo enemigo)
                                 ;"F" - para "friendly" (afecta sólo sus compañeros)

hitflag = MAF                    ;Esto determina que tipo de estado P2 debe estar,para que P1 pueda pegarle. hitflags es una variable "string" (que guarda letras) que contiene una combinación de los siguientes caracteres:
                                 ;"H" - para "high" (alto)
                                 ;"L" - para "low" (bajo)
                                 ;"La" - para "air" (aéreo)
                                 ;"M" - para "mid" (equivalente a decir HL)
                                 ;"F" - para "fall" (en caída, incluyendo el efecto de juggle)
                                 ;"D" - para "lying Down" (adversario caído)

                                 ;Dos caracteres opcionales son (+) y (-). Si "+" fuera añadido, entonces el "Hit" sólo
                                 ;afecta el adversario en un estado de "gethit". Esto puede ser muy útil en combos,
                                 ;chain-mueves, ... donde este Hitdef no irá a afectar el adversario, a menos que él ya haya sido alcanzado por el ataque inicial del combo. Si "-" fuera añadido, entonces el Hitdef sólo afecta adversarios que no están en un estado de "Hit". Usted puede usar "-" para agarrones, y otros movimientos que usted no quiera añadir en un combo. "+" y "-" no pueden ser utilizados al mismo tiempo.Si es omitido, el padron(por default) es
                                 ;MAF.

priority = 3, Hit                ;priority = hitprior (entero), hittype (string)

                                 ;Especifica la prioridad para este "Hit". Prioridad alta lleva precedencia sobre "Hits"
                                 ;de menor prioridad. Valores válidos para hitprior son de 1 a 7. El padron es 4.Hittype, cuando especificado, da la clase de la prioridad del "Hit". Clases válidas son:
                                 ;"Hit" - siempre lleva precedencia sobre la clase Dodge. Es el padron es 0.
                                 ;"Dodge" - siempre lleva precedencia sobre la clase Miss.
                                 ;"Miss" - Falla menor prioridad

pausetime = 11, 11               ;pausetime = p1pausetime, p2shaketime (entero)

                                 ;Este es el tiempo que cada luchador irá a parar durante el "Hit".
                                 ;p1pausetime es el tiempo a parar P1, medidos en game-ticks.
                                 ;p2pausetime es el tiempo que el adversário balancea antes de ser reculado debido al golpe. El padron es 0,0 si es omitido.
                                 ;guard.pausetime = p1pausetime, p2shaketime (entero)
                                 ;Similar al "pausetime", hay un tiempo de pausa para cada jugador si el golpe fuera defendido.Cuando es omitido, el padron son los mismos valores de "pausetime".

sparkno = s7010                  ;sparkno = actionen el (entero)
                                 ;Esto define el número de la animación (Action) del "Hit" ("sparks", sangre, luces, ...).
                                 ;Para utilizar una animación fuera del archivo AIR de su personaje, preceda el número de la animación por una S (eso sólo vale para versión 27/06+).El padron es definido por las variables del personaje.En la versión antigua (01/01) era necesario colocar sparkno = 0,6; a partir de la versión 27/06, basta sparkno = 6.

guard.sparkno = s7001            ;Esto define el número de la animación (Action) del golpe cuando defendido ("sparks", ...).Para utilizar una animación fuera del archivo AIR de su personaje, preceda el número de la animación por un S. El padron es definido por las variables del personaje.



sparkxy = -10, -40               ;Esto define donde colocar el "spark".
                                 ;sparkx es la coordinada relativa a frente de P2.sparky es relativo al P1. Valores
                                 ;negativos hacen el "spark" subir.

                                 ;Usted puede utilizar el AirView para determinar que valor de la posición del cursor leyendo el valor en y-position. El padron es 0,0 se omitido.

hitsound = S200, 0                  ;Este es el sonido a ser tocado en el "Hit" (del archivo common.snd). La inclusión del archivo fight.snd permite usted escoger 5,0 ("Hit" leve) hasta 5,4 ("Hit" fuerte). Para tocar un sonido del archivo SND de su personaje, preceda el número por S.
                                 ;Por ejemplo:

                                 ;"hitsound = S1,0".
                                 ;El padron es definido por las variables de su personaje.

guardsound = 6, 0                ;Este es el sonido para tocar cuando el adversario defiende (del archivo common.snd). Sólo el sonido 6,0 está disponible. Para tocar un sonido del archivo SND de su personaje, preceda el número por S. No se puede tocar un sonido del adversario. El padron es definido por las variables de su personaje.

ground.type = High               ;ground.type = attacktype
                                 ;Este es el grupo de ataque si el adversario está en el suelo. Escoja "High" para ataques que hagan el adversario hacer la cabeza para tras, "Low" para ataques que sean en el estómago, "Trip" para arrastrarse(resbala), o "None" para no hacer nada al adversario. Si usted escoge "High" o "Low" es la misma cosa, si AnimType estuviera en "Back". El padron es "High" si es omitido.

ground.slidetime = 5             ;Este es el tiempo en game-ticks que el adversario resbala para tras después de ser alcanzado por el "Hit" (no está incluso el tiempo de pausetime para P2). Aplicable sólo para golpes que mantienen al adversario en el suelo. El padron es cero, si es omitido.

ground.hittime  = 15             ;Tiempo que el adversario lleva para recuperarse de un estado de "Hit". Incrementar
                                 ;este valor mantiene el adversario en uno estado de "Hit" por tiempo mayor, tal vez para tornar el combo más fácil. Aplicable sólo en "Hits" que mantengan el adversario en el suelo. El padron es 0, si omitido.

ground.velocity = -5             ;Velocidad inicial para dar al P2 después de ser acertado, si el P2 está en el suelo.
                                 ;Si la velocidad Y no fuera cero, P2 va a ser jugado para arriba. El valor padron para los 
                                 ;dos es 0 si son omitidos. Usted puede dejar de fuera la velocidad de Y se quiera que el oponente continúe en el suelo.

airguard.velocity = -1.9,-.8     ;Velocidad a ser dada al P2 si se defiende de un ataque en el aire. El valor padron es x_
                                 ;velocity*1.5, yvelocity/2, donde la velocidad de X y Y son los valores de "air.velocity".

air.type = High                  ;air.type = attacktype
                                 ;Este es el grupo de ataque para el adversario en el aire. El padron es el mismo valor de "ground.type" se omitido.

air.velocity = -1.4,-3           ;Velocidad inicial a ser dada para el P2 si él fuera acertado por el ataque en el aire.
                                 ;El valor padron es para 0,0 si es omitido.


air.hittime = 12                 ;Tiempo que el adversario queda en estado de "Hit" después de recibir el golpe, en el o llendo para el aire, antes de ir para el estado de "air recover". Este parámetro no tienen efecto si el parámetro "fall" esta en 1. El padron es 20 (o sea, si fall = 0, él se
                                 ;auto-recupera en el aire después de 20 game-ticks).

[State 200, 1] ; grito 
type = PlaySnd
trigger1 = Animelem = 2
value = 200, 1
volume = 200


[State 200, 2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900


[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Standing uppercut
[Statedef 201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 203; animacion Uppercut
sprpriority = 4

[State 201,0];velset
type = VelSet
trigger1 = animelem = 2
x = 10
y = 0

[State 201,1] ;Humo uppercut
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 1,1
Postype = p1

[State 201,2]; grito vegeta 
type = PlaySnd
trigger1 = animelem = 2
value = 200, 1
volume = 200 ;volumen

[State 201,Hitdef]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-50
hitsound   = S200,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0, -9
air.velocity = -2.5,-4
fall = 1 ;cae p2


[State 201,3] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0 ;cuando termina el tiempo de animacion 
trigger1 = Pos Y < 0 ;cuando la posicion Y de p1 es menor a 0
value = 900 ;state modo vuelo


[State 201,4] ; cambio de estado
type = ChangeState
trigger1 = AnimTime = 0 ;cuando termina el tiempo de animacion
value = 0 ; state Stand
ctrl = 1
;---------------------------------------------------------------------------
; teleport 
[Statedef 202]
type    = A                      
movetype= A                      
physics = N                      
juggle  = 1                      
velset = 0,0                 
ctrl = 0                     
anim = 202                 
poweradd = 0

[State 202,0];Afterimage derecha
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 25
velocity = -1
offset = 0

[State 202,1];Afterimage izquierda
type = Explod
Trigger1 = AnimElem = 1
anim = 202
removetime = 25
velocity = 1
offset = 0

[State 202,2];Aftermage
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 202,3];sonido teleport
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 10

[State 202,4];cambio de posicion
type = posadd
trigger1 = time = 10
x = p2bodydist x + 15
y = p2bodydist y -25

[State 202,5]; grito vegeta
type = PlaySnd
trigger1 = time = 0
value = 202, 0
volume = 200

[State 202,6];cambio estado
type = ChangeState
trigger1 = time = 10
value = 203
ctrl = 1
;----------------------------------------------------------------
;Mazazo
[Statedef 203]
type = S
MoveType =A
physics = S
sprpriority = 0
ctrl=0
anim = 205
VelSet = 0,0

[State 203, 0];grito vegeta
type = PlaySnd
trigger1 = animelem = 3
value = 200, 1
volume = 200

[State 203,1];grito vegeta
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1
volume = 200

;Fumaça
[State 2024:	Explod]
type			= Explod
trigger1		= Target, StateNo = 206
anim			= 7540
id			= 7540
pos			= 10,10
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
removetime		= 26
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
sprpriority		= 999
ontop			= 1
ownpal		= 1
removeongethit	= 0
persistent		= 0

;Agujero
[State 2024:	Explod]
type			= Explod
trigger1		= Target, StateNo = 206
anim			= 207
id			= 207
pos			= 0,-1
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
sprpriority		= 0
ontop			= 0
ownpal		= 1
removeongethit	= 0
persistent		= 0

;Explsao fumaça
[State 2024:	PlaySnd]
type			= PlaySnd
trigger1		= Target, StateNo = 206
value			= S4500,4
volume = 255
pan			= (P2Dist X)
persistent		= 0

[State 203,HitDef]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 30,4
pausetime = 5,1
ground.type = high
ground.velocity = -1,0
air.velocity = 0,20
ground.slidetime =10
ground.hittime = 12
hitsound   = S260,0
sparkxy = 0,-30
sparkno = s7010
p2stateno = 205
fall = 1
fall.recover = 0

[State 203,2];cambio de estado
type = ChangeState
trigger1 = animtime = 0 || (FrontEdgeBodyDist < -10) 
value = 900 ;pasar a modo vuelo
ctrl = 1
;-------------------------------------------------
;mandando o p2 pra baixo
[Statedef 205]
type 			= A
movetype		= H
physics		= N
;anim			= 205
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 0

[State 205:	ChangeAnim]
type			= ChangeAnim
trigger1		= Time = 0
value			= 5100

[State 205]
type = PlaySnd
trigger1 = Time = 0
value = S2026, 2
volume = 255

[State 205:	LifeAdd]
type			= LifeAdd
trigger1		= Time = 0
value			= -15
kill			= 0

[State 205:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= -5
y			= 20

[State 205: 	VelAdd]
type 			= VelAdd
trigger1 		= Time > 10
y 			= .40

[State 205:	ChangeState]
type			= ChangeState
trigger1		= Pos Y > -10
value			= 206

;---------------------------------------------------------------------------
;P2 batendo no chao
[Statedef 206]
type 			= S
movetype		= H
physics		= N
;anim			= 206
velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 1
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= -2

[State 206:	ChangeAnim]
type			= ChangeAnim
trigger1		= Time = 0
value			= 206

[State 206:	ChangeAnim]
type			= ChangeAnim2
trigger1		= Time = 0
value			= 207

[State 206:	PlaySnd]
type			= PlaySnd
trigger1		= Time = 0
value			= S11,0

[State 206:	PosAdd]
type			= PosAdd
trigger1		= FrontEdgeBodyDist < 15
x			= -25

[State 206:	PosFreeze]
type			= PosFreeze
trigger1		= 1
value			= 1

[State 206:	VelSet]
type			= VelSet
trigger1		= Time = 0
x			= 0
y			= 0



[State 206, 4]
type = SelfState
trigger1 = time = 50
;trigger1 = Pos Y < 0
value = 40 ;Hit ground
;-----------------------------------------------------

; Standing Codazo basico
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 2,0
anim = 210
sprpriority = 4

[State 210, 0]; grito vegeta
type = PlaySnd
trigger1 = animelem = 2
value = 200, 1
volume = 200

[State 210,Hitdef]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-40
hitsound   = S200,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.5,-4
fall = 0


[State 200, 1] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900


[State 210, 2] ;cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing rodillazo
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 3, 8

[State 230, 1] ;grito vegeta
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1
volume = 200

[State 230,Hitdef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-45
hitsound   = S240,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.5,-3.5


[State 230,2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900

[State 230,3];cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing patada fuerte
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 0];sonido patada
type = PlaySnd
trigger1 = animelem = 2
value = 3, 8

[State 240,1];grito vegeta
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1

[State 240,HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-60
hitsound   = S240,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6, -1
air.velocity = -2.2,-3.2

[State 240,2] ;si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900

[State 240,3];cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; Standing patada fuerte
[Statedef 241]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 241,0];sonido patada
type = PlaySnd
trigger1 = animelem = 2
value = 3,8

[State 241,1];grito vegeta
type = PlaySnd
trigger1 = animelem = 2
value = 240,1

[State 241,Hitdef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-60
hitsound   = S240,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-1
air.velocity = -2.2,-3.2

[State 241,2];si esta en el aire,ve a modo fly.
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900


[State 240,3];cambio de estado
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------
; codazo debil ...( corriendo)
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 201
sprpriority = 3

[State 250,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1211, 1]
type = velset
trigger1 = time = [0,10]
x = 8
y = 0


[State 250,2]; polvo que sigue
type = Explod
trigger1		= Time > 1
trigger1          = ((GameTime%2) = 0) 
anim = 7520
ID = 7520
pos = -5,3
scale = 1,1
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1
spacing 		= 5


[State 250,3] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 1,1
removetime = 20
Postype = p1

[State 250, 4];sonido codazo
type = PlaySnd
trigger1 = animelem = 2
value = 3, 7

[State 250, 4];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 200, 1
volume = 200

[State 250, 5]; hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-45
hitsound   = S200,0
guardsound = S200,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6, 0
air.velocity = -2.5,-4
fall = 0

;[State 230, Exclamation]
;type = Explod
;trigger1 = p2stateno = 1014
;anim = 7040
;pos = 0,-20
;postype = p2
;sprpriority = 99
;bindtime = 1
;ignorehitpause = 1
;ownpal = 1


[State 250, 6]; cambio de estado
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
; codazo fuerte... ( corriendo)
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 201
sprpriority = 3

[State 260,sound];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1
volume = 200

[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 260,1]
type = VelSet
trigger1 = time = 0
x = 20
y = 0


[State 260,2]
type = VelSet
trigger1 = time = 3
x = 20
y = -1

[State 260,3]
type = VelSet
trigger1 = time = 6
x = 15
y = -2

[State 260,4]
type = VelSet
trigger1 = time = 9
x = 15
y = -1

[State 260,5]
type = VelSet
trigger1 = time = 12
x = 10
y = 0

[State 260,6]
type = VelSet
trigger1 = time = 15
x = 10
y = 1

[State 260,7]
type = VelSet
trigger1 = time = 18
x = 10
y = 2


[State 260,8] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 1,1
Postype = p1


[State 260,9]; hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-45
hitsound   = S260,0
guardsound = S260,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7, -3
air.velocity = -7, -3
fall = 1
envshake.time=20
envshake.freq= 50
envshake.ampl= -4

[State 260,10]; cambio de estado
type = ChangeState
;trigger1 = animtime = 0
trigger1 = Pos Y >= 1
value = 50
ctrl = 1

;-------------------------------------------------------------------------
; patada  voladora...( corriendo)
[Statedef 270]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 280
sprpriority = 3

[State 260,sound];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 270, 1
volume = 200

[State 100]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 250 ]
type = VelSet
trigger1 = time = 0
x = 20
y = 0


[State 250 ]
type = VelSet
trigger1 = time = 3
x = 20
y = -1

[State 250 ]
type = VelSet
trigger1 = time = 6
x = 15
y = -2

[State 250 ]
type = VelSet
trigger1 = time = 9
x = 15
y = -1

[State 250 ]
type = VelSet
trigger1 = time = 12
x = 10
y = 0

[State 250 ]
type = VelSet
trigger1 = time = 15
x = 10
y = 1

[State 250 ]
type = VelSet
trigger1 = time = 18
x = 10
y = 2


[State 100,humo]
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 1,1
Postype = p1



[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -20,-40
hitsound   = S270,0
guardsound = S270,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7, -3
air.velocity = -7, -3
fall = 1
envshake.time=20
envshake.freq= 50
envshake.ampl= -4

[State 210, 5]
type = ChangeState
;trigger1 = animtime = 0
trigger1 = Pos Y >= 1
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; barrida ...( corriendo)
[Statedef 280]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 440
sprpriority = 3

[State 250,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 250,1]
type = VelSet
trigger1 = time = 0
x = 20
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 6
x = 15
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 12
x = 10
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 18
x = 5
y = 0

[State 250,1]
type = VelSet
trigger1 = time = 24
x = 0
y = 0

[State 250,2]; polvo que sigue
type = Explod
trigger1		= Time > 1
trigger1          = ((GameTime%2) = 0) 
anim = 7520
ID = 7520
pos = -5,3
scale = 1,1
postype = p1
sprpriority = 5
ownpal = 1
ignorehitpause = 1
removeongethit = 1
spacing 		= 2


[State 250,3] ;Polvo
type = Explod
trigger1 = time = 1
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 1,1
Postype = p1


[State 250, 4];sonido codazo
type = PlaySnd
trigger1 = animelem = 2
value = 3, 7

[State 250, 4];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 200, 1
volume = 200

[State 250, 5]; hitdef
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = 0,-5
hitsound   = S200,0
guardsound = S200,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-9
air.velocity = -2.5,-4
fall = 1

[State 250, 6]; cambio de estado
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------
; patada explosion
[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 6,0
anim = 290
sprpriority = 3

[State 290,VolarP2]
type = PlaySnd
triggerall = !Movehit
trigger1 = Time = 1 
value = 290, 0
volume = 200
channel = 1

[State 290,patada]
type = PlaySnd
trigger1 = animelem = 2
value = 3, 7

[State 290,grito]
type = PlaySnd
trigger1 = animelem = 2
value = 270,1
volume = 255

[State 290:	EXPLOSION]
type			= PlaySnd
trigger1		= P2StateNo = 293
value			= S4500,4
volume            = 255
pan			= (P2Dist X)
persistent		= 0


[State 290,polvo que arrastra P2]
type = Explod
trigger1 = p2stateno = 292
trigger1 = ((GameTime%2) = 0) 
anim = 7560
ID = 7560
pos = -5,3
postype = p2
scale = 1,1
bindtime = 1
sprpriority = 11
ownpal = 1
ignorehitpause = 1
spacing 		= 2

;[State 290,explosion]
;type = Explod
;trigger1 =  P2StateNo = 293
;anim = 7100
;pos = 0, floor (screenpos y) - 50
;postype = Front
;sprpriority = 3


[State 255:		Explod]
type			= Explod
trigger1		= (MoveContact) && (P2StateNo = 293)
anim			= 7100
id			= 851
pos			= 0,-20
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 1
shadow		= -1,100,100
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 290,Hitdef]
type = HitDef
trigger1 = !movehit
attr = S, NA
animtype  = hard
damage    = 55
guardflag = MA
pausetime = 55,15
sparkxy = -5,-58
sparkno = s7010
guard.sparkno = s7001
hitsound   = S270,0
guardsound = 6,0
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 15
ground.hittime	= 15
air.hittime		= 15
ground.velocity	= -30,-3
guard.velocity	= -5
air.velocity	= -30,-3
p2stateno = 291
fall = 1
fall.recover = 0

[State 290, ScreenBound]; movimiento de camara al impactar a P2
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodyDist < -1)
movecamera = 0,0
value	= 0

[State 290,changestate]
type = changestate
trigger1  = (!AnimTime)
value = IfElse(BackEdgeBodydist >= -5,0,100)
ctrl = 1
;-----------------------------------------------------------------------
;Hit by Fast Kung Fu Palm - shaking from the hit
;(a custom gethit state)
[Statedef 291]
type    = A
movetype= H
physics = N
velset = 0,0

[State 292, Sound];VOLANDO
type = PlaySnd
trigger1 = Time = 0
value = S290,0

[State 291, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time >= 0
value = 5001

[State 291, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 292

;------------------
;Hit by Fast Kung Fu Palm - flying through the air
;(a custom gethit state)
[Statedef 292]
type    = A
movetype= A
physics = N
velset = -20,0

[State 292, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = Time >= 0
value = 5035

[State 292, HitDef]
type = HitDef
trigger1 = Time >= 0
attr = S, HA
AanimType  = Hard
affectteam = F
damage    = 50,30
priority  = 6
pausetime = 10,0
sparkxy = -10,-60
getpower = 0
ground.Type = Trip
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -500,30
guard.velocity = -9
air.velocity = -500,30
airguard.velocity = -9,-3
fall.AnimType = Hard
p2stateno = 860
fall = 1
fall.recover = 0

[State 292, PlayerPush]
type = PlayerPush
trigger1 = Time >= 0
value = 0


[State 292, Hit wall]
type = ChangeState
trigger1 = BackEdgeBodyDist <= 0
trigger2 = FrontEdgeBodyDist <= 0
trigger3 = P2MoveType != A
value = 293

[State 292, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
;Hit by Fast Kung Fu Palm - hit wall
;(a custom gethit state)
[Statedef 293]
type    = A
movetype= H
physics = N

[State 293, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 293, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 293, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 293, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 293, Spark]
type =null; Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 293, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 293

[State 293, Sound];EXPLOSION
type = PlaySnd
trigger1 = Time = 0
value = S4500,4

[State 293, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 294

;------------------
;Hit by Fast Kung Fu Palm - bounce off wall
;(a custom gethit state)
[Statedef 294]
type    = A
movetype= H
physics = N

[State 294, 1]
type = NotHitBy
trigger1 = Time >= 0
value = , NA, NP

[State 294, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -3

[State 294, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 294, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1015, Gravity]
type = VelAdd
trigger1 = Time >= 0
y = .35

[State 1015, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1015, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1015, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1015, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1015, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;--------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-40
hitsound   = S200,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2.5,-4
fall = 0


;[State 400, 3]
;type = CtrlSet
;trigger1 = Time = 5
;value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
;Crouching strong punch
; CNS difficulty: easy
; Description: This is a 2-hit move. It is done by having two HitDefs
;     triggered, one for each frame of animation that hits.
;     Notice how the first hit cannot be guarded by an opponent in the
;     air, because of the "M" in the guardflag, meaning it can only
;     be guarded "middle". The second hit has an "MA" guardflag, so
;     it can be guarded both on the ground and in the air.
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

;This is the first hit, triggered on the 3rd element of animation.
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = S200,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

;This is the second hit, triggered on the 4th element of animation.
[State 410, 3]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage    = 36
animtype  = Medium
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10,-83
guard.sparkno = s7001
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -3,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
; CNS difficulty: easy
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 3, 8

[State 230, 0] ; grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1



[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 13,13
sparkno = s7010
sparkxy = -10,-8
hitsound   = S240,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------

[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 72
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = s7010
sparkxy = -5,-10
hitsound   = S240,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 0

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Jump Light Punch
; CNS difficulty: easy
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 12,12
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-25
hitsound   = S200,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 15
ground.velocity = -4
air.hittime = 12 
air.velocity = -1.3,-3

;[State 600, 3]
;type = CtrlSet
;trigger1 = Time = 17
;value = 1

;---------------------------------------------------------------------------
;Jump Strong Punch
; CNS difficulty: easy
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 610
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 610, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 72
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-25
hitsound   = S200,0
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
;Jump Light Kick
; CNS difficulty: easy
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 630
sprpriority = 2

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 3, 8

[State 230, 0] ; grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1


[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 630, 2]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 26
guardflag = HA
priority = 3
pausetime = 8,8
sparkno = s7010
guard.sparkno = s7001
sparkxy = -8,-20
hitsound   = S240,0
guardsound = 6,0
ground.type = High
ground.slidetime = 6
ground.hittime  = 6
ground.velocity = -4
air.velocity = -2,-3

;---------------------------------------------------------------------------
;Jump Strong Kick
; CNS difficulty: easy
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 640
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 230, 0] ;sonido rodillazo
type = PlaySnd
trigger1 = animelem = 2
value = 3, 8

[State 230, 0] ; grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1

[State 640, 3]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage    = 70
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-40
hitsound   = S240,0
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = -5
air.velocity = -3,-4

;---------------------------------------------------------------------------
;Kung Fu Throw - Attempt
[Statedef 800]
type=S
movetype=A
physics=S
anim=800
velset=0,0
ctrl=0

[State 800, 1]
type=HitDef
trigger1= time =0
attr=S, NT
priority=2, miss
sparkno=-1
hitsound=S5,10
snap=32,0,0,1
p1stateno=810
p2stateno=820

[State 800, 2]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;-------------------------------

[Statedef 810]
type=S
movetype=A
physics=S
anim=810
velset=0,0
sprpriority = 5

[State 810, 1]
type=NotHitBy
trigger1=Time >= 0
value=SCA
time=1


[State 810, 1]
type=PlayerPush
trigger1=Time >= 0
value=0

[State 810, 2]
type=TargetLifeAdd
trigger1=animtime=0
value=-20

[State 810, 3]
type=TargetBind
trigger1=AnimElem=1, >= 0
trigger1=AnimElem=2, < 0
pos=10,0

[State 810, 4]
type=TargetBind
trigger1=AnimElem=2, >= 0
trigger1=AnimElem=3, < 0
pos=10,0

[State 810, 10]
type=TargetBind
trigger1=AnimElem=3, >= 0
trigger1=AnimElem=4, < 0
pos=10,0

[State 810, 12]
type=TargetState
trigger1=AnimElem=4
value=821

[State 810, 12]
type=Turn
trigger1=AnimElem=5

[State 810, 19]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;--------------------------------------
[Statedef 820]
type   =A
movetype= H 
physics=N
velset=0,0
ctrl=0

[State 820, 1]
type=ChangeAnim2
Trigger1=Time=0
value=820

[State 820, 2]
type=HitBy
Trigger1=Time >= 0
value=SCA
time=1
;-------------------------------------------
[Statedef 821]
type   =A
movetype= H 
physics=N
velset=3.5,-8
anim=5061
ctrl=0

[State 821, 1]
type=PosAdd
Trigger1=Time=0
x= 10
y=-30

[State 821, 2] 
type=VelAdd
Trigger1=Time > 0
y=.4

[State 821, 3]
type=LifeAdd
Trigger1=Time=0
value=-20

[State 821, 4] 
type=SelfState
trigger1=Vel Y > 0
trigger1=Pos Y >= 10
value=5100 

;=========================================================================

;===================
;ESTADOS ESPECIALES
;===================
;--------------------------------------------------------------------
; Cargar ki
[Statedef 830, 0]
type    = S
movetype= I
physics = S
juggle  = 9
velset = 0,0
ctrl = 0
anim = 830
poweradd = 0
facep2 = 1

;flash blanco 
[State 830,Envcolor]
type = Envcolor
trigger1 = animelem = 2
time = 5

[State 830,Poweradd]
type = Poweradd
trigger1 = Time >= 0
value = 5

[State 830,	BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 40) && ((GameTime%70) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 830,	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 40) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90

[State 830, humo izquierdo]
type = Explod
trigger1 = animelem = 2
anim = 7500;7260
id = 7250
pos = 15,0;-15,0
postype = p1
facing = 1
bindtime = 1
ontop = 1
shadow = 0,0,0
Scale = 1,1;0.5, 0.5

[State 830, humo derecho]
type = Explod
trigger1 = animelem = 2
anim = 7500;7260
id = 7250
pos = -15,0;15,0
postype = p1
facing = -1
bindtime = 1
ontop = 1
shadow = 0,0,0
Scale = 1,1;0.5, 0.5

[State 830,ESFERA DE AIRE]
type			= Explod
trigger1		= time = 11
anim			= 7530
id			= 7530
pos			= 0,-40
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermove		= 0
removetime		= 32
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 830,aura efecto sube];efecto al comienzo de la carga
type			= Explod
trigger1		= time = 11
anim			= 7220
id			= 7220
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 10
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 830,AURA Blanca];Aura
type			= Explod
trigger1		= time = 11 ;animelem = 2
anim			= 7160
id			= 7160
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.45
sprpriority		= -1
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 830,remover AURA Blanca ]
type			= RemoveExplod
id			= 7160;Aura Blanca
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 830;(Time = 90)
trigger1 = time >= 40

[State 830,POLVO QUE SE REPITE DERECHA]
type			= Explod
trigger1		= TIME = 30
anim			= 7520
id			= 7520
pos			= 30,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 830,REMOVER POLVO QUE SE REPITE DERECHA ]
type			= RemoveExplod
id			= 7520 ;efecto suelo Aura
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 830;(Time = 90)
trigger1 = time >= 40

[State 830,POLVO QUE SE REPITE IZQUIERDA]
type			= Explod
trigger1		= TIME = 30
anim			= 7520
id			= 7520
pos			= -30,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 830,REMOVER POLVO QUE SE REPITE IZQUIERDA]
type			= RemoveExplod
id			= 7520 ;efecto suelo Aura
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 830;(Time = 90)
trigger1 = time >= 40

[State 830, efecto suelo]
type			= Explod
trigger1		= animelem = 2
anim			= 7110
id			= 7110
pos			= 0,3
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= -1
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 830,	remover efecto suelo ]
type			= RemoveExplod
id			= 7110 ;efecto suelo
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 830;(Time = 90)
trigger1 = time >= 40

[State 830, ELECTRICIDAD]
type			= Explod
trigger1		= animelem = 2
anim			= 7750
id			= 7750
pos			= 10,30
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -1
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 12
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 830,	remover electricidad ]
type			= RemoveExplod
id			= 7750 ;efecto electricidad
trigger1		= (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 830;(Time = 90)
trigger1 = time >= 40




[State 830];sonido grito vegeta!!
type = Playsnd
trigger1 = AnimElem = 2
value = 830,0
channel = 1

[State 830:	StopSnd]; detener grito vegeta!! 
type			= StopSnd
trigger1 = (command != "charge") || (command != "charge 1") || (life = 0) || stateno != 830
channel		= 1

[State 830];sonido ki!!
type = PlaySnd
trigger1 = (Time > 2) && ((GameTime%50) = 0) 
value = 830,1
volume = 255


[State 830,ir a modo fin charge ki]
type = ChangeState
triggerall = (command != "charge") || (command != "charge 1")
trigger1 = time >= 40
value = 831; ir a modo fin charge ki
;--------------------------------------------------------------------------------
; terminar modo carga de ki 
[Statedef 831]
type = S
movetype = I
physics = N
anim = 831
ctrl = 0
poweradd = 0
juggle = 0
sprpriority = 1

;flash blanco 
[State 831,Envcolor]
type = Envcolor
trigger1 = time = 0
time = 5

[State 831,efecto fin aura]
type = Explod
trigger1 = time = 5
anim = 7600
id = 831
pos = 0,-10
postype = p1
facing = 1
bindtime = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
ontop = 1
shadow = 0,0,0
Scale = 0.5,0.5
removeongethit	= 1

[State 831,desaparece ki]
type = playsnd
trigger1 = animelem = 1
value = 830,2
volume = 255

[State 831,Remover Aura]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-----------------------------------------

;super patada
[Statedef 860]
type=A
movetype=A
physics=N
sprpriority=0
velset=0,0
PowerAdd=0
juggle=5
anim= 630
hitcountpersist=1
ctrl=0

[State 860,sound];grito 
type = PlaySnd
trigger1 = animelem = 2
value = 270,1
volume = 200

[State 860,sound2] ;sonido 
type = PlaySnd
trigger1 = animelem = 2
value = 3,8


[State 860,AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 860,VelSet]
type=VelSet
trigger1=animelem=2
x=12
y=6

[State 860,HitDef]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = Hard
damage    = 14
guardflag = MA
pausetime = 5,0
sparkno = s7010
sparkxy=-15,-22
hitsound   = s240,0
guardsound = 6,0
guard.sparkno =S9002
ground.type = High
ground.slidetime = 0
ground.hittime  = 10
ground.velocity = .1
air.type = Low
air.velocity = 0
guard.velocity = -0.1
airguard.velocity = 0   
fall = 1

[State 860,ChangeState]
type=ChangeState
trigger1=(movecontact)
value=861;contacto

[State 860,ChangeState2]
type=ChangeState
trigger1= animtime = 0
trigger2= Pos Y >= 0
value=50
ctrl=1
;---------------------------------------------------------------------------
; Contacto
[Statedef 861]
type    = A     
movetype= A     
physics = N     
juggle  = 0     
velset = 0,0
ctrl = 0  
anim = 211

[State 701] 
type = VelSet
trigger1 = AnimElem = 1,[1, 8]
y = -3
x = -4


[State 701]
type =VelAdd
trigger1 = Time > 0
y = .30

[State 700]
type = ChangeState
trigger1 = animtime = 0
value = 50
;------------------------------------------------------------------

;MODO FLY......Modelo del creador Bardock.

;Empezar a volar  
[Statedef 910] ;numero do state 
type = A
movetype = A
physics = A
velset = 0,-5.5 ; quanto ele sai do chao 
anim = 910 ; imagem no air dele indo pro alto
ctrl = 0

[State 730: humo izquierdo]
type = Explod
trigger1 = TIME  = 0
anim = 7020
id = 7020
pos = -30,10
postype = p1
facing = 1
bindtime = 1
removetime = -2
ontop = 1
shadow = 0,0,0
Scale = 0.5, 0.5

[State 730: humo derecho]
type = Explod
trigger1 = TIME = 0
anim = 7020
id = 7020
pos = 30,10
postype = p1
facing = -1
bindtime = 1
removetime = -2
ontop = 1
shadow = 0,0,0
Scale = 0.5, 0.5

[State 910, 3] ; vai pro state abaixo
type = changestate
trigger1 = animtime = 0
value = 900 ; state abaixo
ctrl = 1

;-----------
;Volando
[Statedef 900] ;numero do state 
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 900, VarSet]
type = VarSet
Trigger1 = Time = 0
var(3) = 1

[State 900, Block1]
type = ReversalDef
Trigger1 = command = "holdback"
reversal.attr = SCA, NA, SA, HA
pausetime = 0,15
hitsound = S20, 3
p1stateno = 150

[State 900, Stop1]
type = VelSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) = 0
Trigger2 = Pos Y < -405
x = 0
y = 0

[State 910, Stop2]
type = ChangeAnim
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = Anim != 900 ; imagem parada no ar
value = 900 ; imagem parada no ar

[State 900,fuwavar(1)]
type = VarSet
Trigger1 = command != "holdfwd"
Trigger1 = command != "holdback"
Trigger1 = command != "holdup"
Trigger1 = command != "holddown"
Trigger1 = var(2) != 2
Trigger2 = var(2) = 2
Trigger2 = Vel Y >= 1.3 ;2.4
v = 2
value = 1

[State 900,fuwavar(2)]
type = VarSet
Triggerall = var(2) = 1
Trigger1 = Vel Y <= -1.3 ; -2.4
Trigger2 = P2BodyDist Y > 250
Trigger2 = Vel Y < 0
v = 2
value = 2

[State 900,fuwaUp]
type = VelAdd
Trigger1 = var(2) = 1
y = -0.1  ;-0.3

[State 900,fuwaDown]
type = VelAdd
Trigger1 = var(2) = 2
y = 0.1  ;0.3

[State 900,fuwaEnd]
type = VelSet
Triggerall = var(2) != 0
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
y = 0

[State 900,fuwaEndVar]
type = VarSet
Trigger1 = command = "holdfwd"
Trigger2 = command = "holdback"
Trigger3 = command = "holdup"
Trigger4 = command = "holddown"
v = 2
value = 0

[State 900, UpBorder1]
type = PosSet
Trigger1 = Pos Y < -400
y = -400

[State 900, UpBorder2a]
type = PosAdd
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 1

[State 900, UpBorder2b]
type = VelSet
Trigger1 = P2BodyDist Y > 250
Trigger1 = Vel Y < 0
y = 0

[State 900, GoDown1]
type = VelAdd
Trigger1 = command = "holddown"
y = 0.4

[State 900,GoDown2]
type = VelSet
Trigger1 = command = "holddown"
Trigger1 = Vel Y < 0 
y = 0

[State 900, GoUp1]
type = VelAdd
Trigger1 = command = "holdup"
y = -0.3

[State 900,GoUp2]
type = VelSet
Trigger1 = command = "holdup"
Trigger1 = Vel Y > 0 
y = 0

[State 900, GoUpAnim]
type = ChangeAnim
Trigger1 = Anim != 904 ; imagem indo para cima 
Trigger1 = command = "holdup"
value = 904 ; imagem indo para cima 

[State 900, GoBack1]
type = VelAdd
Trigger1 = command = "holdback"
x = -0.3

[State 900,GoBack2]
type = VelSet
Trigger1 = command = "holdback"
Trigger1 = Vel X > 0 
x = 0

[State 900, GoBackAnim]
type = ChangeAnim
Triggerall = Anim != 902 ; imagem indo para traz
Trigger1 = command = "holdback"
Trigger2 = command = "holddown"
value = 902 ; imagem indo para traz

[State 900, GoFwd1]
type = VelAdd
Trigger1 = command = "holdfwd"
x = 0.4

[State 900,GoFwd2]
type = VelSet
Trigger1 = command = "holdfwd"
Trigger1 = Vel X < 0 
x = 0

[State 900, GoFwdAnim]
type = ChangeAnim
Trigger1 = Anim != 901 ; imagem indo para frente
Trigger1 = command = "holdfwd"
value = 901 ; imagem indo para frente

[State 900, GoDownAnim]
type = ChangeAnim
triggerall = Anim != 903 ; imagem indo para baixo
trigger1 = command = "holddown"
value = 903 ; imagem indo para baixo

[State 900, Turn]
type = Turn
Trigger1 = P2Dist X < 0

[State 900, Land1]
type = ChangeState
Trigger1 = Pos Y >= 0
value = 52
ctrl = 1

[State 900, Land2]
type = ChangeState
Trigger1 = command = "fly" ; nome do comando no CMD
Trigger1 = command = "holddown"
value = 50
ctrl = 1

[State 900,WinALose] ; quando ganhar vai pro state de baixo 
type = ChangeState
trigger1 = Win = 1
trigger2 = Lose = 1
value = 912 ;1202

;---------------------------------------------------------------------------

[Statedef 912]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 912 ; imagens dele decendo 

[State 912, 3]
type = VelAdd
trigger1 = AnimElem = 1
trigger1 = AnimElem <= 2
x = -0.3

[State 912, 3]
type = VelSet
trigger1 = AnimElem = 3
x = 0

[State 912, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900

[State 210, 3]
type = ChangeState
trigger1 = time = 60
value = 913 

;---------------------------------------------------------------------------
[Statedef 913]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 0

[State 1531, 5]
type = PlaySnd
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
persistent = 0
value = 21,4

[State 52, 3]
type = PosSet
trigger1 = Vel Y = 0
y = 0

[State 209, 1]
type = ChangeAnim
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 913

[State 209, 1]
type = Velset
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
y = 0

[State 3021, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Pos Y < 0
value = 900

[State 913, 3]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;===========================================================================
;ATAQUES ESPECIALES (special atacks)
;===========================================================================

;BOLA FUEGO PEQUEÑA (inicio)

[Statedef 1000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200                     
anim = 1000

   
[State 1000,0] ; cambio de estado ; fireball lanzar arriba
type=ChangeState
triggerall= p2bodydist Y < -40
triggerall= p2bodydist x < -10
trigger1 = time = 0
value=1021
ctrl=1

[State 1000,1] ; cambiar estado al 1001 ; fireball recta
type=ChangeState
trigger1= AnimTime = 0
value= 1001
ctrl=1

;----------------------------------------------------
; fireball recta
[Statedef 1001]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= 100                     
anim = 1001

[State 1001];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
 

    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball_recta"
id = 1002
pos = 13,-40
size.xscale = 0.6
size.yscale = 0.6
stateno = 1002
keyctrl = 1
ownpal = 1


[state 100:		changestate]
type			= changestate
trigger1 = command = "c"
trigger1  = Time > 9
value  = 1003
ctrl = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------
; sprites fireball recta
[Statedef 1002]
type 			= A
movetype		= A
physics		= N
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= IfElse(Random <= 499,-0.8,0.8)




[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 15,5
pausetime = 5,10
ground.type = high
ground.velocity = -2,0
air.velocity = -2,0
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0



[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1
;----------------------------------------------------------------------------
[Statedef 1003]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= 200                     
anim = 1003


[State 1003];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1003];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0

    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 1004
pos = 13,-40
size.xscale = 0.6
size.yscale = 0.6
stateno = 1004
keyctrl = 1
ownpal = 1

[state 100:		changestate]
type			= changestate
trigger1 = command = "c"
trigger1  = Time > 9
value  = 1000
ctrl = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------
[Statedef 1004]
type 			= A
movetype		= A
physics		= N
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= IfElse(Random <= 499,-0.8,0.8)




[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 15,5
pausetime = 5,10
ground.type = high
ground.velocity = -2,0
air.velocity = -2,0
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0


[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1


;-----------------------------------------------------------------------------

;BOLA FUEGO PEQUEÑA ( diagonal arriba)
;Fireball 
[Statedef 1005]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200                     
anim = 1002

[State 1003]
type = PlaySnd
trigger1 = AnimElem= 2
value =  3,0
          
[State 1003]
type = PlaySnd
trigger1 = AnimElem= 2
value =  1000,0

[State 1003]
type = Explod
trigger1 = animelem = 1
anim = 7140
ID = 7140
postype = p1
pos = 50,-70
sprpriority = 10
;removetime =20
bindtime = -1
ownpal = 1
ontop = 1
scale = 0.8,0.8
removeongethit = 1
    
[State 743]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 1006
pos = -2,-25
size.xscale = 0.6
size.yscale = 0.6
stateno = 1006
keyctrl = 1
ownpal = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
trigger1=AnimTime=0
value = 5300
ctrl = 0

[State 743]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;------------------------------------------------------
[Statedef 1006]
type 			= A
movetype		= A
physics		= N
anim			= 7030
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 0, 1]
type = Explod
trigger1 = time%5 = 0
anim = 9014
postype = p1
pos = -20,0
sprpriority = 3
supermove = 1
scale = 0.4,0.4
ownpal = 1
random = 0,20
vel = -.5,ifelse(random <500,.5,-.5)





[State 1003]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1003]
type			= VelSet
trigger1          = time = 0
x			= 10
y			= IfElse(Random <= 499, -10,-8)

[State 744:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 738]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 744, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 744:	HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1
guard.sparkno	= -1
sparkxy		= 0,0
hitsound		= S9000,0 
guardsound		= S9000,0 
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -8
guard.velocity	= -8
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0

[State 1001:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1

;------------------------------------------------------------------------------
;Fireball  Aire 
[Statedef 1010]
type = A
movetype = A
physics = A
ctrl = 0
velset = 0,0,-2
poweradd= -200                     
anim = 1010

[State 1010,0] ; cambio de estado ; fireball ABAJO
type= ChangeState
trigger1= p2bodydist Y < 60
value=1011
ctrl=1

[State 1010,1] ; cambiar estado al 1001 ; fireball recta
type=ChangeState
trigger1= AnimTime = 0
value= 1011
ctrl=1

;------------------------------------------------------
; fireball recta
[Statedef 1011]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,-2
poweradd= 200                     
anim = 1011

[State 1001];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
 


[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball_abajo"
id = 1011
pos = 5,0
size.xscale = 0.6
size.yscale = 0.6
stateno = 1012
keyctrl = 1
ownpal = 1


[state 100:		changestate]
type			= changestate
trigger1 = command = "c"
trigger1  = Time > 9
value  = 1013
ctrl = 1

[State 743]
type=ChangeState
trigger1=AnimTime=0
;trigger1=Pos Y < 0
value = 50
ctrl= 1
;------------------------------------------------------
; sprites fireball abajo
[Statedef 1012]
type 			= A
movetype		= A
physics		= N
anim			= 7031
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
x			= IfElse(Random <= 499,-0.4,0.4)
y			= 12



[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 0,-15
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1          = Pos Y >= 0
anim			= 7040
id			= 7040
pos			= 5,-5
;postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 15,5
pausetime = 5,10
ground.type = high
ground.velocity = -1,0
air.velocity = 0,20
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0



[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
trigger2          = Pos Y >= 0
ignorehitpause	= 1
;----------------------------------------------------------------------------
[Statedef 1013]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,-2
poweradd= 200                     
anim = 1012

[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1003];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1003];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0

    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 1013
pos = -5,0
size.xscale = 0.6
size.yscale = 0.6
stateno = 1014
keyctrl = 1
ownpal = 1

[state 100:		changestate]
type			= changestate
trigger1 = command = "c"
trigger1  = Time > 9
value  = 1011
ctrl = 1


[State 743]
type=ChangeState
trigger1=AnimTime=0
;trigger1=Pos Y < 0
value = 50
ctrl= 1
;------------------------------------------------------
[Statedef 1014]
type 			= A
movetype		= A
physics		= N
anim			= 7031
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
x			= IfElse(Random <= 499,-0.4,0.4)
y			= 12



[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 0,-15
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1          = Pos Y >= 0
anim			= 7040
id			= 7040
pos			= -5,-5
;postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 15,5
pausetime = 5,10
ground.type = high
ground.velocity = -1,0
air.velocity = 0,20
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0



[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
trigger2          = Pos Y >= 0
ignorehitpause	= 1
;---------------------------------------------------------------------------

;fireball arriba
[Statedef 1020]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= 0                     
anim = 1020

   
;State 1000,0] ; cambio de estado ; fireball arriba
;ype= ChangeState
;rigger1= p2bodydist Y < -20
;alue=1021
;trl=1

[State 1000,1] ; cambiar estado al 1001 ; fireball recta
type=ChangeState
trigger1= AnimTime = 0
value= 1021
ctrl=1

;----------------------------------------------------
; fireball recta
[Statedef 1021]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= 200                     
anim = 1021

[State 1001];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
 

    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball_arriba"
id = 1021
pos = -5,-60
size.xscale = 0.6
size.yscale = 0.6
stateno = 1022
keyctrl = 1
ownpal = 1


[state 100:		changestate]
type			= changestate
trigger1 = command = "c"
trigger1  = Time > 9
value  = 1023
ctrl = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------
; sprites fireball recta
[Statedef 1022]
type 			= A
movetype		= A
physics		= N
anim			= 7031
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
y			= -12
x			= IfElse(Random <= 499,-0.8,0.8)



[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 15,5
pausetime = 5,10
ground.type = high
ground.velocity = 0,-2
air.velocity = 0,-2
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0


[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1
;----------------------------------------------------------------------------
[Statedef 1023]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= 200                     
anim = 1022


[State 1003];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1003];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0

    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
id = 102
pos = 5,-60
size.xscale = 0.6
size.yscale = 0.6
stateno = 1024
keyctrl = 1
ownpal = 1

[state 100:		changestate]
type			= changestate
trigger1 = command = "c"
trigger1  = Time > 9
value  = 1021
ctrl = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------
[Statedef 1024]
type 			= A
movetype		= A
physics		= N
anim			= 7031
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1002]
type			= VelSet
trigger1		= (!Time)
y			= -12
x			= IfElse(Random <= 499,-0.8,0.8)

[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1


[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 15,5
pausetime = 5,10
ground.type = high
ground.velocity = 0,-2
air.velocity = 0,-2
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0


[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1

;------------------------------------------------------
;patada sube...
[Statedef 1100]
type 			= A
movetype		= A
physics		= N
anim			= 1100
;velset		= 0,0
ctrl			= 0
poweradd		= 200
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[state 1100,0]
type=Velset
trigger1=time >= 0
trigger1=time <= 10
x=10
y=-5 

[State 1100,1]
type=PlaySnd
trigger1=animelem=1
value=1, 2

[State 250, 4];sonido codazo
type = PlaySnd
trigger1 = animelem = 2
value = 3, 7

[State 250, 4];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 200, 1
volume = 200

[State 1100, 2]
type=HitDef
trigger1=AnimElem=1
attr=S, NA
animtype =Medium
damage=20,10
guardflag=MA
pausetime=5,15
sparkxy=0,-60
sparkno = s7010
guard.sparkno = s7001
hitsound   = S270,0
guardsound = S270,0
ground.type=low
ground.slidetime=60
ground.hittime =30
ground.velocity=5
air.velocity=5

[State 1100, 3]
type=ChangeState
trigger1=AnimTime=0
value=1101
ctrl=1
;------------------------------------------------
;patada neutro
[Statedef 1101]
type=S
movetype=A
physics=S
anim=1101
velset=0,0
ctrl=0

[state 1101,1]
type=turn
trigger1=animelem=1
value=1

[state 1101,2]
type=veladd
trigger1=animelem=1
x=0
y=0

[State 1101, 3]
type=ChangeState
trigger1=AnimTime=0
value=1102
ctrl=1
;----------------------------
;patada bajando
[Statedef 1102]
type   =S
movetype= A
physics=S
juggle =4
poweradd= 80
ctrl=0
velset=1,0,0
anim=1102

[State 250, 4];sonido codazo
type = PlaySnd
trigger1 = animelem = 1
value = 3, 7

[State 250, 4];grito dabura
type = PlaySnd
trigger1 = animelem = 1
value = 200, 1
volume = 200

[State 260,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[state 1102, 2]
type=Velset
trigger1=time >= 0
trigger1=time <= 10
x=10
y=5


[State 1102, 3]
type=HitDef
trigger1=AnimElem=1
attr=S, NA
animtype =Medium
damage=20,10
guardflag=MA
pausetime=11,11
sparkxy=0,-10
sparkno = s7010
guard.sparkno = s7001
hitsound   = S270,0
guardsound = S270,0
ground.type=low
ground.slidetime=15
ground.hittime =15
ground.velocity=-8,-3
air.velocity=-8,-3
fall=1

[State 1102,0]
type=ChangeState
trigger1= Pos Y >= 0
value = 50
ctrl=1
;-----------------------------
[Statedef 1200]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200                     
anim = 1200

[State 1200];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1200];disco
type = PlaySnd
trigger1 = animelem = 1
value = 1200,0
 
    
[State 1200]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "KIENSAN"
id = 1200
pos = 35,-45
size.xscale = 0.7
size.yscale = 0.6
stateno = 1201
keyctrl = 1
ownpal = 1

[State 1200, disco]
type			= Explod
trigger1		= animelem = 1
anim			= 7190
id			= 7190
pos			= -5,-80
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 30
supermove		= 999
supermovetime	= 999
pausemovetime	= 999
scale			= 0.7,0.6
sprpriority		= 20
ontop			= 1
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 1
persistent		= 0
ignorehitpause	= 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;--------------------------------------------------

; sprites kiensan
[Statedef 1201]
type 			= A
movetype		= A
physics		= N
anim			= 7190 ;animacion disco
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 1201,0];sonido disco al arrojarlo
type = PlaySnd
trigger1 = animelem = 1
value = 1200,1

[State 1201,1]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 1201,2]
type			= VelSet
trigger1		= (!Time)
x			= 14
y			= IfElse(Random <= 499,-0.8,-0.4)


[State 1201,BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit); activarse al ocurrir el hit
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1201,3];assertSpecial
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow ;sin sombra
flag2 = timerfreeze
ignorehitpause = 1


[State 1201,sprites explosion]
type			= Explod
trigger1		= MoveContact ;activarse al contacto
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 1201,HitDef]
type = HitDef
trigger1 = time = 0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 20,10
pausetime = 5,10
ground.type = high
ground.velocity = -2,0
air.velocity = -2,0
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0

[State 1201,Autodestruccion]
type			= DestroySelf 
trigger1		= time = 120 ; destruirse al pasar 120 tics.
ignorehitpause	= 1
;----------------------------------------------------------------------
;Elbow Smash ;codazo
[Statedef 1300]
type=S
movetype=A
physics=S
anim=1300 
poweradd= 100
velset=0,0
ctrl=0

[state 1300,0] ;veladd
type=veladd
trigger1=animelem=2
x=30

[State 1300,1];sonido correr
type=PlaySnd
trigger1=animelem= 2
value= 100,0


[State 1300,2];afterimages..
type = AfterImage
trigger1 = Time = 0
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1300,humo];humo al correr....
type = Explod
trigger1 = animelem = 2
Anim = 7020
pos = -5,0
Id = 7020
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 1.0,1.0
Postype = p1

[State 1300,humo sigue]
type = Explod
trigger1 = Time > 1 ;aparece en menos  1 tic
trigger1 = ((GameTime%2) = 0) ;se repite cada dos tics...
anim = 7090
ID = 7090
pos = -5,3
scale = 1,1
postype = p1 
sprpriority = 11 ;prioridad
ownpal = 1
ignorehitpause = 1
spacing 		= 2

[State 1300,4];cambio estado
type=ChangeState
trigger1= p2bodydist X <= -40; cuando la distancia con p2 es de menos o igual a 40x 
trigger2= AnimTime=0 ; cuando termina el tiempo de la animacion
value=1301 ;pasar a 1301 (girar codazo)
ctrl=1

;-----------------------------------
;girar codazo
[Statedef 1301]
type=S
movetype=A
physics=S
anim= 1301
velset=0,0
ctrl=0

[state 1300,0] ;girar
type=turn
trigger1=animelem=1
value=1

[state 1300,1];veladd
type=veladd
trigger1=animelem=1
x=0
y=0

[State 1300, 2]; cambio estado
type=ChangeState
trigger1=AnimTime=0
value= 1302
ctrl=1
;------------------------------
[Statedef 1302]
type   =S
movetype= A
physics=S
juggle =4
poweradd= 0
ctrl=0
velset=1,0,0
anim= 1302

[State 1300, 0];sonido grito
type=PlaySnd
trigger1=animelem = 1
value= 270,1 
volume= 200 ;volumen 


[State 1300,1]; afterimage
type = AfterImage
trigger1 = Time = 0
time = 15
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 1300, 2];velset
type=velset
trigger1=AnimElem=1
x=30

[State 1300,HitDef] 
type=HitDef
trigger1=AnimElem=1
attr=S, NA
animtype =Medium
damage=20,10
guardflag=MA
pausetime=11,11
sparkxy= -5,-50
sparkno = s7010 ;spark hit
guard.sparkno = s7001 ;spark bloqueo
hitsound  =S270,0 ;sonido codazo al impactar
guardsound=S6,0 ;sonido codazo bloqueado
ground.type=low
ground.slidetime=15
ground.hittime =15
ground.velocity=-5,-8
air.velocity=-5,-8
fall=1 ; caer p2, 0 = no, 1 = si

[State 1300, 3] ;cambio de estado
type=ChangeState
trigger1= Animtime = 0 ;al termino del tiempo de animacion
value=0 ; state 0,Stand
ctrl=1 
;-----------------------------------------------------------------------
;pisoton...
[Statedef 1400]
type 			= A
movetype		= A
physics		= N
anim			= 650
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 1400,0]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[state 1400,0]
type=Velset
trigger1= animelem = 2
x = 0
y = 15

[State 1100,1]
type=PlaySnd
trigger1=animelem=1
value=1, 2

[State 250, 4];sonido codazo
type = PlaySnd
trigger1 = animelem = 2
value = 3, 7

[State 250, 4];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 200, 1
volume = 200

[State 1100, 2]
type=HitDef
trigger1=AnimElem=2
attr=S, NA
animtype =Medium
damage=20,10
guardflag=MA
pausetime=5,15
sparkxy=0,0
sparkno = s7010
guard.sparkno = s7001
hitsound   = S270,0
guardsound = S270,0
ground.type=low
ground.slidetime=60
ground.hittime =30
ground.velocity=1,1
air.velocity=1,1
fall = 1

[State 1100, 3]
type=ChangeState
trigger1= Pos Y >= 0
value=50
ctrl=1
;-------------------------------------------------------------------------
; Blast!
[Statedef 1500]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -200                     
anim = 1600

[State 1001];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
 
    
[State 1001]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal
name = "Fireball_recta"
id = 1500
pos = 35,-45
size.xscale = 1
size.yscale = 1
stateno = 1501
keyctrl = 1
ownpal = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------
; sprites fireball recta
[Statedef 1501]
type 			= A
movetype		= A
physics		= N
anim			= 7200
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA



[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 30,4
pausetime = 5,10
ground.type = high
ground.velocity = -2,0
air.velocity = -2,0
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =0

[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= animtime = 0
ignorehitpause	= 1
;------------------------------------------------------------------------
; TOWER ki
[Statedef 1600]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= 200                     
anim = 1500

[State 1001];sonido grito 
type = PlaySnd
trigger1 = animelem = 2
value = 3,0

[State 1001];sonido fireball
type = PlaySnd
trigger1 = animelem = 2
value = 1000,0
 
    
[State 1001]
type = Helper
trigger1 = AnimElem = 2
trigger1 = Pos Y >= 0
helpertype = normal
name = "Fireball_recta"
id = 1600
postype = p2
pos =0,(0-floor(pos y))
size.xscale = 1
size.yscale = 1
stateno = 1601
keyctrl = 1
ownpal = 1

[State 1000]
type = ChangeState
trigger1 = power = 0
value = 5300
ctrl = 0

[State 1001]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------

;ESPECIAL BY YUGI-X  [[MUGENMUNDOTEAM]]

[StateDef 6555]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 11050
poweradd = -2000

[State 6555, 1]
type = Projectile
trigger1 = AnimElem = 10
projanim = 12500
projhitanim = 999999
projpriority = 1
projremovetime = 150
projhits = 24
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
offset = 42,-30
attr = S, SP
damage   = 20
animtype = heavy
guardflag = MA
hitflag = MAFDP
pausetime = 10,10
hitsound   = 5,2
sparkxy = 500,500
guardsound = S6,0
ground.type = Low
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -6
air.animtype = Back
air.velocity = -14,-16
air.juggle = 5
air.fall = 1
down.velocity = -14,-16
down.hittime = 30
down.bounce = 0
fall =1
EnvShake.time = 50
EnvShake.freq = 65
EnvShake.ampl = -2
EnvShake.phase = 65
PalFX.time = 50
PalFX.add = 40,-70,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 40,30,0,10


[State 6555, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------
; sprites fireball recta
[Statedef 1601]
type 			= A
movetype		= A
physics		= N
anim			= 7210
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3



[State 1002]
type			= NotHitBy
trigger1		= 1
value			= SCA



[State 1002:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 1002]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1



[State 1002, EXPLOSION SPRITES]
type			= Explod
trigger1		= MoveContact
anim			= 7040
id			= 7040
pos			= 10,-40
postype		= p2
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= -2
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 0.4,0.4
sprpriority		= 20
ontop			= 0
shadow		= 0,0,0
ownpal		= 1
removeongethit	= 0
persistent		= 0
ignorehitpause	= 1

[State 408, Hit Definition ]
type = HitDef
trigger1 = time=0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 30,10
pausetime = 5,10
ground.type = high
ground.velocity = -2,-5
air.velocity = -2,-5
ground.slidetime =10
ground.hittime = 12
hitsound		= S9000,0 
guardsound		= S9000,0
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =1

[State 1002:	DestroySelf]
type			= DestroySelf
trigger1		= animtime = 0
ignorehitpause	= 1
;-----------------------------------------------------------------------
; rodillazo_X... 
[Statedef 1700]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 232
sprpriority = 3

[State 1700,sound];grito dabura
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1
volume = 200

[State 1700,VelSet]
type=VelSet
trigger1=animelem=2
x=15
y=-7

[State 1700,AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 1700,Explod];Polvo
type = Explod
trigger1 = time = 1
Anim = 7520
pos = -5,0
Id = 1700
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 1,1
Postype = p1

[State 1700,hitdef]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-45
hitsound   = S260,0
guardsound = S260,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3, -9
air.velocity = -3, -9
fall = 1
envshake.time=20
envshake.freq= 50
envshake.ampl= -4

[State 1700,ChangeState]; cambio de estado
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;----------------------------------------------------------------------
; rodillazo_Y ... 
[Statedef 1750]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 231
sprpriority = 3

[State 1750,sound];grito
type = PlaySnd
trigger1 = animelem = 2
value = 240, 1
volume = 200

[State 1750,AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 30
trans = add1
TimeGap  = 2
FrameGap = 2
length = 6
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 1750,VelSet]
type=VelSet
trigger1=animelem=2
x=15
y=-7

[State 1750,Explod] 
type = Explod
trigger1 = time = 1
Anim = 7520
pos = -5,0
Id = 1700
velocity = 0,0
sprpriority = 8
removeongethit = 0
scale = 1,1
Postype = p1

[State 1750,hitdef]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,11
sparkno = s7010
guard.sparkno = s7001
sparkxy = -10,-45
hitsound   = S260,0
guardsound = S260,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3, -9
air.velocity = -3, -9
fall = 1
envshake.time=20
envshake.freq= 50
envshake.ampl= -4

[State 1750,ChangeState];cambio de estado
type = ChangeState
trigger1=(!animtime)
trigger2=(time>20)&&((screenpos x<=30)||(screenpos x>=290))
value = 50
ctrl = 1
;-------------------------------------------
; BIg Bang_Air
[Statedef 2000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -1000                     
anim = 2000

[State 2000,AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag  		= NoMusic ;sin musica
flag2 		= NoBarDisplay; quitar barras de snergia

[State 2000,0]; tiempo para cargar 
type = Superpause
trigger1 = time = 0; tiempo en q se activa
time = 20 ;tiempo q dura
darken = 0 ; oscurecer 
movetime = 20 ; tiempo en q se mueve p1
anim = -1

[State 2000,0]; sonido carga
type = PlaySnd
trigger1 = ANIMELEM = 8
value = 3000,2
volume=250
         
[State 2000,1]; BIG BANG ATACK!!
type = PlaySnd
trigger1 = ANIMELEM = 2
value = 3000,4
volume=250    

[State 2000, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 350
color = 0
  
[State 2000,3]
type = Helper
trigger1 = ANIMELEM = 3
helpertype = normal
name = "bola_fuego"
id = 2000
pos = 20,-53
size.xscale = 0.5
size.yscale = 0.5
stateno = 2001
keyctrl = 1
ownpal = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 3000,3]
type = Helper
trigger1 = ANIMELEM = 2
helpertype = normal
name = "CARGA"
id = 3000
pos = 25,-39
size.xscale = 0.5
size.yscale = 0.5
stateno = 3002
keyctrl = 1
ownpal = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999



[State 2000,]
type =null; Explod
trigger1 = ANIMELEM = 1
anim = 7660
id = 7660
pos = 0,-30
postype = p1
facing = 1
bindtime = 1
removetime = 180
ontop = 1
shadow = 0,0,0
Scale = 1.0, 1.0
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 2000,aureola]
type = Explod
trigger1 = ANIMELEM = 3
anim = 7670
id = 7670
pos = 20,-40
postype = p1
facing = 1
bindtime = 1
ontop = 0
shadow = 0,0,0
Scale = 1.0, 1.0
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 2000,NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 2000,changestate]
type = changestate
trigger1  = (!AnimTime)
value = 900
ctrl = 1

;------------------------------------------------------
;sprites fireball
[Statedef 2001]
type 			= A
movetype		= A
physics		= N
anim			= 7680
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 2001,HitOverride]
type = HitOverride
trigger1 =(Time>=0)
stateno = 9999
attr = SCA,NP,SP,HP
slot = 1
ignorehitpause=1

[State 2001,HitBy]
type=HitBy
trigger1=(Time>=0)
value=SCA,NP,SP,HP
time=1
ignorehitpause=1

[State 2001,NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 3001,VelSet]
type			= VelSet
trigger1		= (!Time)
y			= 12
x			= 12



[State 2001,EXPLOSION]
type			= Explod
trigger1		= Pos Y >= 0
anim			= 7100
id			= 7100
pos			= 0,-20
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0 
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 0



[State 3001,BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 3001,AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 3001,HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= s7100
guard.sparkno	= s7100
sparkxy		= 0,0
hitsound		= s4500,4
guardsound		= s4500,4
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0


[State 2001,DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
trigger2 = Pos Y >= 0
ignorehitpause	= 1
;-----------------------------------
;Empezar a volar Garlic 
[Statedef 2500]
type = S
MoveType =A
physics = S
sprpriority = 1
ctrl=0
anim = 2500; ANIMACION LEVANTADO VUELO 
VelSet = 0,0
poweradd = -3000

[State 2500,0]; tiempo para cargar 
type = Superpause
trigger1 = time = 0; tiempo en q se activa
time = 230 ;tiempo q dura
darken = 0 ; oscurecer 
movetime = 230 ; tiempo en q se mueve p1
anim = -1


[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 300
add = 0,0,0
mul = 233,146,234
color = 0


[State 2500, AUREOLA ]
type = Explod
trigger1 = animelem = 1
anim = 7700
id = 7700
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = 85
ontop = 0
shadow = 0,0,0
Scale = 1,1
supermove	= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 2500, AURA]
type = Explod
trigger1 = animelem = 1
anim = 7690
id = 7690
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = 85
ontop = 0
shadow = 0,0,0
Scale = 0.8,0.9
supermove	= 9999
supermovetime	= 9999
pausemovetime	= 9999



[State 2500, AURA VOLANDO]
type = Explod
trigger1 = animelem = 3
anim = 7710
id = 7690
pos = 0,-20
postype = p1
facing = 1
bindtime = -1
removetime = 12
ontop = 0
shadow = 0,0,0
Scale = 0.6,0.7
supermove	= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 830,ESFERA DE AIRE]
type			= Explod
trigger1		= ANIMELEM = 1
anim			= 7530
id			= 7530
pos			= 0,-40
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermove		= 9999
removetime		= 32
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 830, humo izquierdo]
type = Explod
trigger1 = animelem = 2
anim = 7500;7260
id = 7250
pos = 15,0;-15,0
postype = p1
facing = 1
bindtime = 1
ontop = 1
shadow = 0,0,0
Scale = 1,1;0.5, 0.5
supermove	= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 830, humo derecho]
type = Explod
trigger1 = animelem = 2
anim = 7500;7260
id = 7250
pos = -15,0;15,0
postype = p1
facing = -1
bindtime = 1
ontop = 1
shadow = 0,0,0
Scale = 1,1;0.5, 0.5
supermove	= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 830,POLVO QUE SE REPITE DERECHA]
type			= Explod
trigger1		= TIME = 30
anim			= 7520
id			= 7520
pos			= 30,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1



[State 830,POLVO QUE SE REPITE IZQUIERDA]
type			= Explod
trigger1		= TIME = 30
anim			= 7520
id			= 7520
pos			= -30,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 50
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 830, ELECTRICIDAD]
type			= Explod
trigger1		= time = 0
anim			= 7760
id			= 7760
pos			= 10,30
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 100
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 12
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1



[State 450]
type = SuperPause
trigger1 = AnimElem = 1
time = 20
movetime = 20
darken = 0
pos = -5, -45
anim = S9999

[State 1000]
type = PlaySnd
trigger1 = AnimElem= 1
value =5040,0
volume = 100

[State 1000]
type = PlaySnd
trigger1 = AnimElem= 3
value =830,2
volume = 100


[State 1000]
type = VelSet
trigger1 = animelem = 3 
y =  -7


[State 4001, ScreenBound]
type = ScreenBound
trigger1 = time = 0
movecamera = 0,-10
value	= 0

[State 2000]
type = ChangeState
trigger1 = AnimTime = 0
ctrl= 1
value = 2501
;--------------------------------------------------------

;Cargar garlic Ho 
[Statedef 2501] ;numero do state 
type = S
movetype = A
physics = S
velset = 0,0; quanto ele sai do chao 
anim =  2501; imagem no air dele indo pro alto
ctrl = 0
sprpriority = 3


[State 830, ELECTRICIDAD]
type			= Explod
trigger1		= animelem = 1
anim			= 7760
id			= 7760
pos			= 10,30
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 12
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 4001,1]; cargar
type = PlaySnd
trigger1 = time = 0 
value = 2500,0
volume=250    

[State 4001,2];grito
type = PlaySnd
trigger1 = animelem = 3
value = 2500,1
volume=250 

[State 830];electricidad!!
type = PlaySnd
trigger1 = (Time > 2) && ((GameTime%80) = 0) 
value = 4500,3
volume = 250


[State 2500: carga]
type = Explod
trigger1 = animelem = 1
anim = 7620
id = 7620
pos = 0,-30
postype = p1
facing = 1
bindtime = 1
removetime = 200
ontop = 0
shadow = 0,0,0
Scale = 1,1

[State 2500: electric]
type = Explod
trigger1 = animelem = 1
anim = 7630
id = 7630
pos = 0,-30
postype = p1
facing = 1
bindtime = 1
removetime = 200
ontop = 0
shadow = 0,0,0
Scale = 1,1

[State 2500: explulsar]
type = Explod
trigger1 = animelem = 2
anim = 7640
id = 7640
pos = 0,-30
postype = p1
facing = 1
bindtime = 1
removetime = 100
ontop = 0
shadow = 0,0,0
Scale = 1,1

[State 2500,3];helper Garlic Ho Beam!
type = Helper
trigger1 =  time = 80
helpertype = normal
name = "Garlic"
id = 2502
pos = 5,-34;25,-44
size.xscale = 1
size.yscale = 1
stateno = 2502
keyctrl = 1
ontop= 1
ownpal = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[state 2500,allpalfx]
type =null; allpalfx
trigger1 =  time = 170;250
time = 80
add = 0,0,0
sinadd = 255,255,255,90;60
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 2500, 3] ; vai pro state abaixo
type = changestate
trigger1 = animtime = 0
value = 0 ; state abaixo
ctrl = 1

;-------------------------------
[Statedef 2502]
type 			= A
movetype		= A
physics		= N
anim			= 7550
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

removeongethit	= 0



[State 4001, HitOverride]
type = HitOverride
trigger1 =(Time>=0)
stateno = 9999
attr = SCA,NP,SP,HP
slot = 1
ignorehitpause=1



[State 4001,HitBy]
type=HitBy
trigger1=(Time>=0)
value=SCA,NP,SP,HP
time=1
ignorehitpause=1

[State 4001,NothitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 4001:	BGPalFX]
type			=null; BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 4001,AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow; sin sombra
flag2 = timerfreeze
ignorehitpause = 1

[State 4001,HitDef]
type			= HitDef
trigger1		= time = 0
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 12, Hit
damage		= 50
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= s7100
guard.sparkno	= s7100
sparkxy		= 0,20
hitsound		= S9000 
guardsound		= S9000
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
yaccel		= 0.35
ground.velocity	= 0,0
guard.velocity	= 0
air.velocity	= 0,0
airguard.velocity	= 0,0
ground.cornerpush.veloff = 0
fall			= 0
fall.recover	= 0
id			= 738
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40


[State 4001:	DestroySelf]
type			= DestroySelf
trigger1		= (animtime= 0) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1

;------------------------------------------------------------------------
; BIg Bang
[Statedef 3000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -1000                     
anim = 3000

[State 3000,AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag  		= NoMusic ;sin musica
flag2 		= NoBarDisplay; quitar barras de snergia

[State 4000,0]; tiempo para cargar 
type = Superpause
trigger1 = time = 0; tiempo en q se activa
time = 230 ;tiempo q dura
darken = 0 ; oscurecer 
movetime = 230 ; tiempo en q se mueve p1
anim = -1

[State 3000,0]; sonido carga
type = PlaySnd
trigger1 = ANIMELEM = 8
value = 3000,2
volume=250
         
[State 3000,1]; BIG BANG ATACK!!
type = PlaySnd
trigger1 = ANIMELEM = 7
value = 3000,4
volume=250    

[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 350
color = 0
  
[State 7030:	BGPalFX]
type			=null; BGPalFX
trigger1		= ((Time > 10) && ((GameTime%30) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 7030:	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 10) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999



  
[State 3000,3]
type = Helper
trigger1 = ANIMELEM = 10
helpertype = normal
name = "bola_fuego"
id = 3000
pos = 20,-48
size.xscale = 0.5
size.yscale = 0.5
stateno = 3001
keyctrl = 1
ownpal = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

  
[State 3000,3]
type = Helper
trigger1 = ANIMELEM = 8
helpertype = normal
name = "CARGA"
id = 3000
pos = 35,-50
size.xscale = 0.5
size.yscale = 0.5
stateno = 3002
keyctrl = 1
ownpal = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 730: humo ]
type = Explod
trigger1 = ANIMELEM = 10
anim = 7020
id = 7020
pos = -20,0
postype = p1
facing = 1
bindtime = 1
ontop = 1
shadow = 0,0,0
Scale = 1.0, 1.0
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 730,AUREOLA]
type = Explod
trigger1 = ANIMELEM = 9
anim = 7570
id = 7570
pos = 30,-53
postype = p1
facing = 1
bindtime = 1
ontop = 0
shadow = 0,0,0
Scale = 1.0, 1.0
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999


[State 3000,NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 3000,efecto suelo]
type			= Explod
trigger1		= animelem = 3
anim			= 7610
id			= 7610
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
scale			= 0.8,0.8
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999



[State 3000,ScreenBound]; movimiento de camara al impactar a P2
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodyDist < -1)
movecamera = 0,0
value	= 0

[State 3000,changestate]
type = changestate
trigger1  = (!AnimTime)
value = IfElse(BackEdgeBodydist >= -5,0,100)
ctrl = 1

;------------------------------------------------------
;sprites fireball
[Statedef 3001]
type 			= A
movetype		= A
physics		= N
anim			= 3001
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 3001,HitOverride]
type = HitOverride
trigger1 =(Time>=0)
stateno = 9999
attr = SCA,NP,SP,HP
slot = 1
ignorehitpause=1

[State 3001,HitBy]
type=HitBy
trigger1=(Time>=0)
value=SCA,NP,SP,HP
time=1
ignorehitpause=1

[State 3001,NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 3001,VelSet]
type			= VelSet
trigger1		= (!Time)
x			= 12


[State 3001,2 ];polvo que sigue
type = Explod
trigger1		= Time > 1
trigger1          = ((GameTime%2) = 0) 
anim = 7520
ID = 7520
pos = 20,60
scale = 1,1
;postype = p1
sprpriority = 5
;ownpal = 1
ignorehitpause = 1
removeongethit = 1
spacing 		= 2

[State 3001,3 ];ELECTRICIDAD
type =null; Explod
trigger1		= Time > 1
trigger1          = ((GameTime%5) = 0)
anim = 7781
ID = 7781
pos = -20,0
bindtime = -1
scale = 1,1
ontop = 0
sprpriority = 5
;ownpal = 1
ignorehitpause = 1
removeongethit = 1
spacing 		= 2




[State 3001,BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 3001,AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 3001,HitDef]
type			= HitDef
trigger1		= !MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 20
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= s7100
guard.sparkno	= s7100
sparkxy		= 0,0
hitsound		= s4500,4
guardsound		= s4500,4
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall		= 1
down.velocity	= -1,-2
down.bounce		= 1
id			= 744
getpower		= 0
givepower		= 25
palfx.time		= 12
palfx.mul		= 256,256,256
palfx.add		= 200,50,10
palfx.sinadd	= 175,25,5,4
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent		= 0


[State 3001,ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodyDist < -1)
movecamera = 0,0
value	= 0

[State 3001,DestroySelf]
type			= DestroySelf
trigger1		= (MoveContact) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1
;------------------------------------------------------------------
;esfera de carga
[Statedef 3002]
type 			= A
movetype		= A
physics		= N
anim			= 7270
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 99


[State 3002,AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 200
trans = add
TimeGap  = 2
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1

[State 3002,AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 3002,DestroySelf]
type			= DestroySelf
trigger1		= time = 180
ignorehitpause	= 1
;-----------------------------------------------------------------------
; Final_Flash
[Statedef 4000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -2000                     
anim = 4000

[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 300
add = 0,0,0
mul = 115,176,219;136,197,244
color = 0

[State 4000,AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag  		= NoMusic ;sin musica
flag2 		= NoBarDisplay; quitar barras de snergia

[State 4000,0]; tiempo para cargar el kame
type = Superpause
trigger1 = time = 0; tiempo en q se activa
time = 220 ;tiempo q dura
darken = 0 ; oscurecer 
movetime = 220 ; tiempo en q se mueve p1
anim = -1


[State 4000,1]; sonido carga
type = PlaySnd
trigger1 = ANIMELEM = 2
value = 3000,2
volume=250
         
[State 4000,2]; Final Flash ATACK!!
type = PlaySnd
trigger1 = ANIMELEM = 3
value = 4000,1
volume=250    

[State 3000,0]
type			= NotHitBy
trigger1		= 1
value			= SCA




[State 4000:	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 10) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999



  
[State 4000,3];helper Final Flash Beam!
type = Helper
trigger1 = ANIMELEM = 4
helpertype = normal
name = "Final_Flash"
id = 4000
pos = 20,-44;25,-44
size.xscale = 1
size.yscale = 1
stateno = 4001
keyctrl = 1
ontop= 1
ownpal = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
  
[State 4000,4];helper esfera de carga
type = Helper
trigger1 = ANIMELEM = 2
helpertype = normal
name = "CARGA"
id = 4000
pos = 27,-50
size.xscale = 0.4
size.yscale = 0.4
stateno = 4002
keyctrl = 1
ownpal = 1
ontop= 1
removeongethit	= 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 4000,5];Helper esfera de carga 2
type = Helper
trigger1 = ANIMELEM = 2
helpertype = normal
name = "CARGA"
id = 4000
pos = -30,-50
size.xscale = 0.5
size.yscale = 0.5
stateno = 4002
keyctrl = 1
ownpal = 1
ontop= 1
removeongethit	= 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 4000,6];Helper esfera de carga 3 ( antes de lanzar final flash)
type = Helper
trigger1 = ANIMELEM = 3
helpertype = normal
name = "CARGA"
id = 4000
pos = 30,-45
size.xscale = 0.8
size.yscale = 0.8
stateno = 4003
keyctrl = 1
ontop= 1
ownpal = 1
removeongethit	= 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 4000,Aura Vegeta ]
type			= Explod
trigger1		= time = 11 ;animelem = 2
anim			= 7783
id			= 7783
pos			= -4,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1.0,0.9
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 4000,Aura Vegeta2]
type			= Explod
trigger1		= animelem = 3
anim			= 7784
id			= 7784
pos			= -4,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 10
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1.0,0.9
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 4000,Aura Vegeta3]
type			= Explod
trigger1		= animelem = 4
anim			= 7785
id			= 7785
pos			= -1,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 110
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 0.9,.9
sprpriority		= 0
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 4000, efecto suelo ]
type			= Explod
trigger1		= animelem = 2
anim			= 7110
id			= 7110
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 330
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 0
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 4000, humo izquierdo]
type = Explod
trigger1 = animelem = 2
anim = 7500;7260
id = 7250
pos = 15,0;-15,0
postype = p1
facing = 1
bindtime = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
ontop = 1
shadow = 0,0,0
Scale = 1,1;0.5, 0.5

[State 4000, humo derecho]
type = Explod
trigger1 = animelem = 2
anim = 7500;7260
id = 7250
pos = -15,0;15,0
postype = p1
facing = -1
bindtime = 1
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
ontop = 1
shadow = 0,0,0
Scale = 1,1;0.5, 0.5

[State 4000,POLVO QUE SE REPITE DERECHA]
type			= Explod
trigger1		= TIME = 30
anim			= 7520
id			= 7520
pos			= 30,0
postype		= p1
facing		= -1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 300
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 4000,POLVO QUE SE REPITE IZQUIERDA]
type			= Explod
trigger1		= TIME = 30
anim			= 7520
id			= 7520
pos			= -30,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 300
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 7
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1





[state 4000,allpalfx]
type = allpalfx
trigger1 =  time = 290;250
time = 50
add = 0,0,0
sinadd = 255,255,255,90;60
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999

[State 4000, ScreenBound]; movimiento de camara al impactar a P2
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodyDist < -1)
movecamera = 0,0
value	= 0

[State 4000,changestate]
type = changestate
trigger1  = (!AnimTime)
value = IfElse(BackEdgeBodydist >= -5,0,100)
ctrl = 1

;------------------------------------------------------
;Helper Final flash beam
[Statedef 4001]
type 			= A
movetype		= A
physics		= N
anim			= 7400
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 4000,humo tornado]
type			= Explod
trigger1		= time = 0
anim			= 7300
id			= 4001
pos			= 90,60
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= 1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 105
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 19
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 0




[State 4001, HitOverride]
type = HitOverride
trigger1 =(Time>=0)
stateno = 9999
attr = SCA,NP,SP,HP
slot = 1
ignorehitpause=1

[State 4001,1]; Final Flash sonido
type = PlaySnd
trigger1 = time = 0 
value = 4000,0
volume=250    

[State 4001,2]; Final Flash sonido
type = PlaySnd
trigger1 = animelem = 11 
value = 4500,0
volume=250 

[State 4001,HitBy]
type=HitBy
trigger1=(Time>=0)
value=SCA,NP,SP,HP
time=1
ignorehitpause=1

[State 4001,NothitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA

[State 4001:	BGPalFX]
type			=null; BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1

[State 4001,AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow; sin sombra
flag2 = timerfreeze
ignorehitpause = 1

[State 4001,Hitdef 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 30
guardflag = MA
pausetime = 11,60
sparkno = -1;s7040
guard.sparkno = -1;s7040
sparkxy = 0,0
hitsound   = S4500,0
guardsound = S4500,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
fall = 0



[State 4001,HitDef 2]
type			= HitDef
trigger1		= animelem = 21;16 ;!MoveContact
attr			= S, HP
hitflag		= MAFDP
guardflag		= M
animtype		= Hard
priority		= 7, Hit
damage		= 200
pausetime		= 0,12
guard.pausetime	= 0,20
sparkno		= -1;s7040
guard.sparkno	= -1;s7040
sparkxy		= 0,0
hitsound		= S4500,0
guardsound		= S4500,0 
ground.type		= Trip
air.type		= Trip
ground.slidetime	= 25
ground.hittime	= 25
air.hittime		= 25
yaccel		= 0.35
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall			= 1
fall.recover	= 0
id			= 738
getpower		= 0
givepower		= 50
palfx.time		= 40
palfx.mul		= 256,256,256
palfx.add		= 200,200,255
palfx.sinadd	= -100,-100,-155,40

[State 4001, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodyDist < -1)
movecamera = 0,0
value	= 0

[State 4001:	DestroySelf]
type			= DestroySelf
trigger1		= (animtime= 0) || (FrontEdgeBodyDist < -10) 
ignorehitpause	= 1

;------------------------------------------------------------------
;Helper esfera de Carga
[Statedef 4002]
type 			= A
movetype		= A
physics		= N
anim			= 7270
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 4002,0]
type = AfterImage
trigger1 = Time = 0
time = 200
trans = add
TimeGap  = 2
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 830, ELECTRICIDAD]
type			= Explod
trigger1		= time = 0
anim			= 7750
id			= 7750
pos			= 10,70
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 200
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 12
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 4002,1]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 4002:	DestroySelf]
type			= DestroySelf
trigger1		= time = 200
ignorehitpause	= 1

;------------------------------------------------------------------------
;helper Esfera de carga 2
[Statedef 4003]
type 			= A
movetype		= A
physics		= N
anim			= 7270
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3


[State 4003,AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 10
trans = add
TimeGap  = 2
FrameGap = 2
length = 10
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =   1,  1,  1


[State 830, ELECTRICIDAD]
type			= Explod
trigger1		= time = 0
anim			= 7750
id			= 7750
pos			= 10,70
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 10
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= 12
ontop			= 1
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 4003,AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 4003:	DestroySelf]
type			= DestroySelf
trigger1		= time = 10
ignorehitpause	= 1
;-----------------------------------------------------------------------
; Explosion!!
[Statedef 4500]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0,0
poweradd= -3000                     
anim = 4500

[State 4500,AssertSpecial] 
type 			= AssertSpecial
trigger1 		= 1
flag  		= NoMusic ;sin musica
flag2 		= NoBarDisplay; quitar barras de snergia

[State 4500,SuperPause]
type = SuperPause
trigger1 = AnimElem = 1
time = 20
movetime = 20
darken = 0
pos = 0,0
anim = S9999

[State 191, efecto suelo ]
type			= Explod
trigger1		= animelem = 1
anim			= 7590
id			= 7590
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
removetime		= 60
supermove		= 9999
supermovetime	= 9999
pausemovetime	= 9999
scale			= 1,1
sprpriority		= 26
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1

[State 191,Rocas]
type			= Explod
trigger1		= time = 20
anim			= 7650
id			= 7650
pos			= 0,0
postype		= p1
facing		= 1
vfacing		= 1
bindtime		= -1
vel			= 0,0
accel			= 0,0
random		= 0,0
supermove		= 0
supermovetime	= 0
pausemovetime	= 0
scale			= 1,1
sprpriority		= -5
ontop			= 0
shadow		= 0,0,0
ownpal		= 0
removeongethit	= 1


[State 3010, palfx]
type = BgPalfx
trigger1 = Time = 0
time = 260
color = 0

[State 7030:	BGPalFX]
type			=null; BGPalFX
trigger1		= ((Time > 20) && ((GameTime%30) = 0))
time			= 10
add			= 20,20,20
mul			= 256,256,256
sinadd		= 200,200,200,4
invertall		= 1
color			= 256

[State 7030:	EnvShake]
type			= EnvShake
trigger1 		= ((Time > 20) && ((GameTime%5) = 0))
time			= 5
freq			= 140
ampl			= -4
phase			= 90

[State 4500,0]; sonido carga
type = PlaySnd
trigger1 = Animelem = 1
value = 3000,0
         
[State 4500,1]; grito
type = PlaySnd
trigger1 = Animelem = 2
value = 830,0
volume = 255

[State 4500,2]; explosion
type = PlaySnd
trigger1 = Animelem = 2
value = 4500,0
volume = 255

[State 4500,0]; terremoto
type = PlaySnd
trigger1 = Animelem = 1
value = 830,3
channel		= 1

[State 4500:	StopSnd]; detener terremoto
type			= StopSnd
trigger1 =  stateno != 4500
channel		= 1

;-----------------------------------
[State 4500,0]; electricidad
type = PlaySnd
trigger1 = ((Time > 10) && ((GameTime%30) = 0))
value = 4500,2
channel		= 2


[State 4500:	StopSnd]; detener terremoto
type			= StopSnd
trigger1 =  stateno != 4500
channel		= 2
;---------------------------------------

[State 4500: humo central]
type = Explod
trigger1 = AnimElem = 2
anim = 7510
id = 7510
pos = 0,0
postype = p1
facing = 1
bindtime = 1
;removetime = -2
ontop = 1
shadow = 0,0,0
Scale = 1.0,1.0

[State 4500: humo izquierdo]
type = Explod
trigger1 = AnimElem = 2
anim = 7500
id = 7500
pos = -60,0
postype = p1
facing = -1
bindtime = 1
;removetime = -2
ontop = 1
shadow = 0,0,0
Scale = 1.0, 1.0


[State 4500: humo derecho]
type = Explod
trigger1 = AnimElem = 2
anim = 7500
id = 7500
pos = 60,0
postype = p1
facing = 1
bindtime = 1
;removetime = 
ontop = 1
shadow = 0,0,0
Scale = 1.0, 1.0

[State 4500,3]
type = Helper
trigger1 = ANIMELEM = 2
helpertype = normal
name = "esfera_de_aire"
id = 4500
pos = 0,-40
size.xscale = 2
size.yscale = 2
stateno = 4501
keyctrl = 1
ownpal = 1
   

[state 4500,allpalfx]
type = allpalfx
trigger1 = time = 80
time = 50
add = 0,0,0
sinadd = 255,255,255,90;60

[State 4500,4]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
;------------------------------------------------------
;Esfera_de_aire
[Statedef 4501]
type 			= A
movetype		= A
physics		= N
anim			= 7240
;velset		= 0,0
ctrl			= 0
poweradd		= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority		= 3

[State 4501]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 4501:	BGPalFX]
type			= BGPalFX
trigger1		= (MoveHit)
time			= 5
add			= 75,75,75
mul			= 256,256,256
sinadd		= 80,80,80,4
invertall		= 0
color			= 256
persistent		= 0
ignorehitpause	= 1


[State 4501: 	AfterImage]
type 			=NULL; AfterImage
trigger1 		= (!Time)
time 			= 50
framegap 		= 2
length 		    = 30
paladd 		    = 0, 0, 0
palmul 		    = .80, .80, .80
palcontrast 	= 100, 100, 100
trans 		    = add

[State 4501,3]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
flag2 = timerfreeze
ignorehitpause = 1

[State 4501, Hit Definition]
type = HitDef
trigger1 = time = 0 
attr = S,NA
hitflag = MAF
guardflag =MA 
animtype = Hard
air.animtype = Back
fall.animtype = Back
damage = 500,250
pausetime = 5,10
ground.type = high
ground.velocity = -20,-5
air.velocity = -20,-5
ground.slidetime =10
ground.hittime = 12
hitsound		= S4500,1 
guardsound		= S4500,1 
sparkxy = 0,-30
sparkno = -1
guard.sparkno = -1
fall =1

[State 3001:	DestroySelf]
type			= DestroySelf
trigger1		= animtime = 0
ignorehitpause	= 1

;===========================================================================


;------------------------------------------------------------------

;--------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]
;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
value = 3, 9
;------------------------------------------
[State -3, recivir golpe Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 5000 
value = 5000, 1

[State -3, recivir golpe Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 5070
value = 5000, 0

[State -3, hitrecover]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 5040
value = 5040, 0

;---------------------------------------
[State -3, saltar Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 40 ;Jump 
value = 40, 0
;-------------------------------------
[State -3, correr Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 100 ;correr
trigger2 = stateno = 105 ;correr
trigger3 = stateno = 60 ;correr
trigger4 = stateno = 65 ;correr
value = 100,0
;------------------------------------------
[State 40,humo]
type = Explod
triggerall = Time = 0
trigger1 = stateno = 40 ;Jump neutral
Anim = 7050
pos = 0,0
Id = 7050
velocity = 0,0
scale = 0.5,0.5
Postype = p1
sprpriority = 7
SuperMove = 1
ignorehitpause = 1

;Combo 2
;----------------------------------------------------------------
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 230 && (movecontact) && command = "y" 
value =  241


[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 241 && (movehit)  && command = "x" 
value =  290

;----------------------------------------------------------------
;combo 1
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 200 && (movecontact) && command = "b" 
trigger1  = Time > 6
trigger2 = stateno = 250 && (movecontact) && command = "b" 
value =  210

;puñetazo_b
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 210 && (movecontact) && command = "a" 
value =  201

;uppercut
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 201 && (movehit) && command = "b" 
trigger1  = Time > 6
value =  202

;garrotazo
[State -3]
type =ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 202 && (movehit) && command = "a" 
trigger1  = Time > 6
value =  203

;_---------------------------------------------------------------
;barrida combo
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 280 && (movehit) && command = "y" 
value =  202
;-------------------------------------------------------------------
"Elbow Smash combo"
[State -3]
type = ChangeState
triggerall = alive = 1 && statetype = S 
trigger1 = stateno = 1302 && (movehit) && command = "b" 
value =  202
;-------------------------------------------------------


